function Vy(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();function Ch(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function LE(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),r}var nd={exports:{}},vo={},sd={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function ME(){if(hg)return Ne;hg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=g&&R[g]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,F={};function _(R,z,K){this.props=R,this.context=z,this.refs=F,this.updater=K||b}_.prototype.isReactComponent={},_.prototype.setState=function(R,z){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,z,"setState")},_.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function j(){}j.prototype=_.prototype;function A(R,z,K){this.props=R,this.context=z,this.refs=F,this.updater=K||b}var S=A.prototype=new j;S.constructor=A,w(S,_.prototype),S.isPureReactComponent=!0;var T=Array.isArray,D=Object.prototype.hasOwnProperty,M={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function O(R,z,K){var Z,ue={},we=null,ye=null;if(z!=null)for(Z in z.ref!==void 0&&(ye=z.ref),z.key!==void 0&&(we=""+z.key),z)D.call(z,Z)&&!B.hasOwnProperty(Z)&&(ue[Z]=z[Z]);var ge=arguments.length-2;if(ge===1)ue.children=K;else if(1<ge){for(var Ce=Array(ge),We=0;We<ge;We++)Ce[We]=arguments[We+2];ue.children=Ce}if(R&&R.defaultProps)for(Z in ge=R.defaultProps,ge)ue[Z]===void 0&&(ue[Z]=ge[Z]);return{$$typeof:t,type:R,key:we,ref:ye,props:ue,_owner:M.current}}function X(R,z){return{$$typeof:t,type:R.type,key:z,ref:R.ref,props:R.props,_owner:R._owner}}function he(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function _e(R){var z={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(K){return z[K]})}var te=/\/+/g;function fe(R,z){return typeof R=="object"&&R!==null&&R.key!=null?_e(""+R.key):z.toString(36)}function pe(R,z,K,Z,ue){var we=typeof R;(we==="undefined"||we==="boolean")&&(R=null);var ye=!1;if(R===null)ye=!0;else switch(we){case"string":case"number":ye=!0;break;case"object":switch(R.$$typeof){case t:case e:ye=!0}}if(ye)return ye=R,ue=ue(ye),R=Z===""?"."+fe(ye,0):Z,T(ue)?(K="",R!=null&&(K=R.replace(te,"$&/")+"/"),pe(ue,z,K,"",function(We){return We})):ue!=null&&(he(ue)&&(ue=X(ue,K+(!ue.key||ye&&ye.key===ue.key?"":(""+ue.key).replace(te,"$&/")+"/")+R)),z.push(ue)),1;if(ye=0,Z=Z===""?".":Z+":",T(R))for(var ge=0;ge<R.length;ge++){we=R[ge];var Ce=Z+fe(we,ge);ye+=pe(we,z,K,Ce,ue)}else if(Ce=x(R),typeof Ce=="function")for(R=Ce.call(R),ge=0;!(we=R.next()).done;)we=we.value,Ce=Z+fe(we,ge++),ye+=pe(we,z,K,Ce,ue);else if(we==="object")throw z=String(R),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return ye}function Se(R,z,K){if(R==null)return R;var Z=[],ue=0;return pe(R,Z,"","",function(we){return z.call(K,we,ue++)}),Z}function Q(R){if(R._status===-1){var z=R._result;z=z(),z.then(function(K){(R._status===0||R._status===-1)&&(R._status=1,R._result=K)},function(K){(R._status===0||R._status===-1)&&(R._status=2,R._result=K)}),R._status===-1&&(R._status=0,R._result=z)}if(R._status===1)return R._result.default;throw R._result}var ee={current:null},V={transition:null},re={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:V,ReactCurrentOwner:M};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Se,forEach:function(R,z,K){Se(R,function(){z.apply(this,arguments)},K)},count:function(R){var z=0;return Se(R,function(){z++}),z},toArray:function(R){return Se(R,function(z){return z})||[]},only:function(R){if(!he(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ne.Component=_,Ne.Fragment=r,Ne.Profiler=o,Ne.PureComponent=A,Ne.StrictMode=s,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Ne.act=Y,Ne.cloneElement=function(R,z,K){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var Z=w({},R.props),ue=R.key,we=R.ref,ye=R._owner;if(z!=null){if(z.ref!==void 0&&(we=z.ref,ye=M.current),z.key!==void 0&&(ue=""+z.key),R.type&&R.type.defaultProps)var ge=R.type.defaultProps;for(Ce in z)D.call(z,Ce)&&!B.hasOwnProperty(Ce)&&(Z[Ce]=z[Ce]===void 0&&ge!==void 0?ge[Ce]:z[Ce])}var Ce=arguments.length-2;if(Ce===1)Z.children=K;else if(1<Ce){ge=Array(Ce);for(var We=0;We<Ce;We++)ge[We]=arguments[We+2];Z.children=ge}return{$$typeof:t,type:R.type,key:ue,ref:we,props:Z,_owner:ye}},Ne.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:a,_context:R},R.Consumer=R},Ne.createElement=O,Ne.createFactory=function(R){var z=O.bind(null,R);return z.type=R,z},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(R){return{$$typeof:d,render:R}},Ne.isValidElement=he,Ne.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:Q}},Ne.memo=function(R,z){return{$$typeof:p,type:R,compare:z===void 0?null:z}},Ne.startTransition=function(R){var z=V.transition;V.transition={};try{R()}finally{V.transition=z}},Ne.unstable_act=Y,Ne.useCallback=function(R,z){return ee.current.useCallback(R,z)},Ne.useContext=function(R){return ee.current.useContext(R)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(R){return ee.current.useDeferredValue(R)},Ne.useEffect=function(R,z){return ee.current.useEffect(R,z)},Ne.useId=function(){return ee.current.useId()},Ne.useImperativeHandle=function(R,z,K){return ee.current.useImperativeHandle(R,z,K)},Ne.useInsertionEffect=function(R,z){return ee.current.useInsertionEffect(R,z)},Ne.useLayoutEffect=function(R,z){return ee.current.useLayoutEffect(R,z)},Ne.useMemo=function(R,z){return ee.current.useMemo(R,z)},Ne.useReducer=function(R,z,K){return ee.current.useReducer(R,z,K)},Ne.useRef=function(R){return ee.current.useRef(R)},Ne.useState=function(R){return ee.current.useState(R)},Ne.useSyncExternalStore=function(R,z,K){return ee.current.useSyncExternalStore(R,z,K)},Ne.useTransition=function(){return ee.current.useTransition()},Ne.version="18.3.1",Ne}var fg;function Th(){return fg||(fg=1,sd.exports=ME()),sd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function $E(){if(pg)return vo;pg=1;var t=Th(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var y,g={},x=null,b=null;p!==void 0&&(x=""+p),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(b=f.ref);for(y in f)s.call(f,y)&&!a.hasOwnProperty(y)&&(g[y]=f[y]);if(d&&d.defaultProps)for(y in f=d.defaultProps,f)g[y]===void 0&&(g[y]=f[y]);return{$$typeof:e,type:d,key:x,ref:b,props:g,_owner:o.current}}return vo.Fragment=r,vo.jsx=u,vo.jsxs=u,vo}var mg;function VE(){return mg||(mg=1,nd.exports=$E()),nd.exports}var l=VE(),ul={},id={exports:{}},Vt={},od={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function BE(){return gg||(gg=1,(function(t){function e(V,re){var Y=V.length;V.push(re);e:for(;0<Y;){var R=Y-1>>>1,z=V[R];if(0<o(z,re))V[R]=re,V[Y]=z,Y=R;else break e}}function r(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var re=V[0],Y=V.pop();if(Y!==re){V[0]=Y;e:for(var R=0,z=V.length,K=z>>>1;R<K;){var Z=2*(R+1)-1,ue=V[Z],we=Z+1,ye=V[we];if(0>o(ue,Y))we<z&&0>o(ye,ue)?(V[R]=ye,V[we]=Y,R=we):(V[R]=ue,V[Z]=Y,R=Z);else if(we<z&&0>o(ye,Y))V[R]=ye,V[we]=Y,R=we;else break e}}return re}function o(V,re){var Y=V.sortIndex-re.sortIndex;return Y!==0?Y:V.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],y=1,g=null,x=3,b=!1,w=!1,F=!1,_=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var re=r(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=V)s(p),re.sortIndex=re.expirationTime,e(f,re);else break;re=r(p)}}function T(V){if(F=!1,S(V),!w)if(r(f)!==null)w=!0,Q(D);else{var re=r(p);re!==null&&ee(T,re.startTime-V)}}function D(V,re){w=!1,F&&(F=!1,j(O),O=-1),b=!0;var Y=x;try{for(S(re),g=r(f);g!==null&&(!(g.expirationTime>re)||V&&!_e());){var R=g.callback;if(typeof R=="function"){g.callback=null,x=g.priorityLevel;var z=R(g.expirationTime<=re);re=t.unstable_now(),typeof z=="function"?g.callback=z:g===r(f)&&s(f),S(re)}else s(f);g=r(f)}if(g!==null)var K=!0;else{var Z=r(p);Z!==null&&ee(T,Z.startTime-re),K=!1}return K}finally{g=null,x=Y,b=!1}}var M=!1,B=null,O=-1,X=5,he=-1;function _e(){return!(t.unstable_now()-he<X)}function te(){if(B!==null){var V=t.unstable_now();he=V;var re=!0;try{re=B(!0,V)}finally{re?fe():(M=!1,B=null)}}else M=!1}var fe;if(typeof A=="function")fe=function(){A(te)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Se=pe.port2;pe.port1.onmessage=te,fe=function(){Se.postMessage(null)}}else fe=function(){_(te,0)};function Q(V){B=V,M||(M=!0,fe())}function ee(V,re){O=_(function(){V(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){w||b||(w=!0,Q(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(V){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var Y=x;x=re;try{return V()}finally{x=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,re){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=x;x=V;try{return re()}finally{x=Y}},t.unstable_scheduleCallback=function(V,re,Y){var R=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?R+Y:R):Y=R,V){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Y+z,V={id:y++,callback:re,priorityLevel:V,startTime:Y,expirationTime:z,sortIndex:-1},Y>R?(V.sortIndex=Y,e(p,V),r(f)===null&&V===r(p)&&(F?(j(O),O=-1):F=!0,ee(T,Y-R))):(V.sortIndex=z,e(f,V),w||b||(w=!0,Q(D))),V},t.unstable_shouldYield=_e,t.unstable_wrapCallback=function(V){var re=x;return function(){var Y=x;x=re;try{return V.apply(this,arguments)}finally{x=Y}}}})(ad)),ad}var yg;function UE(){return yg||(yg=1,od.exports=BE()),od.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function zE(){if(vg)return Vt;vg=1;var t=Th(),e=UE();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function x(n){return f.call(g,n)?!0:f.call(y,n)?!1:p.test(n)?g[n]=!0:(y[n]=!0,!1)}function b(n,i,c,h){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function w(n,i,c,h){if(i===null||typeof i>"u"||b(n,i,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function F(n,i,c,h,m,v,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=n,this.type=i,this.sanitizeURL=v,this.removeEmptyString=E}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){_[n]=new F(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];_[i]=new F(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){_[n]=new F(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){_[n]=new F(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){_[n]=new F(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){_[n]=new F(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){_[n]=new F(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){_[n]=new F(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){_[n]=new F(n,5,!1,n.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function A(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(j,A);_[i]=new F(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(j,A);_[i]=new F(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(j,A);_[i]=new F(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){_[n]=new F(n,1,!1,n.toLowerCase(),null,!1,!1)}),_.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){_[n]=new F(n,1,!1,n.toLowerCase(),null,!0,!0)});function S(n,i,c,h){var m=_.hasOwnProperty(i)?_[i]:null;(m!==null?m.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(w(i,c,m,h)&&(c=null),h||m===null?x(i)&&(c===null?n.removeAttribute(i):n.setAttribute(i,""+c)):m.mustUseProperty?n[m.propertyName]=c===null?m.type===3?!1:"":c:(i=m.attributeName,h=m.attributeNamespace,c===null?n.removeAttribute(i):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?n.setAttributeNS(h,i,c):n.setAttribute(i,c))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),M=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),he=Symbol.for("react.provider"),_e=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),V=Symbol.iterator;function re(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var Y=Object.assign,R;function z(n){if(R===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);R=i&&i[1]||""}return`
`+R+n}var K=!1;function Z(n,i){if(!n||K)return"";K=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var h=$}Reflect.construct(n,[],i)}else{try{i.call()}catch($){h=$}n.call(i.prototype)}else{try{throw Error()}catch($){h=$}n()}}catch($){if($&&h&&typeof $.stack=="string"){for(var m=$.stack.split(`
`),v=h.stack.split(`
`),E=m.length-1,N=v.length-1;1<=E&&0<=N&&m[E]!==v[N];)N--;for(;1<=E&&0<=N;E--,N--)if(m[E]!==v[N]){if(E!==1||N!==1)do if(E--,N--,0>N||m[E]!==v[N]){var C=`
`+m[E].replace(" at new "," at ");return n.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",n.displayName)),C}while(1<=E&&0<=N);break}}}finally{K=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?z(n):""}function ue(n){switch(n.tag){case 5:return z(n.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return n=Z(n.type,!1),n;case 11:return n=Z(n.type.render,!1),n;case 1:return n=Z(n.type,!0),n;default:return""}}function we(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case M:return"Portal";case X:return"Profiler";case O:return"StrictMode";case fe:return"Suspense";case pe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case _e:return(n.displayName||"Context")+".Consumer";case he:return(n._context.displayName||"Context")+".Provider";case te:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Se:return i=n.displayName||null,i!==null?i:we(n.type)||"Memo";case Q:i=n._payload,n=n._init;try{return we(n(i))}catch{}}return null}function ye(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(i);case 8:return i===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ge(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ce(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function We(n){var i=Ce(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),h=""+n[i];if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,v=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(E){h=""+E,v.call(this,E)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ht(n){n._valueTracker||(n._valueTracker=We(n))}function Ot(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),h="";return n&&(h=Ce(n)?n.checked?"true":"false":n.value),n=h,n!==c?(i.setValue(n),!0):!1}function js(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function qn(n,i){var c=i.checked;return Y({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function Zo(n,i){var c=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;c=ge(i.value!=null?i.value:c),n._wrapperState={initialChecked:h,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ti(n,i){i=i.checked,i!=null&&S(n,"checked",i,!1)}function Ur(n,i){Ti(n,i);var c=ge(i.value),h=i.type;if(c!=null)h==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Kt(n,i.type,c):i.hasOwnProperty("defaultValue")&&Kt(n,i.type,ge(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Pi(n,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,c||i===n.value||(n.value=i),n.defaultValue=i}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function Kt(n,i,c){(i!=="number"||js(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var Hn=Array.isArray;function sn(n,i,c,h){if(n=n.options,i){i={};for(var m=0;m<c.length;m++)i["$"+c[m]]=!0;for(c=0;c<n.length;c++)m=i.hasOwnProperty("$"+n[c].value),n[c].selected!==m&&(n[c].selected=m),m&&h&&(n[c].defaultSelected=!0)}else{for(c=""+ge(c),i=null,m=0;m<n.length;m++){if(n[m].value===c){n[m].selected=!0,h&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function gt(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function zr(n,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(r(92));if(Hn(c)){if(1<c.length)throw Error(r(93));c=c[0]}i=c}i==null&&(i=""),c=i}n._wrapperState={initialValue:ge(c)}}function ea(n,i){var c=ge(i.value),h=ge(i.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),i.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),h!=null&&(n.defaultValue=""+h)}function ta(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Kn(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ri(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Kn(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Gn,Ss=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,h,m){MSApp.execUnsafeLocalFunction(function(){return n(i,c,h,m)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Gn=Gn||document.createElement("div"),Gn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Gn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function nr(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var on={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},an=["Webkit","ms","Moz","O"];Object.keys(on).forEach(function(n){an.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),on[i]=on[n]})});function ra(n,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||on.hasOwnProperty(n)&&on[n]?(""+i).trim():i+"px"}function na(n,i){n=n.style;for(var c in i)if(i.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=ra(c,i[c],h);c==="float"&&(c="cssFloat"),h?n.setProperty(c,m):n[c]=m}}var sa=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function As(n,i){if(i){if(sa[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Oi(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yn=null;function sr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Di=null,ln=null,Wr=null;function Ii(n){if(n=ro(n)){if(typeof Di!="function")throw Error(r(280));var i=n.stateNode;i&&(i=ka(i),Di(n.stateNode,n.type,i))}}function ke(n){ln?Wr?Wr.push(n):Wr=[n]:ln=n}function Je(){if(ln){var n=ln,i=Wr;if(Wr=ln=null,Ii(n),i)for(n=0;n<i.length;n++)Ii(i[n])}}function at(n,i){return n(i)}function Et(){}var cn=!1;function tt(n,i,c){if(cn)return n(i,c);cn=!0;try{return at(n,i,c)}finally{cn=!1,(ln!==null||Wr!==null)&&(Et(),Je())}}function ht(n,i){var c=n.stateNode;if(c===null)return null;var h=ka(c);if(h===null)return null;c=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(r(231,i,typeof c));return c}var un=!1;if(d)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){un=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{un=!1}function Gt(n,i,c,h,m,v,E,N,C){var $=Array.prototype.slice.call(arguments,3);try{i.apply(c,$)}catch(q){this.onError(q)}}var dn=!1,ir=null,Li=!1,Ec=null,Ww={onError:function(n){dn=!0,ir=n}};function qw(n,i,c,h,m,v,E,N,C){dn=!1,ir=null,Gt.apply(Ww,arguments)}function Hw(n,i,c,h,m,v,E,N,C){if(qw.apply(this,arguments),dn){if(dn){var $=ir;dn=!1,ir=null}else throw Error(r(198));Li||(Li=!0,Ec=$)}}function Xn(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function Df(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function If(n){if(Xn(n)!==n)throw Error(r(188))}function Kw(n){var i=n.alternate;if(!i){if(i=Xn(n),i===null)throw Error(r(188));return i!==n?null:n}for(var c=n,h=i;;){var m=c.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===c)return If(m),n;if(v===h)return If(m),i;v=v.sibling}throw Error(r(188))}if(c.return!==h.return)c=m,h=v;else{for(var E=!1,N=m.child;N;){if(N===c){E=!0,c=m,h=v;break}if(N===h){E=!0,h=m,c=v;break}N=N.sibling}if(!E){for(N=v.child;N;){if(N===c){E=!0,c=v,h=m;break}if(N===h){E=!0,h=v,c=m;break}N=N.sibling}if(!E)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?n:i}function Lf(n){return n=Kw(n),n!==null?Mf(n):null}function Mf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Mf(n);if(i!==null)return i;n=n.sibling}return null}var $f=e.unstable_scheduleCallback,Vf=e.unstable_cancelCallback,Gw=e.unstable_shouldYield,Yw=e.unstable_requestPaint,Qe=e.unstable_now,Xw=e.unstable_getCurrentPriorityLevel,Fc=e.unstable_ImmediatePriority,Bf=e.unstable_UserBlockingPriority,ia=e.unstable_NormalPriority,Jw=e.unstable_LowPriority,Uf=e.unstable_IdlePriority,oa=null,Tr=null;function Qw(n){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(oa,n,void 0,(n.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:t1,Zw=Math.log,e1=Math.LN2;function t1(n){return n>>>=0,n===0?32:31-(Zw(n)/e1|0)|0}var aa=64,la=4194304;function Mi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ca(n,i){var c=n.pendingLanes;if(c===0)return 0;var h=0,m=n.suspendedLanes,v=n.pingedLanes,E=c&268435455;if(E!==0){var N=E&~m;N!==0?h=Mi(N):(v&=E,v!==0&&(h=Mi(v)))}else E=c&~m,E!==0?h=Mi(E):v!==0&&(h=Mi(v));if(h===0)return 0;if(i!==0&&i!==h&&(i&m)===0&&(m=h&-h,v=i&-i,m>=v||m===16&&(v&4194240)!==0))return i;if((h&4)!==0&&(h|=c&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=h;0<i;)c=31-xr(i),m=1<<c,h|=n[c],i&=~m;return h}function r1(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n1(n,i){for(var c=n.suspendedLanes,h=n.pingedLanes,m=n.expirationTimes,v=n.pendingLanes;0<v;){var E=31-xr(v),N=1<<E,C=m[E];C===-1?((N&c)===0||(N&h)!==0)&&(m[E]=r1(N,i)):C<=i&&(n.expiredLanes|=N),v&=~N}}function _c(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function zf(){var n=aa;return aa<<=1,(aa&4194240)===0&&(aa=64),n}function kc(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function $i(n,i,c){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-xr(i),n[i]=c}function s1(n,i){var c=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<c;){var m=31-xr(c),v=1<<m;i[m]=0,h[m]=-1,n[m]=-1,c&=~v}}function jc(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var h=31-xr(c),m=1<<h;m&i|n[h]&i&&(n[h]|=i),c&=~m}}var De=0;function Wf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var qf,Sc,Hf,Kf,Gf,Ac=!1,ua=[],hn=null,fn=null,pn=null,Vi=new Map,Bi=new Map,mn=[],i1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yf(n,i){switch(n){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Vi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(i.pointerId)}}function Ui(n,i,c,h,m,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:c,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},i!==null&&(i=ro(i),i!==null&&Sc(i)),n):(n.eventSystemFlags|=h,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function o1(n,i,c,h,m){switch(i){case"focusin":return hn=Ui(hn,n,i,c,h,m),!0;case"dragenter":return fn=Ui(fn,n,i,c,h,m),!0;case"mouseover":return pn=Ui(pn,n,i,c,h,m),!0;case"pointerover":var v=m.pointerId;return Vi.set(v,Ui(Vi.get(v)||null,n,i,c,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Bi.set(v,Ui(Bi.get(v)||null,n,i,c,h,m)),!0}return!1}function Xf(n){var i=Jn(n.target);if(i!==null){var c=Xn(i);if(c!==null){if(i=c.tag,i===13){if(i=Df(c),i!==null){n.blockedOn=i,Gf(n.priority,function(){Hf(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function da(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=Cc(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var h=new c.constructor(c.type,c);Yn=h,c.target.dispatchEvent(h),Yn=null}else return i=ro(c),i!==null&&Sc(i),n.blockedOn=c,!1;i.shift()}return!0}function Jf(n,i,c){da(n)&&c.delete(i)}function a1(){Ac=!1,hn!==null&&da(hn)&&(hn=null),fn!==null&&da(fn)&&(fn=null),pn!==null&&da(pn)&&(pn=null),Vi.forEach(Jf),Bi.forEach(Jf)}function zi(n,i){n.blockedOn===i&&(n.blockedOn=null,Ac||(Ac=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,a1)))}function Wi(n){function i(m){return zi(m,n)}if(0<ua.length){zi(ua[0],n);for(var c=1;c<ua.length;c++){var h=ua[c];h.blockedOn===n&&(h.blockedOn=null)}}for(hn!==null&&zi(hn,n),fn!==null&&zi(fn,n),pn!==null&&zi(pn,n),Vi.forEach(i),Bi.forEach(i),c=0;c<mn.length;c++)h=mn[c],h.blockedOn===n&&(h.blockedOn=null);for(;0<mn.length&&(c=mn[0],c.blockedOn===null);)Xf(c),c.blockedOn===null&&mn.shift()}var Ns=T.ReactCurrentBatchConfig,ha=!0;function l1(n,i,c,h){var m=De,v=Ns.transition;Ns.transition=null;try{De=1,Nc(n,i,c,h)}finally{De=m,Ns.transition=v}}function c1(n,i,c,h){var m=De,v=Ns.transition;Ns.transition=null;try{De=4,Nc(n,i,c,h)}finally{De=m,Ns.transition=v}}function Nc(n,i,c,h){if(ha){var m=Cc(n,i,c,h);if(m===null)Kc(n,i,h,fa,c),Yf(n,h);else if(o1(m,n,i,c,h))h.stopPropagation();else if(Yf(n,h),i&4&&-1<i1.indexOf(n)){for(;m!==null;){var v=ro(m);if(v!==null&&qf(v),v=Cc(n,i,c,h),v===null&&Kc(n,i,h,fa,c),v===m)break;m=v}m!==null&&h.stopPropagation()}else Kc(n,i,h,null,c)}}var fa=null;function Cc(n,i,c,h){if(fa=null,n=sr(h),n=Jn(n),n!==null)if(i=Xn(n),i===null)n=null;else if(c=i.tag,c===13){if(n=Df(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return fa=n,null}function Qf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xw()){case Fc:return 1;case Bf:return 4;case ia:case Jw:return 16;case Uf:return 536870912;default:return 16}default:return 16}}var gn=null,Tc=null,pa=null;function Zf(){if(pa)return pa;var n,i=Tc,c=i.length,h,m="value"in gn?gn.value:gn.textContent,v=m.length;for(n=0;n<c&&i[n]===m[n];n++);var E=c-n;for(h=1;h<=E&&i[c-h]===m[v-h];h++);return pa=m.slice(n,1<h?1-h:void 0)}function ma(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ga(){return!0}function ep(){return!1}function Yt(n){function i(c,h,m,v,E){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(c=n[N],this[N]=c?c(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ga:ep,this.isPropagationStopped=ep,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ga)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ga)},persist:function(){},isPersistent:ga}),i}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pc=Yt(Cs),qi=Y({},Cs,{view:0,detail:0}),u1=Yt(qi),Rc,Oc,Hi,ya=Y({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ic,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Hi&&(Hi&&n.type==="mousemove"?(Rc=n.screenX-Hi.screenX,Oc=n.screenY-Hi.screenY):Oc=Rc=0,Hi=n),Rc)},movementY:function(n){return"movementY"in n?n.movementY:Oc}}),tp=Yt(ya),d1=Y({},ya,{dataTransfer:0}),h1=Yt(d1),f1=Y({},qi,{relatedTarget:0}),Dc=Yt(f1),p1=Y({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),m1=Yt(p1),g1=Y({},Cs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),y1=Yt(g1),v1=Y({},Cs,{data:0}),rp=Yt(v1),x1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E1(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=w1[n])?!!i[n]:!1}function Ic(){return E1}var F1=Y({},qi,{key:function(n){if(n.key){var i=x1[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ma(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?b1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ic,charCode:function(n){return n.type==="keypress"?ma(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ma(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_1=Yt(F1),k1=Y({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),np=Yt(k1),j1=Y({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ic}),S1=Yt(j1),A1=Y({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),N1=Yt(A1),C1=Y({},ya,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),T1=Yt(C1),P1=[9,13,27,32],Lc=d&&"CompositionEvent"in window,Ki=null;d&&"documentMode"in document&&(Ki=document.documentMode);var R1=d&&"TextEvent"in window&&!Ki,sp=d&&(!Lc||Ki&&8<Ki&&11>=Ki),ip=" ",op=!1;function ap(n,i){switch(n){case"keyup":return P1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ts=!1;function O1(n,i){switch(n){case"compositionend":return lp(i);case"keypress":return i.which!==32?null:(op=!0,ip);case"textInput":return n=i.data,n===ip&&op?null:n;default:return null}}function D1(n,i){if(Ts)return n==="compositionend"||!Lc&&ap(n,i)?(n=Zf(),pa=Tc=gn=null,Ts=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return sp&&i.locale!=="ko"?null:i.data;default:return null}}var I1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!I1[n.type]:i==="textarea"}function up(n,i,c,h){ke(h),i=Ea(i,"onChange"),0<i.length&&(c=new Pc("onChange","change",null,c,h),n.push({event:c,listeners:i}))}var Gi=null,Yi=null;function L1(n){Ap(n,0)}function va(n){var i=Is(n);if(Ot(i))return n}function M1(n,i){if(n==="change")return i}var dp=!1;if(d){var Mc;if(d){var $c="oninput"in document;if(!$c){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),$c=typeof hp.oninput=="function"}Mc=$c}else Mc=!1;dp=Mc&&(!document.documentMode||9<document.documentMode)}function fp(){Gi&&(Gi.detachEvent("onpropertychange",pp),Yi=Gi=null)}function pp(n){if(n.propertyName==="value"&&va(Yi)){var i=[];up(i,Yi,n,sr(n)),tt(L1,i)}}function $1(n,i,c){n==="focusin"?(fp(),Gi=i,Yi=c,Gi.attachEvent("onpropertychange",pp)):n==="focusout"&&fp()}function V1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return va(Yi)}function B1(n,i){if(n==="click")return va(i)}function U1(n,i){if(n==="input"||n==="change")return va(i)}function z1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var br=typeof Object.is=="function"?Object.is:z1;function Xi(n,i){if(br(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),h=Object.keys(i);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!f.call(i,m)||!br(n[m],i[m]))return!1}return!0}function mp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gp(n,i){var c=mp(n);n=0;for(var h;c;){if(c.nodeType===3){if(h=n+c.textContent.length,n<=i&&h>=i)return{node:c,offset:i-n};n=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=mp(c)}}function yp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?yp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function vp(){for(var n=window,i=js();i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=js(n.document)}return i}function Vc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function W1(n){var i=vp(),c=n.focusedElem,h=n.selectionRange;if(i!==c&&c&&c.ownerDocument&&yp(c.ownerDocument.documentElement,c)){if(h!==null&&Vc(c)){if(i=h.start,n=h.end,n===void 0&&(n=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(n,c.value.length);else if(n=(i=c.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var m=c.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!n.extend&&v>h&&(m=h,h=v,v=m),m=gp(c,v);var E=gp(c,h);m&&E&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),n.removeAllRanges(),v>h?(n.addRange(i),n.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),n.addRange(i)))}}for(i=[],n=c;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)n=i[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var q1=d&&"documentMode"in document&&11>=document.documentMode,Ps=null,Bc=null,Ji=null,Uc=!1;function xp(n,i,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Uc||Ps==null||Ps!==js(h)||(h=Ps,"selectionStart"in h&&Vc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ji&&Xi(Ji,h)||(Ji=h,h=Ea(Bc,"onSelect"),0<h.length&&(i=new Pc("onSelect","select",null,i,c),n.push({event:i,listeners:h}),i.target=Ps)))}function xa(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Rs={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},zc={},bp={};d&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function ba(n){if(zc[n])return zc[n];if(!Rs[n])return n;var i=Rs[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in bp)return zc[n]=i[c];return n}var wp=ba("animationend"),Ep=ba("animationiteration"),Fp=ba("animationstart"),_p=ba("transitionend"),kp=new Map,jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(n,i){kp.set(n,i),a(i,[n])}for(var Wc=0;Wc<jp.length;Wc++){var qc=jp[Wc],H1=qc.toLowerCase(),K1=qc[0].toUpperCase()+qc.slice(1);yn(H1,"on"+K1)}yn(wp,"onAnimationEnd"),yn(Ep,"onAnimationIteration"),yn(Fp,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(_p,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function Sp(n,i,c){var h=n.type||"unknown-event";n.currentTarget=c,Hw(h,i,void 0,n),n.currentTarget=null}function Ap(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var h=n[c],m=h.event;h=h.listeners;e:{var v=void 0;if(i)for(var E=h.length-1;0<=E;E--){var N=h[E],C=N.instance,$=N.currentTarget;if(N=N.listener,C!==v&&m.isPropagationStopped())break e;Sp(m,N,$),v=C}else for(E=0;E<h.length;E++){if(N=h[E],C=N.instance,$=N.currentTarget,N=N.listener,C!==v&&m.isPropagationStopped())break e;Sp(m,N,$),v=C}}}if(Li)throw n=Ec,Li=!1,Ec=null,n}function Ve(n,i){var c=i[Zc];c===void 0&&(c=i[Zc]=new Set);var h=n+"__bubble";c.has(h)||(Np(i,n,2,!1),c.add(h))}function Hc(n,i,c){var h=0;i&&(h|=4),Np(c,n,h,i)}var wa="_reactListening"+Math.random().toString(36).slice(2);function Zi(n){if(!n[wa]){n[wa]=!0,s.forEach(function(c){c!=="selectionchange"&&(G1.has(c)||Hc(c,!1,n),Hc(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[wa]||(i[wa]=!0,Hc("selectionchange",!1,i))}}function Np(n,i,c,h){switch(Qf(i)){case 1:var m=l1;break;case 4:m=c1;break;default:m=Nc}c=m.bind(null,i,c,n),m=void 0,!un||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),h?m!==void 0?n.addEventListener(i,c,{capture:!0,passive:m}):n.addEventListener(i,c,!0):m!==void 0?n.addEventListener(i,c,{passive:m}):n.addEventListener(i,c,!1)}function Kc(n,i,c,h,m){var v=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var N=h.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(E===4)for(E=h.return;E!==null;){var C=E.tag;if((C===3||C===4)&&(C=E.stateNode.containerInfo,C===m||C.nodeType===8&&C.parentNode===m))return;E=E.return}for(;N!==null;){if(E=Jn(N),E===null)return;if(C=E.tag,C===5||C===6){h=v=E;continue e}N=N.parentNode}}h=h.return}tt(function(){var $=v,q=sr(c),H=[];e:{var W=kp.get(n);if(W!==void 0){var ne=Pc,oe=n;switch(n){case"keypress":if(ma(c)===0)break e;case"keydown":case"keyup":ne=_1;break;case"focusin":oe="focus",ne=Dc;break;case"focusout":oe="blur",ne=Dc;break;case"beforeblur":case"afterblur":ne=Dc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=h1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=S1;break;case wp:case Ep:case Fp:ne=m1;break;case _p:ne=N1;break;case"scroll":ne=u1;break;case"wheel":ne=T1;break;case"copy":case"cut":case"paste":ne=y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=np}var ce=(i&4)!==0,Ze=!ce&&n==="scroll",I=ce?W!==null?W+"Capture":null:W;ce=[];for(var P=$,L;P!==null;){L=P;var G=L.stateNode;if(L.tag===5&&G!==null&&(L=G,I!==null&&(G=ht(P,I),G!=null&&ce.push(eo(P,G,L)))),Ze)break;P=P.return}0<ce.length&&(W=new ne(W,oe,null,c,q),H.push({event:W,listeners:ce}))}}if((i&7)===0){e:{if(W=n==="mouseover"||n==="pointerover",ne=n==="mouseout"||n==="pointerout",W&&c!==Yn&&(oe=c.relatedTarget||c.fromElement)&&(Jn(oe)||oe[qr]))break e;if((ne||W)&&(W=q.window===q?q:(W=q.ownerDocument)?W.defaultView||W.parentWindow:window,ne?(oe=c.relatedTarget||c.toElement,ne=$,oe=oe?Jn(oe):null,oe!==null&&(Ze=Xn(oe),oe!==Ze||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(ne=null,oe=$),ne!==oe)){if(ce=tp,G="onMouseLeave",I="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(ce=np,G="onPointerLeave",I="onPointerEnter",P="pointer"),Ze=ne==null?W:Is(ne),L=oe==null?W:Is(oe),W=new ce(G,P+"leave",ne,c,q),W.target=Ze,W.relatedTarget=L,G=null,Jn(q)===$&&(ce=new ce(I,P+"enter",oe,c,q),ce.target=L,ce.relatedTarget=Ze,G=ce),Ze=G,ne&&oe)t:{for(ce=ne,I=oe,P=0,L=ce;L;L=Os(L))P++;for(L=0,G=I;G;G=Os(G))L++;for(;0<P-L;)ce=Os(ce),P--;for(;0<L-P;)I=Os(I),L--;for(;P--;){if(ce===I||I!==null&&ce===I.alternate)break t;ce=Os(ce),I=Os(I)}ce=null}else ce=null;ne!==null&&Cp(H,W,ne,ce,!1),oe!==null&&Ze!==null&&Cp(H,Ze,oe,ce,!0)}}e:{if(W=$?Is($):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var de=M1;else if(cp(W))if(dp)de=U1;else{de=V1;var ve=$1}else(ne=W.nodeName)&&ne.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(de=B1);if(de&&(de=de(n,$))){up(H,de,c,q);break e}ve&&ve(n,W,$),n==="focusout"&&(ve=W._wrapperState)&&ve.controlled&&W.type==="number"&&Kt(W,"number",W.value)}switch(ve=$?Is($):window,n){case"focusin":(cp(ve)||ve.contentEditable==="true")&&(Ps=ve,Bc=$,Ji=null);break;case"focusout":Ji=Bc=Ps=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,xp(H,c,q);break;case"selectionchange":if(q1)break;case"keydown":case"keyup":xp(H,c,q)}var xe;if(Lc)e:{switch(n){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ts?ap(n,c)&&(Fe="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(Fe="onCompositionStart");Fe&&(sp&&c.locale!=="ko"&&(Ts||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ts&&(xe=Zf()):(gn=q,Tc="value"in gn?gn.value:gn.textContent,Ts=!0)),ve=Ea($,Fe),0<ve.length&&(Fe=new rp(Fe,n,null,c,q),H.push({event:Fe,listeners:ve}),xe?Fe.data=xe:(xe=lp(c),xe!==null&&(Fe.data=xe)))),(xe=R1?O1(n,c):D1(n,c))&&($=Ea($,"onBeforeInput"),0<$.length&&(q=new rp("onBeforeInput","beforeinput",null,c,q),H.push({event:q,listeners:$}),q.data=xe))}Ap(H,i)})}function eo(n,i,c){return{instance:n,listener:i,currentTarget:c}}function Ea(n,i){for(var c=i+"Capture",h=[];n!==null;){var m=n,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=ht(n,c),v!=null&&h.unshift(eo(n,v,m)),v=ht(n,i),v!=null&&h.push(eo(n,v,m))),n=n.return}return h}function Os(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Cp(n,i,c,h,m){for(var v=i._reactName,E=[];c!==null&&c!==h;){var N=c,C=N.alternate,$=N.stateNode;if(C!==null&&C===h)break;N.tag===5&&$!==null&&(N=$,m?(C=ht(c,v),C!=null&&E.unshift(eo(c,C,N))):m||(C=ht(c,v),C!=null&&E.push(eo(c,C,N)))),c=c.return}E.length!==0&&n.push({event:i,listeners:E})}var Y1=/\r\n?/g,X1=/\u0000|\uFFFD/g;function Tp(n){return(typeof n=="string"?n:""+n).replace(Y1,`
`).replace(X1,"")}function Fa(n,i,c){if(i=Tp(i),Tp(n)!==i&&c)throw Error(r(425))}function _a(){}var Gc=null,Yc=null;function Xc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jc=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,Q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(n){return Pp.resolve(null).then(n).catch(Z1)}:Jc;function Z1(n){setTimeout(function(){throw n})}function Qc(n,i){var c=i,h=0;do{var m=c.nextSibling;if(n.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){n.removeChild(m),Wi(i);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);Wi(i)}function vn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Rp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}var Ds=Math.random().toString(36).slice(2),Pr="__reactFiber$"+Ds,to="__reactProps$"+Ds,qr="__reactContainer$"+Ds,Zc="__reactEvents$"+Ds,eE="__reactListeners$"+Ds,tE="__reactHandles$"+Ds;function Jn(n){var i=n[Pr];if(i)return i;for(var c=n.parentNode;c;){if(i=c[qr]||c[Pr]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=Rp(n);n!==null;){if(c=n[Pr])return c;n=Rp(n)}return i}n=c,c=n.parentNode}return null}function ro(n){return n=n[Pr]||n[qr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Is(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function ka(n){return n[to]||null}var eu=[],Ls=-1;function xn(n){return{current:n}}function Be(n){0>Ls||(n.current=eu[Ls],eu[Ls]=null,Ls--)}function Me(n,i){Ls++,eu[Ls]=n.current,n.current=i}var bn={},Ft=xn(bn),Dt=xn(!1),Qn=bn;function Ms(n,i){var c=n.type.contextTypes;if(!c)return bn;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in c)m[v]=i[v];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=m),m}function It(n){return n=n.childContextTypes,n!=null}function ja(){Be(Dt),Be(Ft)}function Op(n,i,c){if(Ft.current!==bn)throw Error(r(168));Me(Ft,i),Me(Dt,c)}function Dp(n,i,c){var h=n.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in i))throw Error(r(108,ye(n)||"Unknown",m));return Y({},c,h)}function Sa(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||bn,Qn=Ft.current,Me(Ft,n),Me(Dt,Dt.current),!0}function Ip(n,i,c){var h=n.stateNode;if(!h)throw Error(r(169));c?(n=Dp(n,i,Qn),h.__reactInternalMemoizedMergedChildContext=n,Be(Dt),Be(Ft),Me(Ft,n)):Be(Dt),Me(Dt,c)}var Hr=null,Aa=!1,tu=!1;function Lp(n){Hr===null?Hr=[n]:Hr.push(n)}function rE(n){Aa=!0,Lp(n)}function wn(){if(!tu&&Hr!==null){tu=!0;var n=0,i=De;try{var c=Hr;for(De=1;n<c.length;n++){var h=c[n];do h=h(!0);while(h!==null)}Hr=null,Aa=!1}catch(m){throw Hr!==null&&(Hr=Hr.slice(n+1)),$f(Fc,wn),m}finally{De=i,tu=!1}}return null}var $s=[],Vs=0,Na=null,Ca=0,or=[],ar=0,Zn=null,Kr=1,Gr="";function es(n,i){$s[Vs++]=Ca,$s[Vs++]=Na,Na=n,Ca=i}function Mp(n,i,c){or[ar++]=Kr,or[ar++]=Gr,or[ar++]=Zn,Zn=n;var h=Kr;n=Gr;var m=32-xr(h)-1;h&=~(1<<m),c+=1;var v=32-xr(i)+m;if(30<v){var E=m-m%5;v=(h&(1<<E)-1).toString(32),h>>=E,m-=E,Kr=1<<32-xr(i)+m|c<<m|h,Gr=v+n}else Kr=1<<v|c<<m|h,Gr=n}function ru(n){n.return!==null&&(es(n,1),Mp(n,1,0))}function nu(n){for(;n===Na;)Na=$s[--Vs],$s[Vs]=null,Ca=$s[--Vs],$s[Vs]=null;for(;n===Zn;)Zn=or[--ar],or[ar]=null,Gr=or[--ar],or[ar]=null,Kr=or[--ar],or[ar]=null}var Xt=null,Jt=null,Ue=!1,wr=null;function $p(n,i){var c=dr(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=n,i=n.deletions,i===null?(n.deletions=[c],n.flags|=16):i.push(c)}function Vp(n,i){switch(n.tag){case 5:var c=n.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Xt=n,Jt=vn(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Xt=n,Jt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Zn!==null?{id:Kr,overflow:Gr}:null,n.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=dr(18,null,null,0),c.stateNode=i,c.return=n,n.child=c,Xt=n,Jt=null,!0):!1;default:return!1}}function su(n){return(n.mode&1)!==0&&(n.flags&128)===0}function iu(n){if(Ue){var i=Jt;if(i){var c=i;if(!Vp(n,i)){if(su(n))throw Error(r(418));i=vn(c.nextSibling);var h=Xt;i&&Vp(n,i)?$p(h,c):(n.flags=n.flags&-4097|2,Ue=!1,Xt=n)}}else{if(su(n))throw Error(r(418));n.flags=n.flags&-4097|2,Ue=!1,Xt=n}}}function Bp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Xt=n}function Ta(n){if(n!==Xt)return!1;if(!Ue)return Bp(n),Ue=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Xc(n.type,n.memoizedProps)),i&&(i=Jt)){if(su(n))throw Up(),Error(r(418));for(;i;)$p(n,i),i=vn(i.nextSibling)}if(Bp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(i===0){Jt=vn(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}n=n.nextSibling}Jt=null}}else Jt=Xt?vn(n.stateNode.nextSibling):null;return!0}function Up(){for(var n=Jt;n;)n=vn(n.nextSibling)}function Bs(){Jt=Xt=null,Ue=!1}function ou(n){wr===null?wr=[n]:wr.push(n)}var nE=T.ReactCurrentBatchConfig;function no(n,i,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var h=c.stateNode}if(!h)throw Error(r(147,n));var m=h,v=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(E){var N=m.refs;E===null?delete N[v]:N[v]=E},i._stringRef=v,i)}if(typeof n!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,n))}return n}function Pa(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function zp(n){var i=n._init;return i(n._payload)}function Wp(n){function i(I,P){if(n){var L=I.deletions;L===null?(I.deletions=[P],I.flags|=16):L.push(P)}}function c(I,P){if(!n)return null;for(;P!==null;)i(I,P),P=P.sibling;return null}function h(I,P){for(I=new Map;P!==null;)P.key!==null?I.set(P.key,P):I.set(P.index,P),P=P.sibling;return I}function m(I,P){return I=Nn(I,P),I.index=0,I.sibling=null,I}function v(I,P,L){return I.index=L,n?(L=I.alternate,L!==null?(L=L.index,L<P?(I.flags|=2,P):L):(I.flags|=2,P)):(I.flags|=1048576,P)}function E(I){return n&&I.alternate===null&&(I.flags|=2),I}function N(I,P,L,G){return P===null||P.tag!==6?(P=Ju(L,I.mode,G),P.return=I,P):(P=m(P,L),P.return=I,P)}function C(I,P,L,G){var de=L.type;return de===B?q(I,P,L.props.children,G,L.key):P!==null&&(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Q&&zp(de)===P.type)?(G=m(P,L.props),G.ref=no(I,P,L),G.return=I,G):(G=rl(L.type,L.key,L.props,null,I.mode,G),G.ref=no(I,P,L),G.return=I,G)}function $(I,P,L,G){return P===null||P.tag!==4||P.stateNode.containerInfo!==L.containerInfo||P.stateNode.implementation!==L.implementation?(P=Qu(L,I.mode,G),P.return=I,P):(P=m(P,L.children||[]),P.return=I,P)}function q(I,P,L,G,de){return P===null||P.tag!==7?(P=ls(L,I.mode,G,de),P.return=I,P):(P=m(P,L),P.return=I,P)}function H(I,P,L){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Ju(""+P,I.mode,L),P.return=I,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case D:return L=rl(P.type,P.key,P.props,null,I.mode,L),L.ref=no(I,null,P),L.return=I,L;case M:return P=Qu(P,I.mode,L),P.return=I,P;case Q:var G=P._init;return H(I,G(P._payload),L)}if(Hn(P)||re(P))return P=ls(P,I.mode,L,null),P.return=I,P;Pa(I,P)}return null}function W(I,P,L,G){var de=P!==null?P.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return de!==null?null:N(I,P,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===de?C(I,P,L,G):null;case M:return L.key===de?$(I,P,L,G):null;case Q:return de=L._init,W(I,P,de(L._payload),G)}if(Hn(L)||re(L))return de!==null?null:q(I,P,L,G,null);Pa(I,L)}return null}function ne(I,P,L,G,de){if(typeof G=="string"&&G!==""||typeof G=="number")return I=I.get(L)||null,N(P,I,""+G,de);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case D:return I=I.get(G.key===null?L:G.key)||null,C(P,I,G,de);case M:return I=I.get(G.key===null?L:G.key)||null,$(P,I,G,de);case Q:var ve=G._init;return ne(I,P,L,ve(G._payload),de)}if(Hn(G)||re(G))return I=I.get(L)||null,q(P,I,G,de,null);Pa(P,G)}return null}function oe(I,P,L,G){for(var de=null,ve=null,xe=P,Fe=P=0,mt=null;xe!==null&&Fe<L.length;Fe++){xe.index>Fe?(mt=xe,xe=null):mt=xe.sibling;var Re=W(I,xe,L[Fe],G);if(Re===null){xe===null&&(xe=mt);break}n&&xe&&Re.alternate===null&&i(I,xe),P=v(Re,P,Fe),ve===null?de=Re:ve.sibling=Re,ve=Re,xe=mt}if(Fe===L.length)return c(I,xe),Ue&&es(I,Fe),de;if(xe===null){for(;Fe<L.length;Fe++)xe=H(I,L[Fe],G),xe!==null&&(P=v(xe,P,Fe),ve===null?de=xe:ve.sibling=xe,ve=xe);return Ue&&es(I,Fe),de}for(xe=h(I,xe);Fe<L.length;Fe++)mt=ne(xe,I,Fe,L[Fe],G),mt!==null&&(n&&mt.alternate!==null&&xe.delete(mt.key===null?Fe:mt.key),P=v(mt,P,Fe),ve===null?de=mt:ve.sibling=mt,ve=mt);return n&&xe.forEach(function(Cn){return i(I,Cn)}),Ue&&es(I,Fe),de}function ce(I,P,L,G){var de=re(L);if(typeof de!="function")throw Error(r(150));if(L=de.call(L),L==null)throw Error(r(151));for(var ve=de=null,xe=P,Fe=P=0,mt=null,Re=L.next();xe!==null&&!Re.done;Fe++,Re=L.next()){xe.index>Fe?(mt=xe,xe=null):mt=xe.sibling;var Cn=W(I,xe,Re.value,G);if(Cn===null){xe===null&&(xe=mt);break}n&&xe&&Cn.alternate===null&&i(I,xe),P=v(Cn,P,Fe),ve===null?de=Cn:ve.sibling=Cn,ve=Cn,xe=mt}if(Re.done)return c(I,xe),Ue&&es(I,Fe),de;if(xe===null){for(;!Re.done;Fe++,Re=L.next())Re=H(I,Re.value,G),Re!==null&&(P=v(Re,P,Fe),ve===null?de=Re:ve.sibling=Re,ve=Re);return Ue&&es(I,Fe),de}for(xe=h(I,xe);!Re.done;Fe++,Re=L.next())Re=ne(xe,I,Fe,Re.value,G),Re!==null&&(n&&Re.alternate!==null&&xe.delete(Re.key===null?Fe:Re.key),P=v(Re,P,Fe),ve===null?de=Re:ve.sibling=Re,ve=Re);return n&&xe.forEach(function(IE){return i(I,IE)}),Ue&&es(I,Fe),de}function Ze(I,P,L,G){if(typeof L=="object"&&L!==null&&L.type===B&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:e:{for(var de=L.key,ve=P;ve!==null;){if(ve.key===de){if(de=L.type,de===B){if(ve.tag===7){c(I,ve.sibling),P=m(ve,L.props.children),P.return=I,I=P;break e}}else if(ve.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Q&&zp(de)===ve.type){c(I,ve.sibling),P=m(ve,L.props),P.ref=no(I,ve,L),P.return=I,I=P;break e}c(I,ve);break}else i(I,ve);ve=ve.sibling}L.type===B?(P=ls(L.props.children,I.mode,G,L.key),P.return=I,I=P):(G=rl(L.type,L.key,L.props,null,I.mode,G),G.ref=no(I,P,L),G.return=I,I=G)}return E(I);case M:e:{for(ve=L.key;P!==null;){if(P.key===ve)if(P.tag===4&&P.stateNode.containerInfo===L.containerInfo&&P.stateNode.implementation===L.implementation){c(I,P.sibling),P=m(P,L.children||[]),P.return=I,I=P;break e}else{c(I,P);break}else i(I,P);P=P.sibling}P=Qu(L,I.mode,G),P.return=I,I=P}return E(I);case Q:return ve=L._init,Ze(I,P,ve(L._payload),G)}if(Hn(L))return oe(I,P,L,G);if(re(L))return ce(I,P,L,G);Pa(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,P!==null&&P.tag===6?(c(I,P.sibling),P=m(P,L),P.return=I,I=P):(c(I,P),P=Ju(L,I.mode,G),P.return=I,I=P),E(I)):c(I,P)}return Ze}var Us=Wp(!0),qp=Wp(!1),Ra=xn(null),Oa=null,zs=null,au=null;function lu(){au=zs=Oa=null}function cu(n){var i=Ra.current;Be(Ra),n._currentValue=i}function uu(n,i,c){for(;n!==null;){var h=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),n===c)break;n=n.return}}function Ws(n,i){Oa=n,au=zs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Lt=!0),n.firstContext=null)}function lr(n){var i=n._currentValue;if(au!==n)if(n={context:n,memoizedValue:i,next:null},zs===null){if(Oa===null)throw Error(r(308));zs=n,Oa.dependencies={lanes:0,firstContext:n}}else zs=zs.next=n;return i}var ts=null;function du(n){ts===null?ts=[n]:ts.push(n)}function Hp(n,i,c,h){var m=i.interleaved;return m===null?(c.next=c,du(i)):(c.next=m.next,m.next=c),i.interleaved=c,Yr(n,h)}function Yr(n,i){n.lanes|=i;var c=n.alternate;for(c!==null&&(c.lanes|=i),c=n,n=n.return;n!==null;)n.childLanes|=i,c=n.alternate,c!==null&&(c.childLanes|=i),c=n,n=n.return;return c.tag===3?c.stateNode:null}var En=!1;function hu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Xr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Fn(n,i,c){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Pe&2)!==0){var m=h.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),h.pending=i,Yr(n,c)}return m=h.interleaved,m===null?(i.next=i,du(h)):(i.next=m.next,m.next=i),h.interleaved=i,Yr(n,c)}function Da(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var h=i.lanes;h&=n.pendingLanes,c|=h,i.lanes=c,jc(n,c)}}function Gp(n,i){var c=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var E={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?m=v=E:v=v.next=E,c=c.next}while(c!==null);v===null?m=v=i:v=v.next=i}else m=v=i;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function Ia(n,i,c,h){var m=n.updateQueue;En=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var C=N,$=C.next;C.next=null,E===null?v=$:E.next=$,E=C;var q=n.alternate;q!==null&&(q=q.updateQueue,N=q.lastBaseUpdate,N!==E&&(N===null?q.firstBaseUpdate=$:N.next=$,q.lastBaseUpdate=C))}if(v!==null){var H=m.baseState;E=0,q=$=C=null,N=v;do{var W=N.lane,ne=N.eventTime;if((h&W)===W){q!==null&&(q=q.next={eventTime:ne,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var oe=n,ce=N;switch(W=i,ne=c,ce.tag){case 1:if(oe=ce.payload,typeof oe=="function"){H=oe.call(ne,H,W);break e}H=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ce.payload,W=typeof oe=="function"?oe.call(ne,H,W):oe,W==null)break e;H=Y({},H,W);break e;case 2:En=!0}}N.callback!==null&&N.lane!==0&&(n.flags|=64,W=m.effects,W===null?m.effects=[N]:W.push(N))}else ne={eventTime:ne,lane:W,tag:N.tag,payload:N.payload,callback:N.callback,next:null},q===null?($=q=ne,C=H):q=q.next=ne,E|=W;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;W=N,N=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);if(q===null&&(C=H),m.baseState=C,m.firstBaseUpdate=$,m.lastBaseUpdate=q,i=m.shared.interleaved,i!==null){m=i;do E|=m.lane,m=m.next;while(m!==i)}else v===null&&(m.shared.lanes=0);ss|=E,n.lanes=E,n.memoizedState=H}}function Yp(n,i,c){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var h=n[i],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(r(191,m));m.call(h)}}}var so={},Rr=xn(so),io=xn(so),oo=xn(so);function rs(n){if(n===so)throw Error(r(174));return n}function fu(n,i){switch(Me(oo,i),Me(io,n),Me(Rr,so),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ri(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Ri(i,n)}Be(Rr),Me(Rr,i)}function qs(){Be(Rr),Be(io),Be(oo)}function Xp(n){rs(oo.current);var i=rs(Rr.current),c=Ri(i,n.type);i!==c&&(Me(io,n),Me(Rr,c))}function pu(n){io.current===n&&(Be(Rr),Be(io))}var qe=xn(0);function La(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var mu=[];function gu(){for(var n=0;n<mu.length;n++)mu[n]._workInProgressVersionPrimary=null;mu.length=0}var Ma=T.ReactCurrentDispatcher,yu=T.ReactCurrentBatchConfig,ns=0,He=null,lt=null,ft=null,$a=!1,ao=!1,lo=0,sE=0;function _t(){throw Error(r(321))}function vu(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!br(n[c],i[c]))return!1;return!0}function xu(n,i,c,h,m,v){if(ns=v,He=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ma.current=n===null||n.memoizedState===null?lE:cE,n=c(h,m),ao){v=0;do{if(ao=!1,lo=0,25<=v)throw Error(r(301));v+=1,ft=lt=null,i.updateQueue=null,Ma.current=uE,n=c(h,m)}while(ao)}if(Ma.current=Ua,i=lt!==null&&lt.next!==null,ns=0,ft=lt=He=null,$a=!1,i)throw Error(r(300));return n}function bu(){var n=lo!==0;return lo=0,n}function Or(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?He.memoizedState=ft=n:ft=ft.next=n,ft}function cr(){if(lt===null){var n=He.alternate;n=n!==null?n.memoizedState:null}else n=lt.next;var i=ft===null?He.memoizedState:ft.next;if(i!==null)ft=i,lt=n;else{if(n===null)throw Error(r(310));lt=n,n={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ft===null?He.memoizedState=ft=n:ft=ft.next=n}return ft}function co(n,i){return typeof i=="function"?i(n):i}function wu(n){var i=cr(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var h=lt,m=h.baseQueue,v=c.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}h.baseQueue=m=v,c.pending=null}if(m!==null){v=m.next,h=h.baseState;var N=E=null,C=null,$=v;do{var q=$.lane;if((ns&q)===q)C!==null&&(C=C.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:n(h,$.action);else{var H={lane:q,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};C===null?(N=C=H,E=h):C=C.next=H,He.lanes|=q,ss|=q}$=$.next}while($!==null&&$!==v);C===null?E=h:C.next=N,br(h,i.memoizedState)||(Lt=!0),i.memoizedState=h,i.baseState=E,i.baseQueue=C,c.lastRenderedState=h}if(n=c.interleaved,n!==null){m=n;do v=m.lane,He.lanes|=v,ss|=v,m=m.next;while(m!==n)}else m===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function Eu(n){var i=cr(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var h=c.dispatch,m=c.pending,v=i.memoizedState;if(m!==null){c.pending=null;var E=m=m.next;do v=n(v,E.action),E=E.next;while(E!==m);br(v,i.memoizedState)||(Lt=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),c.lastRenderedState=v}return[v,h]}function Jp(){}function Qp(n,i){var c=He,h=cr(),m=i(),v=!br(h.memoizedState,m);if(v&&(h.memoizedState=m,Lt=!0),h=h.queue,Fu(tm.bind(null,c,h,n),[n]),h.getSnapshot!==i||v||ft!==null&&ft.memoizedState.tag&1){if(c.flags|=2048,uo(9,em.bind(null,c,h,m,i),void 0,null),pt===null)throw Error(r(349));(ns&30)!==0||Zp(c,i,m)}return m}function Zp(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=He.updateQueue,i===null?(i={lastEffect:null,stores:null},He.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function em(n,i,c,h){i.value=c,i.getSnapshot=h,rm(i)&&nm(n)}function tm(n,i,c){return c(function(){rm(i)&&nm(n)})}function rm(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!br(n,c)}catch{return!0}}function nm(n){var i=Yr(n,1);i!==null&&kr(i,n,1,-1)}function sm(n){var i=Or();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:n},i.queue=n,n=n.dispatch=aE.bind(null,He,n),[i.memoizedState,n]}function uo(n,i,c,h){return n={tag:n,create:i,destroy:c,deps:h,next:null},i=He.updateQueue,i===null?(i={lastEffect:null,stores:null},He.updateQueue=i,i.lastEffect=n.next=n):(c=i.lastEffect,c===null?i.lastEffect=n.next=n:(h=c.next,c.next=n,n.next=h,i.lastEffect=n)),n}function im(){return cr().memoizedState}function Va(n,i,c,h){var m=Or();He.flags|=n,m.memoizedState=uo(1|i,c,void 0,h===void 0?null:h)}function Ba(n,i,c,h){var m=cr();h=h===void 0?null:h;var v=void 0;if(lt!==null){var E=lt.memoizedState;if(v=E.destroy,h!==null&&vu(h,E.deps)){m.memoizedState=uo(i,c,v,h);return}}He.flags|=n,m.memoizedState=uo(1|i,c,v,h)}function om(n,i){return Va(8390656,8,n,i)}function Fu(n,i){return Ba(2048,8,n,i)}function am(n,i){return Ba(4,2,n,i)}function lm(n,i){return Ba(4,4,n,i)}function cm(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function um(n,i,c){return c=c!=null?c.concat([n]):null,Ba(4,4,cm.bind(null,i,n),c)}function _u(){}function dm(n,i){var c=cr();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&vu(i,h[1])?h[0]:(c.memoizedState=[n,i],n)}function hm(n,i){var c=cr();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&vu(i,h[1])?h[0]:(n=n(),c.memoizedState=[n,i],n)}function fm(n,i,c){return(ns&21)===0?(n.baseState&&(n.baseState=!1,Lt=!0),n.memoizedState=c):(br(c,i)||(c=zf(),He.lanes|=c,ss|=c,n.baseState=!0),i)}function iE(n,i){var c=De;De=c!==0&&4>c?c:4,n(!0);var h=yu.transition;yu.transition={};try{n(!1),i()}finally{De=c,yu.transition=h}}function pm(){return cr().memoizedState}function oE(n,i,c){var h=Sn(n);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},mm(n))gm(i,c);else if(c=Hp(n,i,c,h),c!==null){var m=Ct();kr(c,n,h,m),ym(c,i,h)}}function aE(n,i,c){var h=Sn(n),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(mm(n))gm(i,m);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var E=i.lastRenderedState,N=v(E,c);if(m.hasEagerState=!0,m.eagerState=N,br(N,E)){var C=i.interleaved;C===null?(m.next=m,du(i)):(m.next=C.next,C.next=m),i.interleaved=m;return}}catch{}finally{}c=Hp(n,i,m,h),c!==null&&(m=Ct(),kr(c,n,h,m),ym(c,i,h))}}function mm(n){var i=n.alternate;return n===He||i!==null&&i===He}function gm(n,i){ao=$a=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function ym(n,i,c){if((c&4194240)!==0){var h=i.lanes;h&=n.pendingLanes,c|=h,i.lanes=c,jc(n,c)}}var Ua={readContext:lr,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},lE={readContext:lr,useCallback:function(n,i){return Or().memoizedState=[n,i===void 0?null:i],n},useContext:lr,useEffect:om,useImperativeHandle:function(n,i,c){return c=c!=null?c.concat([n]):null,Va(4194308,4,cm.bind(null,i,n),c)},useLayoutEffect:function(n,i){return Va(4194308,4,n,i)},useInsertionEffect:function(n,i){return Va(4,2,n,i)},useMemo:function(n,i){var c=Or();return i=i===void 0?null:i,n=n(),c.memoizedState=[n,i],n},useReducer:function(n,i,c){var h=Or();return i=c!==void 0?c(i):i,h.memoizedState=h.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},h.queue=n,n=n.dispatch=oE.bind(null,He,n),[h.memoizedState,n]},useRef:function(n){var i=Or();return n={current:n},i.memoizedState=n},useState:sm,useDebugValue:_u,useDeferredValue:function(n){return Or().memoizedState=n},useTransition:function(){var n=sm(!1),i=n[0];return n=iE.bind(null,n[1]),Or().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,c){var h=He,m=Or();if(Ue){if(c===void 0)throw Error(r(407));c=c()}else{if(c=i(),pt===null)throw Error(r(349));(ns&30)!==0||Zp(h,i,c)}m.memoizedState=c;var v={value:c,getSnapshot:i};return m.queue=v,om(tm.bind(null,h,v,n),[n]),h.flags|=2048,uo(9,em.bind(null,h,v,c,i),void 0,null),c},useId:function(){var n=Or(),i=pt.identifierPrefix;if(Ue){var c=Gr,h=Kr;c=(h&~(1<<32-xr(h)-1)).toString(32)+c,i=":"+i+"R"+c,c=lo++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=sE++,i=":"+i+"r"+c.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},cE={readContext:lr,useCallback:dm,useContext:lr,useEffect:Fu,useImperativeHandle:um,useInsertionEffect:am,useLayoutEffect:lm,useMemo:hm,useReducer:wu,useRef:im,useState:function(){return wu(co)},useDebugValue:_u,useDeferredValue:function(n){var i=cr();return fm(i,lt.memoizedState,n)},useTransition:function(){var n=wu(co)[0],i=cr().memoizedState;return[n,i]},useMutableSource:Jp,useSyncExternalStore:Qp,useId:pm,unstable_isNewReconciler:!1},uE={readContext:lr,useCallback:dm,useContext:lr,useEffect:Fu,useImperativeHandle:um,useInsertionEffect:am,useLayoutEffect:lm,useMemo:hm,useReducer:Eu,useRef:im,useState:function(){return Eu(co)},useDebugValue:_u,useDeferredValue:function(n){var i=cr();return lt===null?i.memoizedState=n:fm(i,lt.memoizedState,n)},useTransition:function(){var n=Eu(co)[0],i=cr().memoizedState;return[n,i]},useMutableSource:Jp,useSyncExternalStore:Qp,useId:pm,unstable_isNewReconciler:!1};function Er(n,i){if(n&&n.defaultProps){i=Y({},i),n=n.defaultProps;for(var c in n)i[c]===void 0&&(i[c]=n[c]);return i}return i}function ku(n,i,c,h){i=n.memoizedState,c=c(h,i),c=c==null?i:Y({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var za={isMounted:function(n){return(n=n._reactInternals)?Xn(n)===n:!1},enqueueSetState:function(n,i,c){n=n._reactInternals;var h=Ct(),m=Sn(n),v=Xr(h,m);v.payload=i,c!=null&&(v.callback=c),i=Fn(n,v,m),i!==null&&(kr(i,n,m,h),Da(i,n,m))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var h=Ct(),m=Sn(n),v=Xr(h,m);v.tag=1,v.payload=i,c!=null&&(v.callback=c),i=Fn(n,v,m),i!==null&&(kr(i,n,m,h),Da(i,n,m))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=Ct(),h=Sn(n),m=Xr(c,h);m.tag=2,i!=null&&(m.callback=i),i=Fn(n,m,h),i!==null&&(kr(i,n,h,c),Da(i,n,h))}};function vm(n,i,c,h,m,v,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,v,E):i.prototype&&i.prototype.isPureReactComponent?!Xi(c,h)||!Xi(m,v):!0}function xm(n,i,c){var h=!1,m=bn,v=i.contextType;return typeof v=="object"&&v!==null?v=lr(v):(m=It(i)?Qn:Ft.current,h=i.contextTypes,v=(h=h!=null)?Ms(n,m):bn),i=new i(c,v),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=za,n.stateNode=i,i._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=v),i}function bm(n,i,c,h){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,h),i.state!==n&&za.enqueueReplaceState(i,i.state,null)}function ju(n,i,c,h){var m=n.stateNode;m.props=c,m.state=n.memoizedState,m.refs={},hu(n);var v=i.contextType;typeof v=="object"&&v!==null?m.context=lr(v):(v=It(i)?Qn:Ft.current,m.context=Ms(n,v)),m.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(ku(n,i,v,c),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&za.enqueueReplaceState(m,m.state,null),Ia(n,c,m,h),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function Hs(n,i){try{var c="",h=i;do c+=ue(h),h=h.return;while(h);var m=c}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:i,stack:m,digest:null}}function Su(n,i,c){return{value:n,source:null,stack:c??null,digest:i??null}}function Au(n,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var dE=typeof WeakMap=="function"?WeakMap:Map;function wm(n,i,c){c=Xr(-1,c),c.tag=3,c.payload={element:null};var h=i.value;return c.callback=function(){Xa||(Xa=!0,zu=h),Au(n,i)},c}function Em(n,i,c){c=Xr(-1,c),c.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var m=i.value;c.payload=function(){return h(m)},c.callback=function(){Au(n,i)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){Au(n,i),typeof h!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),c}function Fm(n,i,c){var h=n.pingCache;if(h===null){h=n.pingCache=new dE;var m=new Set;h.set(i,m)}else m=h.get(i),m===void 0&&(m=new Set,h.set(i,m));m.has(c)||(m.add(c),n=kE.bind(null,n,i,c),i.then(n,n))}function _m(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function km(n,i,c,h,m){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Xr(-1,1),i.tag=2,Fn(c,i,1))),c.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var hE=T.ReactCurrentOwner,Lt=!1;function Nt(n,i,c,h){i.child=n===null?qp(i,null,c,h):Us(i,n.child,c,h)}function jm(n,i,c,h,m){c=c.render;var v=i.ref;return Ws(i,m),h=xu(n,i,c,h,v,m),c=bu(),n!==null&&!Lt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,Jr(n,i,m)):(Ue&&c&&ru(i),i.flags|=1,Nt(n,i,h,m),i.child)}function Sm(n,i,c,h,m){if(n===null){var v=c.type;return typeof v=="function"&&!Xu(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=v,Am(n,i,v,h,m)):(n=rl(c.type,null,h,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,(n.lanes&m)===0){var E=v.memoizedProps;if(c=c.compare,c=c!==null?c:Xi,c(E,h)&&n.ref===i.ref)return Jr(n,i,m)}return i.flags|=1,n=Nn(v,h),n.ref=i.ref,n.return=i,i.child=n}function Am(n,i,c,h,m){if(n!==null){var v=n.memoizedProps;if(Xi(v,h)&&n.ref===i.ref)if(Lt=!1,i.pendingProps=h=v,(n.lanes&m)!==0)(n.flags&131072)!==0&&(Lt=!0);else return i.lanes=n.lanes,Jr(n,i,m)}return Nu(n,i,c,h,m)}function Nm(n,i,c){var h=i.pendingProps,m=h.children,v=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Gs,Qt),Qt|=c;else{if((c&1073741824)===0)return n=v!==null?v.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Me(Gs,Qt),Qt|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:c,Me(Gs,Qt),Qt|=h}else v!==null?(h=v.baseLanes|c,i.memoizedState=null):h=c,Me(Gs,Qt),Qt|=h;return Nt(n,i,m,c),i.child}function Cm(n,i){var c=i.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Nu(n,i,c,h,m){var v=It(c)?Qn:Ft.current;return v=Ms(i,v),Ws(i,m),c=xu(n,i,c,h,v,m),h=bu(),n!==null&&!Lt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,Jr(n,i,m)):(Ue&&h&&ru(i),i.flags|=1,Nt(n,i,c,m),i.child)}function Tm(n,i,c,h,m){if(It(c)){var v=!0;Sa(i)}else v=!1;if(Ws(i,m),i.stateNode===null)qa(n,i),xm(i,c,h),ju(i,c,h,m),h=!0;else if(n===null){var E=i.stateNode,N=i.memoizedProps;E.props=N;var C=E.context,$=c.contextType;typeof $=="object"&&$!==null?$=lr($):($=It(c)?Qn:Ft.current,$=Ms(i,$));var q=c.getDerivedStateFromProps,H=typeof q=="function"||typeof E.getSnapshotBeforeUpdate=="function";H||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==h||C!==$)&&bm(i,E,h,$),En=!1;var W=i.memoizedState;E.state=W,Ia(i,h,E,m),C=i.memoizedState,N!==h||W!==C||Dt.current||En?(typeof q=="function"&&(ku(i,c,q,h),C=i.memoizedState),(N=En||vm(i,c,N,h,W,C,$))?(H||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=C),E.props=h,E.state=C,E.context=$,h=N):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{E=i.stateNode,Kp(n,i),N=i.memoizedProps,$=i.type===i.elementType?N:Er(i.type,N),E.props=$,H=i.pendingProps,W=E.context,C=c.contextType,typeof C=="object"&&C!==null?C=lr(C):(C=It(c)?Qn:Ft.current,C=Ms(i,C));var ne=c.getDerivedStateFromProps;(q=typeof ne=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==H||W!==C)&&bm(i,E,h,C),En=!1,W=i.memoizedState,E.state=W,Ia(i,h,E,m);var oe=i.memoizedState;N!==H||W!==oe||Dt.current||En?(typeof ne=="function"&&(ku(i,c,ne,h),oe=i.memoizedState),($=En||vm(i,c,$,h,W,oe,C)||!1)?(q||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,oe,C),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,oe,C)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||N===n.memoizedProps&&W===n.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&W===n.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=oe),E.props=h,E.state=oe,E.context=C,h=$):(typeof E.componentDidUpdate!="function"||N===n.memoizedProps&&W===n.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&W===n.memoizedState||(i.flags|=1024),h=!1)}return Cu(n,i,c,h,v,m)}function Cu(n,i,c,h,m,v){Cm(n,i);var E=(i.flags&128)!==0;if(!h&&!E)return m&&Ip(i,c,!1),Jr(n,i,v);h=i.stateNode,hE.current=i;var N=E&&typeof c.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,n!==null&&E?(i.child=Us(i,n.child,null,v),i.child=Us(i,null,N,v)):Nt(n,i,N,v),i.memoizedState=h.state,m&&Ip(i,c,!0),i.child}function Pm(n){var i=n.stateNode;i.pendingContext?Op(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Op(n,i.context,!1),fu(n,i.containerInfo)}function Rm(n,i,c,h,m){return Bs(),ou(m),i.flags|=256,Nt(n,i,c,h),i.child}var Tu={dehydrated:null,treeContext:null,retryLane:0};function Pu(n){return{baseLanes:n,cachePool:null,transitions:null}}function Om(n,i,c){var h=i.pendingProps,m=qe.current,v=!1,E=(i.flags&128)!==0,N;if((N=E)||(N=n!==null&&n.memoizedState===null?!1:(m&2)!==0),N?(v=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),Me(qe,m&1),n===null)return iu(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=h.children,n=h.fallback,v?(h=i.mode,v=i.child,E={mode:"hidden",children:E},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=E):v=nl(E,h,0,null),n=ls(n,h,c,null),v.return=i,n.return=i,v.sibling=n,i.child=v,i.child.memoizedState=Pu(c),i.memoizedState=Tu,n):Ru(i,E));if(m=n.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return fE(n,i,E,h,N,m,c);if(v){v=h.fallback,E=i.mode,m=n.child,N=m.sibling;var C={mode:"hidden",children:h.children};return(E&1)===0&&i.child!==m?(h=i.child,h.childLanes=0,h.pendingProps=C,i.deletions=null):(h=Nn(m,C),h.subtreeFlags=m.subtreeFlags&14680064),N!==null?v=Nn(N,v):(v=ls(v,E,c,null),v.flags|=2),v.return=i,h.return=i,h.sibling=v,i.child=h,h=v,v=i.child,E=n.child.memoizedState,E=E===null?Pu(c):{baseLanes:E.baseLanes|c,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=n.childLanes&~c,i.memoizedState=Tu,h}return v=n.child,n=v.sibling,h=Nn(v,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=c),h.return=i,h.sibling=null,n!==null&&(c=i.deletions,c===null?(i.deletions=[n],i.flags|=16):c.push(n)),i.child=h,i.memoizedState=null,h}function Ru(n,i){return i=nl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Wa(n,i,c,h){return h!==null&&ou(h),Us(i,n.child,null,c),n=Ru(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function fE(n,i,c,h,m,v,E){if(c)return i.flags&256?(i.flags&=-257,h=Su(Error(r(422))),Wa(n,i,E,h)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(v=h.fallback,m=i.mode,h=nl({mode:"visible",children:h.children},m,0,null),v=ls(v,m,E,null),v.flags|=2,h.return=i,v.return=i,h.sibling=v,i.child=h,(i.mode&1)!==0&&Us(i,n.child,null,E),i.child.memoizedState=Pu(E),i.memoizedState=Tu,v);if((i.mode&1)===0)return Wa(n,i,E,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var N=h.dgst;return h=N,v=Error(r(419)),h=Su(v,h,void 0),Wa(n,i,E,h)}if(N=(E&n.childLanes)!==0,Lt||N){if(h=pt,h!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|E))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Yr(n,m),kr(h,n,m,-1))}return Yu(),h=Su(Error(r(421))),Wa(n,i,E,h)}return m.data==="$?"?(i.flags|=128,i.child=n.child,i=jE.bind(null,n),m._reactRetry=i,null):(n=v.treeContext,Jt=vn(m.nextSibling),Xt=i,Ue=!0,wr=null,n!==null&&(or[ar++]=Kr,or[ar++]=Gr,or[ar++]=Zn,Kr=n.id,Gr=n.overflow,Zn=i),i=Ru(i,h.children),i.flags|=4096,i)}function Dm(n,i,c){n.lanes|=i;var h=n.alternate;h!==null&&(h.lanes|=i),uu(n.return,i,c)}function Ou(n,i,c,h,m){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=c,v.tailMode=m)}function Im(n,i,c){var h=i.pendingProps,m=h.revealOrder,v=h.tail;if(Nt(n,i,h.children,c),h=qe.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Dm(n,c,i);else if(n.tag===19)Dm(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(Me(qe,h),(i.mode&1)===0)i.memoizedState=null;else switch(m){case"forwards":for(c=i.child,m=null;c!==null;)n=c.alternate,n!==null&&La(n)===null&&(m=c),c=c.sibling;c=m,c===null?(m=i.child,i.child=null):(m=c.sibling,c.sibling=null),Ou(i,!1,m,c,v);break;case"backwards":for(c=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&La(n)===null){i.child=m;break}n=m.sibling,m.sibling=c,c=m,m=n}Ou(i,!0,c,null,v);break;case"together":Ou(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qa(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Jr(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),ss|=i.lanes,(c&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,c=Nn(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=Nn(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function pE(n,i,c){switch(i.tag){case 3:Pm(i),Bs();break;case 5:Xp(i);break;case 1:It(i.type)&&Sa(i);break;case 4:fu(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,m=i.memoizedProps.value;Me(Ra,h._currentValue),h._currentValue=m;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Me(qe,qe.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?Om(n,i,c):(Me(qe,qe.current&1),n=Jr(n,i,c),n!==null?n.sibling:null);Me(qe,qe.current&1);break;case 19:if(h=(c&i.childLanes)!==0,(n.flags&128)!==0){if(h)return Im(n,i,c);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Me(qe,qe.current),h)break;return null;case 22:case 23:return i.lanes=0,Nm(n,i,c)}return Jr(n,i,c)}var Lm,Du,Mm,$m;Lm=function(n,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Du=function(){},Mm=function(n,i,c,h){var m=n.memoizedProps;if(m!==h){n=i.stateNode,rs(Rr.current);var v=null;switch(c){case"input":m=qn(n,m),h=qn(n,h),v=[];break;case"select":m=Y({},m,{value:void 0}),h=Y({},h,{value:void 0}),v=[];break;case"textarea":m=gt(n,m),h=gt(n,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=_a)}As(c,h);var E;c=null;for($ in m)if(!h.hasOwnProperty($)&&m.hasOwnProperty($)&&m[$]!=null)if($==="style"){var N=m[$];for(E in N)N.hasOwnProperty(E)&&(c||(c={}),c[E]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?v||(v=[]):(v=v||[]).push($,null));for($ in h){var C=h[$];if(N=m?.[$],h.hasOwnProperty($)&&C!==N&&(C!=null||N!=null))if($==="style")if(N){for(E in N)!N.hasOwnProperty(E)||C&&C.hasOwnProperty(E)||(c||(c={}),c[E]="");for(E in C)C.hasOwnProperty(E)&&N[E]!==C[E]&&(c||(c={}),c[E]=C[E])}else c||(v||(v=[]),v.push($,c)),c=C;else $==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,N=N?N.__html:void 0,C!=null&&N!==C&&(v=v||[]).push($,C)):$==="children"?typeof C!="string"&&typeof C!="number"||(v=v||[]).push($,""+C):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(C!=null&&$==="onScroll"&&Ve("scroll",n),v||N===C||(v=[])):(v=v||[]).push($,C))}c&&(v=v||[]).push("style",c);var $=v;(i.updateQueue=$)&&(i.flags|=4)}},$m=function(n,i,c,h){c!==h&&(i.flags|=4)};function ho(n,i){if(!Ue)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function kt(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,h=0;if(i)for(var m=n.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=h,n.childLanes=c,i}function mE(n,i,c){var h=i.pendingProps;switch(nu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(i),null;case 1:return It(i.type)&&ja(),kt(i),null;case 3:return h=i.stateNode,qs(),Be(Dt),Be(Ft),gu(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(Ta(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wr!==null&&(Hu(wr),wr=null))),Du(n,i),kt(i),null;case 5:pu(i);var m=rs(oo.current);if(c=i.type,n!==null&&i.stateNode!=null)Mm(n,i,c,h,m),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(r(166));return kt(i),null}if(n=rs(Rr.current),Ta(i)){h=i.stateNode,c=i.type;var v=i.memoizedProps;switch(h[Pr]=i,h[to]=v,n=(i.mode&1)!==0,c){case"dialog":Ve("cancel",h),Ve("close",h);break;case"iframe":case"object":case"embed":Ve("load",h);break;case"video":case"audio":for(m=0;m<Qi.length;m++)Ve(Qi[m],h);break;case"source":Ve("error",h);break;case"img":case"image":case"link":Ve("error",h),Ve("load",h);break;case"details":Ve("toggle",h);break;case"input":Zo(h,v),Ve("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Ve("invalid",h);break;case"textarea":zr(h,v),Ve("invalid",h)}As(c,v),m=null;for(var E in v)if(v.hasOwnProperty(E)){var N=v[E];E==="children"?typeof N=="string"?h.textContent!==N&&(v.suppressHydrationWarning!==!0&&Fa(h.textContent,N,n),m=["children",N]):typeof N=="number"&&h.textContent!==""+N&&(v.suppressHydrationWarning!==!0&&Fa(h.textContent,N,n),m=["children",""+N]):o.hasOwnProperty(E)&&N!=null&&E==="onScroll"&&Ve("scroll",h)}switch(c){case"input":Ht(h),Pi(h,v,!0);break;case"textarea":Ht(h),ta(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=_a)}h=m,i.updateQueue=h,h!==null&&(i.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Kn(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=E.createElement(c,{is:h.is}):(n=E.createElement(c),c==="select"&&(E=n,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):n=E.createElementNS(n,c),n[Pr]=i,n[to]=h,Lm(n,i,!1,!1),i.stateNode=n;e:{switch(E=Oi(c,h),c){case"dialog":Ve("cancel",n),Ve("close",n),m=h;break;case"iframe":case"object":case"embed":Ve("load",n),m=h;break;case"video":case"audio":for(m=0;m<Qi.length;m++)Ve(Qi[m],n);m=h;break;case"source":Ve("error",n),m=h;break;case"img":case"image":case"link":Ve("error",n),Ve("load",n),m=h;break;case"details":Ve("toggle",n),m=h;break;case"input":Zo(n,h),m=qn(n,h),Ve("invalid",n);break;case"option":m=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},m=Y({},h,{value:void 0}),Ve("invalid",n);break;case"textarea":zr(n,h),m=gt(n,h),Ve("invalid",n);break;default:m=h}As(c,m),N=m;for(v in N)if(N.hasOwnProperty(v)){var C=N[v];v==="style"?na(n,C):v==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Ss(n,C)):v==="children"?typeof C=="string"?(c!=="textarea"||C!=="")&&nr(n,C):typeof C=="number"&&nr(n,""+C):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?C!=null&&v==="onScroll"&&Ve("scroll",n):C!=null&&S(n,v,C,E))}switch(c){case"input":Ht(n),Pi(n,h,!1);break;case"textarea":Ht(n),ta(n);break;case"option":h.value!=null&&n.setAttribute("value",""+ge(h.value));break;case"select":n.multiple=!!h.multiple,v=h.value,v!=null?sn(n,!!h.multiple,v,!1):h.defaultValue!=null&&sn(n,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=_a)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return kt(i),null;case 6:if(n&&i.stateNode!=null)$m(n,i,n.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(r(166));if(c=rs(oo.current),rs(Rr.current),Ta(i)){if(h=i.stateNode,c=i.memoizedProps,h[Pr]=i,(v=h.nodeValue!==c)&&(n=Xt,n!==null))switch(n.tag){case 3:Fa(h.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Fa(h.nodeValue,c,(n.mode&1)!==0)}v&&(i.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Pr]=i,i.stateNode=h}return kt(i),null;case 13:if(Be(qe),h=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ue&&Jt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Up(),Bs(),i.flags|=98560,v=!1;else if(v=Ta(i),h!==null&&h.dehydrated!==null){if(n===null){if(!v)throw Error(r(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Pr]=i}else Bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kt(i),v=!1}else wr!==null&&(Hu(wr),wr=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(qe.current&1)!==0?ct===0&&(ct=3):Yu())),i.updateQueue!==null&&(i.flags|=4),kt(i),null);case 4:return qs(),Du(n,i),n===null&&Zi(i.stateNode.containerInfo),kt(i),null;case 10:return cu(i.type._context),kt(i),null;case 17:return It(i.type)&&ja(),kt(i),null;case 19:if(Be(qe),v=i.memoizedState,v===null)return kt(i),null;if(h=(i.flags&128)!==0,E=v.rendering,E===null)if(h)ho(v,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(E=La(n),E!==null){for(i.flags|=128,ho(v,!1),h=E.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=c,c=i.child;c!==null;)v=c,n=h,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,n=E.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return Me(qe,qe.current&1|2),i.child}n=n.sibling}v.tail!==null&&Qe()>Ys&&(i.flags|=128,h=!0,ho(v,!1),i.lanes=4194304)}else{if(!h)if(n=La(E),n!==null){if(i.flags|=128,h=!0,c=n.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),ho(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!Ue)return kt(i),null}else 2*Qe()-v.renderingStartTime>Ys&&c!==1073741824&&(i.flags|=128,h=!0,ho(v,!1),i.lanes=4194304);v.isBackwards?(E.sibling=i.child,i.child=E):(c=v.last,c!==null?c.sibling=E:i.child=E,v.last=E)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=Qe(),i.sibling=null,c=qe.current,Me(qe,h?c&1|2:c&1),i):(kt(i),null);case 22:case 23:return Gu(),h=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Qt&1073741824)!==0&&(kt(i),i.subtreeFlags&6&&(i.flags|=8192)):kt(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function gE(n,i){switch(nu(i),i.tag){case 1:return It(i.type)&&ja(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return qs(),Be(Dt),Be(Ft),gu(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return pu(i),null;case 13:if(Be(qe),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Bs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Be(qe),null;case 4:return qs(),null;case 10:return cu(i.type._context),null;case 22:case 23:return Gu(),null;case 24:return null;default:return null}}var Ha=!1,jt=!1,yE=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ks(n,i){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Ye(n,i,h)}else c.current=null}function Iu(n,i,c){try{c()}catch(h){Ye(n,i,h)}}var Vm=!1;function vE(n,i){if(Gc=ha,n=vp(),Vc(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var E=0,N=-1,C=-1,$=0,q=0,H=n,W=null;t:for(;;){for(var ne;H!==c||m!==0&&H.nodeType!==3||(N=E+m),H!==v||h!==0&&H.nodeType!==3||(C=E+h),H.nodeType===3&&(E+=H.nodeValue.length),(ne=H.firstChild)!==null;)W=H,H=ne;for(;;){if(H===n)break t;if(W===c&&++$===m&&(N=E),W===v&&++q===h&&(C=E),(ne=H.nextSibling)!==null)break;H=W,W=H.parentNode}H=ne}c=N===-1||C===-1?null:{start:N,end:C}}else c=null}c=c||{start:0,end:0}}else c=null;for(Yc={focusedElem:n,selectionRange:c},ha=!1,se=i;se!==null;)if(i=se,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,se=n;else for(;se!==null;){i=se;try{var oe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ce=oe.memoizedProps,Ze=oe.memoizedState,I=i.stateNode,P=I.getSnapshotBeforeUpdate(i.elementType===i.type?ce:Er(i.type,ce),Ze);I.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var L=i.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(G){Ye(i,i.return,G)}if(n=i.sibling,n!==null){n.return=i.return,se=n;break}se=i.return}return oe=Vm,Vm=!1,oe}function fo(n,i,c){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&n)===n){var v=m.destroy;m.destroy=void 0,v!==void 0&&Iu(i,c,v)}m=m.next}while(m!==h)}}function Ka(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&n)===n){var h=c.create;c.destroy=h()}c=c.next}while(c!==i)}}function Lu(n){var i=n.ref;if(i!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof i=="function"?i(n):i.current=n}}function Bm(n){var i=n.alternate;i!==null&&(n.alternate=null,Bm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Pr],delete i[to],delete i[Zc],delete i[eE],delete i[tE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Um(n){return n.tag===5||n.tag===3||n.tag===4}function zm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Um(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Mu(n,i,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(n,i):c.insertBefore(n,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(n,c)):(i=c,i.appendChild(n)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=_a));else if(h!==4&&(n=n.child,n!==null))for(Mu(n,i,c),n=n.sibling;n!==null;)Mu(n,i,c),n=n.sibling}function $u(n,i,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for($u(n,i,c),n=n.sibling;n!==null;)$u(n,i,c),n=n.sibling}var vt=null,Fr=!1;function _n(n,i,c){for(c=c.child;c!==null;)Wm(n,i,c),c=c.sibling}function Wm(n,i,c){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(oa,c)}catch{}switch(c.tag){case 5:jt||Ks(c,i);case 6:var h=vt,m=Fr;vt=null,_n(n,i,c),vt=h,Fr=m,vt!==null&&(Fr?(n=vt,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):vt.removeChild(c.stateNode));break;case 18:vt!==null&&(Fr?(n=vt,c=c.stateNode,n.nodeType===8?Qc(n.parentNode,c):n.nodeType===1&&Qc(n,c),Wi(n)):Qc(vt,c.stateNode));break;case 4:h=vt,m=Fr,vt=c.stateNode.containerInfo,Fr=!0,_n(n,i,c),vt=h,Fr=m;break;case 0:case 11:case 14:case 15:if(!jt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,E=v.destroy;v=v.tag,E!==void 0&&((v&2)!==0||(v&4)!==0)&&Iu(c,i,E),m=m.next}while(m!==h)}_n(n,i,c);break;case 1:if(!jt&&(Ks(c,i),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(N){Ye(c,i,N)}_n(n,i,c);break;case 21:_n(n,i,c);break;case 22:c.mode&1?(jt=(h=jt)||c.memoizedState!==null,_n(n,i,c),jt=h):_n(n,i,c);break;default:_n(n,i,c)}}function qm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new yE),i.forEach(function(h){var m=SE.bind(null,n,h);c.has(h)||(c.add(h),h.then(m,m))})}}function _r(n,i){var c=i.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var v=n,E=i,N=E;e:for(;N!==null;){switch(N.tag){case 5:vt=N.stateNode,Fr=!1;break e;case 3:vt=N.stateNode.containerInfo,Fr=!0;break e;case 4:vt=N.stateNode.containerInfo,Fr=!0;break e}N=N.return}if(vt===null)throw Error(r(160));Wm(v,E,m),vt=null,Fr=!1;var C=m.alternate;C!==null&&(C.return=null),m.return=null}catch($){Ye(m,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Hm(i,n),i=i.sibling}function Hm(n,i){var c=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(_r(i,n),Dr(n),h&4){try{fo(3,n,n.return),Ka(3,n)}catch(ce){Ye(n,n.return,ce)}try{fo(5,n,n.return)}catch(ce){Ye(n,n.return,ce)}}break;case 1:_r(i,n),Dr(n),h&512&&c!==null&&Ks(c,c.return);break;case 5:if(_r(i,n),Dr(n),h&512&&c!==null&&Ks(c,c.return),n.flags&32){var m=n.stateNode;try{nr(m,"")}catch(ce){Ye(n,n.return,ce)}}if(h&4&&(m=n.stateNode,m!=null)){var v=n.memoizedProps,E=c!==null?c.memoizedProps:v,N=n.type,C=n.updateQueue;if(n.updateQueue=null,C!==null)try{N==="input"&&v.type==="radio"&&v.name!=null&&Ti(m,v),Oi(N,E);var $=Oi(N,v);for(E=0;E<C.length;E+=2){var q=C[E],H=C[E+1];q==="style"?na(m,H):q==="dangerouslySetInnerHTML"?Ss(m,H):q==="children"?nr(m,H):S(m,q,H,$)}switch(N){case"input":Ur(m,v);break;case"textarea":ea(m,v);break;case"select":var W=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ne=v.value;ne!=null?sn(m,!!v.multiple,ne,!1):W!==!!v.multiple&&(v.defaultValue!=null?sn(m,!!v.multiple,v.defaultValue,!0):sn(m,!!v.multiple,v.multiple?[]:"",!1))}m[to]=v}catch(ce){Ye(n,n.return,ce)}}break;case 6:if(_r(i,n),Dr(n),h&4){if(n.stateNode===null)throw Error(r(162));m=n.stateNode,v=n.memoizedProps;try{m.nodeValue=v}catch(ce){Ye(n,n.return,ce)}}break;case 3:if(_r(i,n),Dr(n),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Wi(i.containerInfo)}catch(ce){Ye(n,n.return,ce)}break;case 4:_r(i,n),Dr(n);break;case 13:_r(i,n),Dr(n),m=n.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Uu=Qe())),h&4&&qm(n);break;case 22:if(q=c!==null&&c.memoizedState!==null,n.mode&1?(jt=($=jt)||q,_r(i,n),jt=$):_r(i,n),Dr(n),h&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!q&&(n.mode&1)!==0)for(se=n,q=n.child;q!==null;){for(H=se=q;se!==null;){switch(W=se,ne=W.child,W.tag){case 0:case 11:case 14:case 15:fo(4,W,W.return);break;case 1:Ks(W,W.return);var oe=W.stateNode;if(typeof oe.componentWillUnmount=="function"){h=W,c=W.return;try{i=h,oe.props=i.memoizedProps,oe.state=i.memoizedState,oe.componentWillUnmount()}catch(ce){Ye(h,c,ce)}}break;case 5:Ks(W,W.return);break;case 22:if(W.memoizedState!==null){Ym(H);continue}}ne!==null?(ne.return=W,se=ne):Ym(H)}q=q.sibling}e:for(q=null,H=n;;){if(H.tag===5){if(q===null){q=H;try{m=H.stateNode,$?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(N=H.stateNode,C=H.memoizedProps.style,E=C!=null&&C.hasOwnProperty("display")?C.display:null,N.style.display=ra("display",E))}catch(ce){Ye(n,n.return,ce)}}}else if(H.tag===6){if(q===null)try{H.stateNode.nodeValue=$?"":H.memoizedProps}catch(ce){Ye(n,n.return,ce)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===n)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===n)break e;for(;H.sibling===null;){if(H.return===null||H.return===n)break e;q===H&&(q=null),H=H.return}q===H&&(q=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:_r(i,n),Dr(n),h&4&&qm(n);break;case 21:break;default:_r(i,n),Dr(n)}}function Dr(n){var i=n.flags;if(i&2){try{e:{for(var c=n.return;c!==null;){if(Um(c)){var h=c;break e}c=c.return}throw Error(r(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(nr(m,""),h.flags&=-33);var v=zm(n);$u(n,v,m);break;case 3:case 4:var E=h.stateNode.containerInfo,N=zm(n);Mu(n,N,E);break;default:throw Error(r(161))}}catch(C){Ye(n,n.return,C)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function xE(n,i,c){se=n,Km(n)}function Km(n,i,c){for(var h=(n.mode&1)!==0;se!==null;){var m=se,v=m.child;if(m.tag===22&&h){var E=m.memoizedState!==null||Ha;if(!E){var N=m.alternate,C=N!==null&&N.memoizedState!==null||jt;N=Ha;var $=jt;if(Ha=E,(jt=C)&&!$)for(se=m;se!==null;)E=se,C=E.child,E.tag===22&&E.memoizedState!==null?Xm(m):C!==null?(C.return=E,se=C):Xm(m);for(;v!==null;)se=v,Km(v),v=v.sibling;se=m,Ha=N,jt=$}Gm(n)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,se=v):Gm(n)}}function Gm(n){for(;se!==null;){var i=se;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:jt||Ka(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!jt)if(c===null)h.componentDidMount();else{var m=i.elementType===i.type?c.memoizedProps:Er(i.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&Yp(i,v,h);break;case 3:var E=i.updateQueue;if(E!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Yp(i,E,c)}break;case 5:var N=i.stateNode;if(c===null&&i.flags&4){c=N;var C=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&c.focus();break;case"img":C.src&&(c.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var q=$.memoizedState;if(q!==null){var H=q.dehydrated;H!==null&&Wi(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}jt||i.flags&512&&Lu(i)}catch(W){Ye(i,i.return,W)}}if(i===n){se=null;break}if(c=i.sibling,c!==null){c.return=i.return,se=c;break}se=i.return}}function Ym(n){for(;se!==null;){var i=se;if(i===n){se=null;break}var c=i.sibling;if(c!==null){c.return=i.return,se=c;break}se=i.return}}function Xm(n){for(;se!==null;){var i=se;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{Ka(4,i)}catch(C){Ye(i,c,C)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var m=i.return;try{h.componentDidMount()}catch(C){Ye(i,m,C)}}var v=i.return;try{Lu(i)}catch(C){Ye(i,v,C)}break;case 5:var E=i.return;try{Lu(i)}catch(C){Ye(i,E,C)}}}catch(C){Ye(i,i.return,C)}if(i===n){se=null;break}var N=i.sibling;if(N!==null){N.return=i.return,se=N;break}se=i.return}}var bE=Math.ceil,Ga=T.ReactCurrentDispatcher,Vu=T.ReactCurrentOwner,ur=T.ReactCurrentBatchConfig,Pe=0,pt=null,rt=null,xt=0,Qt=0,Gs=xn(0),ct=0,po=null,ss=0,Ya=0,Bu=0,mo=null,Mt=null,Uu=0,Ys=1/0,Qr=null,Xa=!1,zu=null,kn=null,Ja=!1,jn=null,Qa=0,go=0,Wu=null,Za=-1,el=0;function Ct(){return(Pe&6)!==0?Qe():Za!==-1?Za:Za=Qe()}function Sn(n){return(n.mode&1)===0?1:(Pe&2)!==0&&xt!==0?xt&-xt:nE.transition!==null?(el===0&&(el=zf()),el):(n=De,n!==0||(n=window.event,n=n===void 0?16:Qf(n.type)),n)}function kr(n,i,c,h){if(50<go)throw go=0,Wu=null,Error(r(185));$i(n,c,h),((Pe&2)===0||n!==pt)&&(n===pt&&((Pe&2)===0&&(Ya|=c),ct===4&&An(n,xt)),$t(n,h),c===1&&Pe===0&&(i.mode&1)===0&&(Ys=Qe()+500,Aa&&wn()))}function $t(n,i){var c=n.callbackNode;n1(n,i);var h=ca(n,n===pt?xt:0);if(h===0)c!==null&&Vf(c),n.callbackNode=null,n.callbackPriority=0;else if(i=h&-h,n.callbackPriority!==i){if(c!=null&&Vf(c),i===1)n.tag===0?rE(Qm.bind(null,n)):Lp(Qm.bind(null,n)),Q1(function(){(Pe&6)===0&&wn()}),c=null;else{switch(Wf(h)){case 1:c=Fc;break;case 4:c=Bf;break;case 16:c=ia;break;case 536870912:c=Uf;break;default:c=ia}c=og(c,Jm.bind(null,n))}n.callbackPriority=i,n.callbackNode=c}}function Jm(n,i){if(Za=-1,el=0,(Pe&6)!==0)throw Error(r(327));var c=n.callbackNode;if(Xs()&&n.callbackNode!==c)return null;var h=ca(n,n===pt?xt:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||i)i=tl(n,h);else{i=h;var m=Pe;Pe|=2;var v=eg();(pt!==n||xt!==i)&&(Qr=null,Ys=Qe()+500,os(n,i));do try{FE();break}catch(N){Zm(n,N)}while(!0);lu(),Ga.current=v,Pe=m,rt!==null?i=0:(pt=null,xt=0,i=ct)}if(i!==0){if(i===2&&(m=_c(n),m!==0&&(h=m,i=qu(n,m))),i===1)throw c=po,os(n,0),An(n,h),$t(n,Qe()),c;if(i===6)An(n,h);else{if(m=n.current.alternate,(h&30)===0&&!wE(m)&&(i=tl(n,h),i===2&&(v=_c(n),v!==0&&(h=v,i=qu(n,v))),i===1))throw c=po,os(n,0),An(n,h),$t(n,Qe()),c;switch(n.finishedWork=m,n.finishedLanes=h,i){case 0:case 1:throw Error(r(345));case 2:as(n,Mt,Qr);break;case 3:if(An(n,h),(h&130023424)===h&&(i=Uu+500-Qe(),10<i)){if(ca(n,0)!==0)break;if(m=n.suspendedLanes,(m&h)!==h){Ct(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=Jc(as.bind(null,n,Mt,Qr),i);break}as(n,Mt,Qr);break;case 4:if(An(n,h),(h&4194240)===h)break;for(i=n.eventTimes,m=-1;0<h;){var E=31-xr(h);v=1<<E,E=i[E],E>m&&(m=E),h&=~v}if(h=m,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*bE(h/1960))-h,10<h){n.timeoutHandle=Jc(as.bind(null,n,Mt,Qr),h);break}as(n,Mt,Qr);break;case 5:as(n,Mt,Qr);break;default:throw Error(r(329))}}}return $t(n,Qe()),n.callbackNode===c?Jm.bind(null,n):null}function qu(n,i){var c=mo;return n.current.memoizedState.isDehydrated&&(os(n,i).flags|=256),n=tl(n,i),n!==2&&(i=Mt,Mt=c,i!==null&&Hu(i)),n}function Hu(n){Mt===null?Mt=n:Mt.push.apply(Mt,n)}function wE(n){for(var i=n;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],v=m.getSnapshot;m=m.value;try{if(!br(v(),m))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function An(n,i){for(i&=~Bu,i&=~Ya,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var c=31-xr(i),h=1<<c;n[c]=-1,i&=~h}}function Qm(n){if((Pe&6)!==0)throw Error(r(327));Xs();var i=ca(n,0);if((i&1)===0)return $t(n,Qe()),null;var c=tl(n,i);if(n.tag!==0&&c===2){var h=_c(n);h!==0&&(i=h,c=qu(n,h))}if(c===1)throw c=po,os(n,0),An(n,i),$t(n,Qe()),c;if(c===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,as(n,Mt,Qr),$t(n,Qe()),null}function Ku(n,i){var c=Pe;Pe|=1;try{return n(i)}finally{Pe=c,Pe===0&&(Ys=Qe()+500,Aa&&wn())}}function is(n){jn!==null&&jn.tag===0&&(Pe&6)===0&&Xs();var i=Pe;Pe|=1;var c=ur.transition,h=De;try{if(ur.transition=null,De=1,n)return n()}finally{De=h,ur.transition=c,Pe=i,(Pe&6)===0&&wn()}}function Gu(){Qt=Gs.current,Be(Gs)}function os(n,i){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,J1(c)),rt!==null)for(c=rt.return;c!==null;){var h=c;switch(nu(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ja();break;case 3:qs(),Be(Dt),Be(Ft),gu();break;case 5:pu(h);break;case 4:qs();break;case 13:Be(qe);break;case 19:Be(qe);break;case 10:cu(h.type._context);break;case 22:case 23:Gu()}c=c.return}if(pt=n,rt=n=Nn(n.current,null),xt=Qt=i,ct=0,po=null,Bu=Ya=ss=0,Mt=mo=null,ts!==null){for(i=0;i<ts.length;i++)if(c=ts[i],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,v=c.pending;if(v!==null){var E=v.next;v.next=m,h.next=E}c.pending=h}ts=null}return n}function Zm(n,i){do{var c=rt;try{if(lu(),Ma.current=Ua,$a){for(var h=He.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}$a=!1}if(ns=0,ft=lt=He=null,ao=!1,lo=0,Vu.current=null,c===null||c.return===null){ct=1,po=i,rt=null;break}e:{var v=n,E=c.return,N=c,C=i;if(i=xt,N.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=C,q=N,H=q.tag;if((q.mode&1)===0&&(H===0||H===11||H===15)){var W=q.alternate;W?(q.updateQueue=W.updateQueue,q.memoizedState=W.memoizedState,q.lanes=W.lanes):(q.updateQueue=null,q.memoizedState=null)}var ne=_m(E);if(ne!==null){ne.flags&=-257,km(ne,E,N,v,i),ne.mode&1&&Fm(v,$,i),i=ne,C=$;var oe=i.updateQueue;if(oe===null){var ce=new Set;ce.add(C),i.updateQueue=ce}else oe.add(C);break e}else{if((i&1)===0){Fm(v,$,i),Yu();break e}C=Error(r(426))}}else if(Ue&&N.mode&1){var Ze=_m(E);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),km(Ze,E,N,v,i),ou(Hs(C,N));break e}}v=C=Hs(C,N),ct!==4&&(ct=2),mo===null?mo=[v]:mo.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var I=wm(v,C,i);Gp(v,I);break e;case 1:N=C;var P=v.type,L=v.stateNode;if((v.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(kn===null||!kn.has(L)))){v.flags|=65536,i&=-i,v.lanes|=i;var G=Em(v,N,i);Gp(v,G);break e}}v=v.return}while(v!==null)}rg(c)}catch(de){i=de,rt===c&&c!==null&&(rt=c=c.return);continue}break}while(!0)}function eg(){var n=Ga.current;return Ga.current=Ua,n===null?Ua:n}function Yu(){(ct===0||ct===3||ct===2)&&(ct=4),pt===null||(ss&268435455)===0&&(Ya&268435455)===0||An(pt,xt)}function tl(n,i){var c=Pe;Pe|=2;var h=eg();(pt!==n||xt!==i)&&(Qr=null,os(n,i));do try{EE();break}catch(m){Zm(n,m)}while(!0);if(lu(),Pe=c,Ga.current=h,rt!==null)throw Error(r(261));return pt=null,xt=0,ct}function EE(){for(;rt!==null;)tg(rt)}function FE(){for(;rt!==null&&!Gw();)tg(rt)}function tg(n){var i=ig(n.alternate,n,Qt);n.memoizedProps=n.pendingProps,i===null?rg(n):rt=i,Vu.current=null}function rg(n){var i=n;do{var c=i.alternate;if(n=i.return,(i.flags&32768)===0){if(c=mE(c,i,Qt),c!==null){rt=c;return}}else{if(c=gE(c,i),c!==null){c.flags&=32767,rt=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ct=6,rt=null;return}}if(i=i.sibling,i!==null){rt=i;return}rt=i=n}while(i!==null);ct===0&&(ct=5)}function as(n,i,c){var h=De,m=ur.transition;try{ur.transition=null,De=1,_E(n,i,c,h)}finally{ur.transition=m,De=h}return null}function _E(n,i,c,h){do Xs();while(jn!==null);if((Pe&6)!==0)throw Error(r(327));c=n.finishedWork;var m=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var v=c.lanes|c.childLanes;if(s1(n,v),n===pt&&(rt=pt=null,xt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Ja||(Ja=!0,og(ia,function(){return Xs(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=ur.transition,ur.transition=null;var E=De;De=1;var N=Pe;Pe|=4,Vu.current=null,vE(n,c),Hm(c,n),W1(Yc),ha=!!Gc,Yc=Gc=null,n.current=c,xE(c),Yw(),Pe=N,De=E,ur.transition=v}else n.current=c;if(Ja&&(Ja=!1,jn=n,Qa=m),v=n.pendingLanes,v===0&&(kn=null),Qw(c.stateNode),$t(n,Qe()),i!==null)for(h=n.onRecoverableError,c=0;c<i.length;c++)m=i[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(Xa)throw Xa=!1,n=zu,zu=null,n;return(Qa&1)!==0&&n.tag!==0&&Xs(),v=n.pendingLanes,(v&1)!==0?n===Wu?go++:(go=0,Wu=n):go=0,wn(),null}function Xs(){if(jn!==null){var n=Wf(Qa),i=ur.transition,c=De;try{if(ur.transition=null,De=16>n?16:n,jn===null)var h=!1;else{if(n=jn,jn=null,Qa=0,(Pe&6)!==0)throw Error(r(331));var m=Pe;for(Pe|=4,se=n.current;se!==null;){var v=se,E=v.child;if((se.flags&16)!==0){var N=v.deletions;if(N!==null){for(var C=0;C<N.length;C++){var $=N[C];for(se=$;se!==null;){var q=se;switch(q.tag){case 0:case 11:case 15:fo(8,q,v)}var H=q.child;if(H!==null)H.return=q,se=H;else for(;se!==null;){q=se;var W=q.sibling,ne=q.return;if(Bm(q),q===$){se=null;break}if(W!==null){W.return=ne,se=W;break}se=ne}}}var oe=v.alternate;if(oe!==null){var ce=oe.child;if(ce!==null){oe.child=null;do{var Ze=ce.sibling;ce.sibling=null,ce=Ze}while(ce!==null)}}se=v}}if((v.subtreeFlags&2064)!==0&&E!==null)E.return=v,se=E;else e:for(;se!==null;){if(v=se,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:fo(9,v,v.return)}var I=v.sibling;if(I!==null){I.return=v.return,se=I;break e}se=v.return}}var P=n.current;for(se=P;se!==null;){E=se;var L=E.child;if((E.subtreeFlags&2064)!==0&&L!==null)L.return=E,se=L;else e:for(E=P;se!==null;){if(N=se,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Ka(9,N)}}catch(de){Ye(N,N.return,de)}if(N===E){se=null;break e}var G=N.sibling;if(G!==null){G.return=N.return,se=G;break e}se=N.return}}if(Pe=m,wn(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(oa,n)}catch{}h=!0}return h}finally{De=c,ur.transition=i}}return!1}function ng(n,i,c){i=Hs(c,i),i=wm(n,i,1),n=Fn(n,i,1),i=Ct(),n!==null&&($i(n,1,i),$t(n,i))}function Ye(n,i,c){if(n.tag===3)ng(n,n,c);else for(;i!==null;){if(i.tag===3){ng(i,n,c);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(kn===null||!kn.has(h))){n=Hs(c,n),n=Em(i,n,1),i=Fn(i,n,1),n=Ct(),i!==null&&($i(i,1,n),$t(i,n));break}}i=i.return}}function kE(n,i,c){var h=n.pingCache;h!==null&&h.delete(i),i=Ct(),n.pingedLanes|=n.suspendedLanes&c,pt===n&&(xt&c)===c&&(ct===4||ct===3&&(xt&130023424)===xt&&500>Qe()-Uu?os(n,0):Bu|=c),$t(n,i)}function sg(n,i){i===0&&((n.mode&1)===0?i=1:(i=la,la<<=1,(la&130023424)===0&&(la=4194304)));var c=Ct();n=Yr(n,i),n!==null&&($i(n,i,c),$t(n,c))}function jE(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),sg(n,c)}function SE(n,i){var c=0;switch(n.tag){case 13:var h=n.stateNode,m=n.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(i),sg(n,c)}var ig;ig=function(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps||Dt.current)Lt=!0;else{if((n.lanes&c)===0&&(i.flags&128)===0)return Lt=!1,pE(n,i,c);Lt=(n.flags&131072)!==0}else Lt=!1,Ue&&(i.flags&1048576)!==0&&Mp(i,Ca,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;qa(n,i),n=i.pendingProps;var m=Ms(i,Ft.current);Ws(i,c),m=xu(null,i,h,n,m,c);var v=bu();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,It(h)?(v=!0,Sa(i)):v=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,hu(i),m.updater=za,i.stateNode=m,m._reactInternals=i,ju(i,h,n,c),i=Cu(null,i,h,!0,v,c)):(i.tag=0,Ue&&v&&ru(i),Nt(null,i,m,c),i=i.child),i;case 16:h=i.elementType;e:{switch(qa(n,i),n=i.pendingProps,m=h._init,h=m(h._payload),i.type=h,m=i.tag=NE(h),n=Er(h,n),m){case 0:i=Nu(null,i,h,n,c);break e;case 1:i=Tm(null,i,h,n,c);break e;case 11:i=jm(null,i,h,n,c);break e;case 14:i=Sm(null,i,h,Er(h.type,n),c);break e}throw Error(r(306,h,""))}return i;case 0:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Er(h,m),Nu(n,i,h,m,c);case 1:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Er(h,m),Tm(n,i,h,m,c);case 3:e:{if(Pm(i),n===null)throw Error(r(387));h=i.pendingProps,v=i.memoizedState,m=v.element,Kp(n,i),Ia(i,h,null,c);var E=i.memoizedState;if(h=E.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){m=Hs(Error(r(423)),i),i=Rm(n,i,h,c,m);break e}else if(h!==m){m=Hs(Error(r(424)),i),i=Rm(n,i,h,c,m);break e}else for(Jt=vn(i.stateNode.containerInfo.firstChild),Xt=i,Ue=!0,wr=null,c=qp(i,null,h,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Bs(),h===m){i=Jr(n,i,c);break e}Nt(n,i,h,c)}i=i.child}return i;case 5:return Xp(i),n===null&&iu(i),h=i.type,m=i.pendingProps,v=n!==null?n.memoizedProps:null,E=m.children,Xc(h,m)?E=null:v!==null&&Xc(h,v)&&(i.flags|=32),Cm(n,i),Nt(n,i,E,c),i.child;case 6:return n===null&&iu(i),null;case 13:return Om(n,i,c);case 4:return fu(i,i.stateNode.containerInfo),h=i.pendingProps,n===null?i.child=Us(i,null,h,c):Nt(n,i,h,c),i.child;case 11:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Er(h,m),jm(n,i,h,m,c);case 7:return Nt(n,i,i.pendingProps,c),i.child;case 8:return Nt(n,i,i.pendingProps.children,c),i.child;case 12:return Nt(n,i,i.pendingProps.children,c),i.child;case 10:e:{if(h=i.type._context,m=i.pendingProps,v=i.memoizedProps,E=m.value,Me(Ra,h._currentValue),h._currentValue=E,v!==null)if(br(v.value,E)){if(v.children===m.children&&!Dt.current){i=Jr(n,i,c);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var N=v.dependencies;if(N!==null){E=v.child;for(var C=N.firstContext;C!==null;){if(C.context===h){if(v.tag===1){C=Xr(-1,c&-c),C.tag=2;var $=v.updateQueue;if($!==null){$=$.shared;var q=$.pending;q===null?C.next=C:(C.next=q.next,q.next=C),$.pending=C}}v.lanes|=c,C=v.alternate,C!==null&&(C.lanes|=c),uu(v.return,c,i),N.lanes|=c;break}C=C.next}}else if(v.tag===10)E=v.type===i.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(r(341));E.lanes|=c,N=E.alternate,N!==null&&(N.lanes|=c),uu(E,c,i),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===i){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}Nt(n,i,m.children,c),i=i.child}return i;case 9:return m=i.type,h=i.pendingProps.children,Ws(i,c),m=lr(m),h=h(m),i.flags|=1,Nt(n,i,h,c),i.child;case 14:return h=i.type,m=Er(h,i.pendingProps),m=Er(h.type,m),Sm(n,i,h,m,c);case 15:return Am(n,i,i.type,i.pendingProps,c);case 17:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Er(h,m),qa(n,i),i.tag=1,It(h)?(n=!0,Sa(i)):n=!1,Ws(i,c),xm(i,h,m),ju(i,h,m,c),Cu(null,i,h,!0,n,c);case 19:return Im(n,i,c);case 22:return Nm(n,i,c)}throw Error(r(156,i.tag))};function og(n,i){return $f(n,i)}function AE(n,i,c,h){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(n,i,c,h){return new AE(n,i,c,h)}function Xu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function NE(n){if(typeof n=="function")return Xu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===te)return 11;if(n===Se)return 14}return 2}function Nn(n,i){var c=n.alternate;return c===null?(c=dr(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function rl(n,i,c,h,m,v){var E=2;if(h=n,typeof n=="function")Xu(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case B:return ls(c.children,m,v,i);case O:E=8,m|=8;break;case X:return n=dr(12,c,i,m|2),n.elementType=X,n.lanes=v,n;case fe:return n=dr(13,c,i,m),n.elementType=fe,n.lanes=v,n;case pe:return n=dr(19,c,i,m),n.elementType=pe,n.lanes=v,n;case ee:return nl(c,m,v,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case he:E=10;break e;case _e:E=9;break e;case te:E=11;break e;case Se:E=14;break e;case Q:E=16,h=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=dr(E,c,i,m),i.elementType=n,i.type=h,i.lanes=v,i}function ls(n,i,c,h){return n=dr(7,n,h,i),n.lanes=c,n}function nl(n,i,c,h){return n=dr(22,n,h,i),n.elementType=ee,n.lanes=c,n.stateNode={isHidden:!1},n}function Ju(n,i,c){return n=dr(6,n,null,i),n.lanes=c,n}function Qu(n,i,c){return i=dr(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function CE(n,i,c,h,m){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kc(0),this.expirationTimes=kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Zu(n,i,c,h,m,v,E,N,C){return n=new CE(n,i,c,N,C),i===1?(i=1,v===!0&&(i|=8)):i=0,v=dr(3,null,null,i),n.current=v,v.stateNode=n,v.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},hu(v),n}function TE(n,i,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:h==null?null:""+h,children:n,containerInfo:i,implementation:c}}function ag(n){if(!n)return bn;n=n._reactInternals;e:{if(Xn(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(It(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var c=n.type;if(It(c))return Dp(n,c,i)}return i}function lg(n,i,c,h,m,v,E,N,C){return n=Zu(c,h,!0,n,m,v,E,N,C),n.context=ag(null),c=n.current,h=Ct(),m=Sn(c),v=Xr(h,m),v.callback=i??null,Fn(c,v,m),n.current.lanes=m,$i(n,m,h),$t(n,h),n}function sl(n,i,c,h){var m=i.current,v=Ct(),E=Sn(m);return c=ag(c),i.context===null?i.context=c:i.pendingContext=c,i=Xr(v,E),i.payload={element:n},h=h===void 0?null:h,h!==null&&(i.callback=h),n=Fn(m,i,E),n!==null&&(kr(n,m,E,v),Da(n,m,E)),E}function il(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function cg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function ed(n,i){cg(n,i),(n=n.alternate)&&cg(n,i)}function PE(){return null}var ug=typeof reportError=="function"?reportError:function(n){console.error(n)};function td(n){this._internalRoot=n}ol.prototype.render=td.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));sl(n,i,null,null)},ol.prototype.unmount=td.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;is(function(){sl(null,n,null,null)}),i[qr]=null}};function ol(n){this._internalRoot=n}ol.prototype.unstable_scheduleHydration=function(n){if(n){var i=Kf();n={blockedOn:null,target:n,priority:i};for(var c=0;c<mn.length&&i!==0&&i<mn[c].priority;c++);mn.splice(c,0,n),c===0&&Xf(n)}};function rd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function al(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function dg(){}function RE(n,i,c,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var $=il(E);v.call($)}}var E=lg(i,h,n,0,null,!1,!1,"",dg);return n._reactRootContainer=E,n[qr]=E.current,Zi(n.nodeType===8?n.parentNode:n),is(),E}for(;m=n.lastChild;)n.removeChild(m);if(typeof h=="function"){var N=h;h=function(){var $=il(C);N.call($)}}var C=Zu(n,0,!1,null,null,!1,!1,"",dg);return n._reactRootContainer=C,n[qr]=C.current,Zi(n.nodeType===8?n.parentNode:n),is(function(){sl(i,C,c,h)}),C}function ll(n,i,c,h,m){var v=c._reactRootContainer;if(v){var E=v;if(typeof m=="function"){var N=m;m=function(){var C=il(E);N.call(C)}}sl(i,E,n,m)}else E=RE(c,i,n,m,h);return il(E)}qf=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var c=Mi(i.pendingLanes);c!==0&&(jc(i,c|1),$t(i,Qe()),(Pe&6)===0&&(Ys=Qe()+500,wn()))}break;case 13:is(function(){var h=Yr(n,1);if(h!==null){var m=Ct();kr(h,n,1,m)}}),ed(n,1)}},Sc=function(n){if(n.tag===13){var i=Yr(n,134217728);if(i!==null){var c=Ct();kr(i,n,134217728,c)}ed(n,134217728)}},Hf=function(n){if(n.tag===13){var i=Sn(n),c=Yr(n,i);if(c!==null){var h=Ct();kr(c,n,i,h)}ed(n,i)}},Kf=function(){return De},Gf=function(n,i){var c=De;try{return De=n,i()}finally{De=c}},Di=function(n,i,c){switch(i){case"input":if(Ur(n,c),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var h=c[i];if(h!==n&&h.form===n.form){var m=ka(h);if(!m)throw Error(r(90));Ot(h),Ur(h,m)}}}break;case"textarea":ea(n,c);break;case"select":i=c.value,i!=null&&sn(n,!!c.multiple,i,!1)}},at=Ku,Et=is;var OE={usingClientEntryPoint:!1,Events:[ro,Is,ka,ke,Je,Ku]},yo={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DE={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Lf(n),n===null?null:n.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||PE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{oa=cl.inject(DE),Tr=cl}catch{}}return Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OE,Vt.createPortal=function(n,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rd(i))throw Error(r(200));return TE(n,i,null,c)},Vt.createRoot=function(n,i){if(!rd(n))throw Error(r(299));var c=!1,h="",m=ug;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=Zu(n,1,!1,null,null,c,!1,h,m),n[qr]=i.current,Zi(n.nodeType===8?n.parentNode:n),new td(i)},Vt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Lf(i),n=n===null?null:n.stateNode,n},Vt.flushSync=function(n){return is(n)},Vt.hydrate=function(n,i,c){if(!al(i))throw Error(r(200));return ll(null,n,i,!0,c)},Vt.hydrateRoot=function(n,i,c){if(!rd(n))throw Error(r(405));var h=c!=null&&c.hydratedSources||null,m=!1,v="",E=ug;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),i=lg(i,null,n,1,c??null,m,!1,v,E),n[qr]=i.current,Zi(n),h)for(n=0;n<h.length;n++)c=h[n],m=c._getVersion,m=m(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,m]:i.mutableSourceEagerHydrationData.push(c,m);return new ol(i)},Vt.render=function(n,i,c){if(!al(i))throw Error(r(200));return ll(null,n,i,!1,c)},Vt.unmountComponentAtNode=function(n){if(!al(n))throw Error(r(40));return n._reactRootContainer?(is(function(){ll(null,null,n,!1,function(){n._reactRootContainer=null,n[qr]=null})}),!0):!1},Vt.unstable_batchedUpdates=Ku,Vt.unstable_renderSubtreeIntoContainer=function(n,i,c,h){if(!al(c))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return ll(n,i,c,!1,h)},Vt.version="18.3.1-next-f1338f8080-20240426",Vt}var xg;function By(){if(xg)return id.exports;xg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),id.exports=zE(),id.exports}var bg;function WE(){if(bg)return ul;bg=1;var t=By();return ul.createRoot=t.createRoot,ul.hydrateRoot=t.hydrateRoot,ul}var qE=WE();const HE="modulepreload",KE=function(t){return"/"+t},wg={},Ph=function(e,r,s){let o=Promise.resolve();if(r&&r.length>0){let u=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");o=u(r.map(p=>{if(p=KE(p),p in wg)return;wg[p]=!0;const y=p.endsWith(".css"),g=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":HE,y||(x.as="script"),x.crossOrigin="",x.href=p,f&&x.setAttribute("nonce",f),document.head.appendChild(x),y)return new Promise((b,w)=>{x.addEventListener("load",b),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};var k=Th();const J=Ch(k),Rh=Vy({__proto__:null,default:J},[k]);var Hd=function(t,e){return Hd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},Hd(t,e)};function Uy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Hd(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var pr=function(){return pr=Object.assign||function(e){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pr.apply(this,arguments)};function Bn(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(r[s[o]]=t[s[o]]);return r}function zy(t,e,r,s){var o=arguments.length,a=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,s);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(a=(o<3?u(a):o>3?u(e,r,a):u(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a}function Wy(t,e){return function(r,s){e(r,s,t)}}function qy(t,e,r,s,o,a){function u(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var d=s.kind,f=d==="getter"?"get":d==="setter"?"set":"value",p=!e&&t?s.static?t:t.prototype:null,y=e||(p?Object.getOwnPropertyDescriptor(p,s.name):{}),g,x=!1,b=r.length-1;b>=0;b--){var w={};for(var F in s)w[F]=F==="access"?{}:s[F];for(var F in s.access)w.access[F]=s.access[F];w.addInitializer=function(j){if(x)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(j||null))};var _=(0,r[b])(d==="accessor"?{get:y.get,set:y.set}:y[f],w);if(d==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(g=u(_.get))&&(y.get=g),(g=u(_.set))&&(y.set=g),(g=u(_.init))&&o.unshift(g)}else(g=u(_))&&(d==="field"?o.unshift(g):y[f]=g)}p&&Object.defineProperty(p,s.name,y),x=!0}function Hy(t,e,r){for(var s=arguments.length>2,o=0;o<e.length;o++)r=s?e[o].call(t,r):e[o].call(t);return s?r:void 0}function Ky(t){return typeof t=="symbol"?t:"".concat(t)}function Gy(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Yy(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ie(t,e,r,s){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function d(y){try{p(s.next(y))}catch(g){u(g)}}function f(y){try{p(s.throw(y))}catch(g){u(g)}}function p(y){y.done?a(y.value):o(y.value).then(d,f)}p((s=s.apply(t,e||[])).next())})}function Xy(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,o,a,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(y){return f([p,y])}}function f(p){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(s=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,o=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(y){p=[6,y],o=0}finally{s=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var sc=Object.create?(function(t,e,r,s){s===void 0&&(s=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,o)}):(function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]});function Jy(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&sc(e,t,r)}function Wl(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),o,a=[],u;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)a.push(o.value)}catch(d){u={error:d}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(u)throw u.error}}return a}function Qy(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Oh(arguments[e]));return t}function Zy(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],u=0,d=a.length;u<d;u++,o++)s[o]=a[u];return s}function Dh(t,e,r){if(r||arguments.length===2)for(var s=0,o=e.length,a;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}function xi(t){return this instanceof xi?(this.v=t,this):new xi(t)}function ev(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(b){return function(w){return Promise.resolve(w).then(b,g)}}function d(b,w){s[b]&&(o[b]=function(F){return new Promise(function(_,j){a.push([b,F,_,j])>1||f(b,F)})},w&&(o[b]=w(o[b])))}function f(b,w){try{p(s[b](w))}catch(F){x(a[0][3],F)}}function p(b){b.value instanceof xi?Promise.resolve(b.value.v).then(y,g):x(a[0][2],b)}function y(b){f("next",b)}function g(b){f("throw",b)}function x(b,w){b(w),a.shift(),a.length&&f(a[0][0],a[0][1])}}function tv(t){var e,r;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,a){e[o]=t[o]?function(u){return(r=!r)?{value:xi(t[o](u)),done:!1}:a?a(u):u}:a}}function rv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Wl=="function"?Wl(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(a){r[a]=t[a]&&function(u){return new Promise(function(d,f){u=t[a](u),o(d,f,u.done,u.value)})}}function o(a,u,d,f){Promise.resolve(f).then(function(p){a({value:p,done:d})},u)}}function nv(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var GE=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Kd=function(t){return Kd=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},Kd(t)};function sv(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Kd(t),s=0;s<r.length;s++)r[s]!=="default"&&sc(e,t,r[s]);return GE(e,t),e}function iv(t){return t&&t.__esModule?t:{default:t}}function ov(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function av(t,e,r,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function lv(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function cv(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var YE=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function uv(t){function e(a){t.error=t.hasError?new YE(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,s=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(a).then(o,function(u){return e(u),o()})}else s|=1}catch(u){e(u)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function dv(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,o,a,u){return s?e?".jsx":".js":o&&(!a||!u)?r:o+a+"."+u.toLowerCase()+"js"}):t}const XE={__extends:Uy,__assign:pr,__rest:Bn,__decorate:zy,__param:Wy,__esDecorate:qy,__runInitializers:Hy,__propKey:Ky,__setFunctionName:Gy,__metadata:Yy,__awaiter:ie,__generator:Xy,__createBinding:sc,__exportStar:Jy,__values:Wl,__read:Oh,__spread:Qy,__spreadArrays:Zy,__spreadArray:Dh,__await:xi,__asyncGenerator:ev,__asyncDelegator:tv,__asyncValues:rv,__makeTemplateObject:nv,__importStar:sv,__importDefault:iv,__classPrivateFieldGet:ov,__classPrivateFieldSet:av,__classPrivateFieldIn:lv,__addDisposableResource:cv,__disposeResources:uv,__rewriteRelativeImportExtension:dv},JE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:cv,get __assign(){return pr},__asyncDelegator:tv,__asyncGenerator:ev,__asyncValues:rv,__await:xi,__awaiter:ie,__classPrivateFieldGet:ov,__classPrivateFieldIn:lv,__classPrivateFieldSet:av,__createBinding:sc,__decorate:zy,__disposeResources:uv,__esDecorate:qy,__exportStar:Jy,__extends:Uy,__generator:Xy,__importDefault:iv,__importStar:sv,__makeTemplateObject:nv,__metadata:Yy,__param:Wy,__propKey:Ky,__read:Oh,__rest:Bn,__rewriteRelativeImportExtension:dv,__runInitializers:Hy,__setFunctionName:Gy,__spread:Qy,__spreadArray:Dh,__spreadArrays:Zy,__values:Wl,default:XE},Symbol.toStringTag,{value:"Module"})),QE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ih extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class ZE extends Ih{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Eg extends Ih{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fg extends Ih{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Gd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Gd||(Gd={}));class eF{constructor(e,{headers:r={},customFetch:s,region:o=Gd.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=QE(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ie(this,arguments,void 0,function*(r,s={}){var o;let a,u;try{const{headers:d,method:f,body:p,signal:y,timeout:g}=s;let x={},{region:b}=s;b||(b=this.region);const w=new URL(`${this.url}/${r}`);b&&b!=="any"&&(x["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let F;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",F=p):typeof p=="string"?(x["Content-Type"]="text/plain",F=p):typeof FormData<"u"&&p instanceof FormData?F=p:(x["Content-Type"]="application/json",F=JSON.stringify(p)):F=p;let _=y;g&&(u=new AbortController,a=setTimeout(()=>u.abort(),g),y?(_=u.signal,y.addEventListener("abort",()=>u.abort())):_=u.signal);const j=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),d),body:F,signal:_}).catch(D=>{throw new ZE(D)}),A=j.headers.get("x-relay-error");if(A&&A==="true")throw new Eg(j);if(!j.ok)throw new Fg(j);let S=((o=j.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),T;return S==="application/json"?T=yield j.json():S==="application/octet-stream"||S==="application/pdf"?T=yield j.blob():S==="text/event-stream"?T=j:S==="multipart/form-data"?T=yield j.formData():T=yield j.text(),{data:T,error:null,response:j}}catch(d){return{data:null,error:d,response:d instanceof Fg||d instanceof Eg?d.context:void 0}}finally{a&&clearTimeout(a)}})}}var St={};const ki=LE(JE);var dl={},hl={},fl={},pl={},ml={},gl={},_g;function hv(){if(_g)return gl;_g=1,Object.defineProperty(gl,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return gl.default=t,gl}var kg;function fv(){if(kg)return ml;kg=1,Object.defineProperty(ml,"__esModule",{value:!0});const e=ki.__importDefault(hv());class r{constructor(o){var a,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,y,g,x;let b=null,w=null,F=null,_=f.status,j=f.statusText;if(f.ok){if(this.method!=="HEAD"){const D=await f.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?w=D:w=JSON.parse(D))}const S=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),T=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");S&&T&&T.length>1&&(F=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(b={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,F=null,_=406,j="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const S=await f.text();try{b=JSON.parse(S),Array.isArray(b)&&f.status===404&&(w=[],b=null,_=200,j="OK")}catch{f.status===404&&S===""?(_=204,j="No Content"):b={message:S}}if(b&&this.isMaybeSingle&&(!((x=b?.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,_=200,j="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:w,count:F,status:_,statusText:j}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,y,g,x,b,w;let F="";const _=f?.cause;if(_){const j=(p=_?.message)!==null&&p!==void 0?p:"",A=(y=_?.code)!==null&&y!==void 0?y:"";F=`${(g=f?.name)!==null&&g!==void 0?g:"FetchError"}: ${f?.message}`,F+=`

Caused by: ${(x=_?.name)!==null&&x!==void 0?x:"Error"}: ${j}`,A&&(F+=` (${A})`),_?.stack&&(F+=`
${_.stack}`)}else F=(b=f?.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(w=f?.name)!==null&&w!==void 0?w:"FetchError"}: ${f?.message}`,details:F,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(o,a)}returns(){return this}overrideTypes(){return this}}return ml.default=r,ml}var jg;function pv(){if(jg)return pl;jg=1,Object.defineProperty(pl,"__esModule",{value:!0});const e=ki.__importDefault(fv());class r extends e.default{select(o){let a=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:u,foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${o}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:u=a}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,a,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(p,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:u=!1,buffers:d=!1,wal:f=!1,format:p="text"}={}){var y;const g=[o?"analyze":null,a?"verbose":null,u?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${x}"; options=${g};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return pl.default=r,pl}var Sg;function Lh(){if(Sg)return fl;Sg=1,Object.defineProperty(fl,"__esModule",{value:!0});const e=ki.__importDefault(pv()),r=new RegExp("[,()]");class s extends e.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}regexMatch(a,u){return this.url.searchParams.append(a,`match.${u}`),this}regexIMatch(a,u){return this.url.searchParams.append(a,`imatch.${u}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}isDistinct(a,u){return this.url.searchParams.append(a,`isdistinct.${u}`),this}in(a,u){const d=Array.from(new Set(u)).map(f=>typeof f=="string"&&r.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:d,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const y=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${p}fts${y}.${u}`),this}match(a){return Object.entries(a).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(a,u,d){return this.url.searchParams.append(a,`not.${u}.${d}`),this}or(a,{foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,u,d){return this.url.searchParams.append(a,`${u}.${d}`),this}}return fl.default=s,fl}var Ag;function mv(){if(Ag)return hl;Ag=1,Object.defineProperty(hl,"__esModule",{value:!0});const e=ki.__importDefault(Lh());class r{constructor(o,{headers:a={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(a),this.schema=u,this.fetch=d}select(o,a){const{head:u=!1,count:d}=a??{},f=u?"HEAD":"GET";let p=!1;const y=(o??"*").split("").map(g=>/\s/.test(g)&&!p?"":(g==='"'&&(p=!p),g)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:u=!0}={}){var d;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(p.length>0){const y=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:u=!1,count:d,defaultToNull:f=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(g.length>0){const x=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:a}={}){var u;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var a;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return hl.default=r,hl}var Ng;function tF(){if(Ng)return dl;Ng=1,Object.defineProperty(dl,"__esModule",{value:!0});const t=ki,e=t.__importDefault(mv()),r=t.__importDefault(Lh());class s{constructor(a,{headers:u={},schema:d,fetch:f}={}){this.url=a,this.headers=new Headers(u),this.schemaName=d,this.fetch=f}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${a}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new s(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,u={},{head:d=!1,get:f=!1,count:p}={}){var y;let g;const x=new URL(`${this.url}/rpc/${a}`);let b;d||f?(g=d?"HEAD":"GET",Object.entries(u).filter(([F,_])=>_!==void 0).map(([F,_])=>[F,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([F,_])=>{x.searchParams.append(F,_)})):(g="POST",b=u);const w=new Headers(this.headers);return p&&w.set("Prefer",`count=${p}`),new r.default({method:g,url:x,headers:w,schema:this.schemaName,body:b,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return dl.default=s,dl}var Cg;function rF(){if(Cg)return St;Cg=1,Object.defineProperty(St,"__esModule",{value:!0}),St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const t=ki,e=t.__importDefault(tF());St.PostgrestClient=e.default;const r=t.__importDefault(mv());St.PostgrestQueryBuilder=r.default;const s=t.__importDefault(Lh());St.PostgrestFilterBuilder=s.default;const o=t.__importDefault(pv());St.PostgrestTransformBuilder=o.default;const a=t.__importDefault(fv());St.PostgrestBuilder=a.default;const u=t.__importDefault(hv());return St.PostgrestError=u.default,St.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:u.default},St}var gv=rF();const yv=Ch(gv),nF=Vy({__proto__:null,default:yv},[gv]),{PostgrestClient:sF,PostgrestQueryBuilder:x4,PostgrestFilterBuilder:b4,PostgrestTransformBuilder:w4,PostgrestBuilder:E4,PostgrestError:F4}=yv||nF;class iF{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const oF="2.86.0",aF=`realtime-js/${oF}`,vv="1.0.0",lF="2.0.0",Tg=vv,Yd=1e4,cF=1e3,uF=100;var ms;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ms||(ms={}));var dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dt||(dt={}));var Nr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Nr||(Nr={}));var Xd;(function(t){t.websocket="websocket"})(Xd||(Xd={}));var gs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(gs||(gs={}));class dF{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const o=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,s;const o=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,s){var o,a;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",f=(a=e.join_ref)!==null&&a!==void 0?a:"",p=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},g=Object.keys(y).length===0?"":JSON.stringify(y);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+u.length+p.length+g.length,b=new ArrayBuffer(this.HEADER_LENGTH+x);let w=new DataView(b),F=0;w.setUint8(F++,this.KINDS.userBroadcastPush),w.setUint8(F++,f.length),w.setUint8(F++,d.length),w.setUint8(F++,u.length),w.setUint8(F++,p.length),w.setUint8(F++,g.length),w.setUint8(F++,r),Array.from(f,j=>w.setUint8(F++,j.charCodeAt(0))),Array.from(d,j=>w.setUint8(F++,j.charCodeAt(0))),Array.from(u,j=>w.setUint8(F++,j.charCodeAt(0))),Array.from(p,j=>w.setUint8(F++,j.charCodeAt(0))),Array.from(g,j=>w.setUint8(F++,j.charCodeAt(0)));var _=new Uint8Array(b.byteLength+s.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(s),b.byteLength),_.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,a,u,d,f]=s;return r({join_ref:o,ref:a,topic:u,event:d,payload:f})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,o)}}_decodeUserBroadcast(e,r,s){const o=r.getUint8(1),a=r.getUint8(2),u=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const p=s.decode(e.slice(f,f+o));f=f+o;const y=s.decode(e.slice(f,f+a));f=f+a;const g=s.decode(e.slice(f,f+u));f=f+u;const x=e.slice(f,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(s.decode(x)):x,w={type:this.BROADCAST_EVENT,event:y,payload:b};return u>0&&(w.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class xv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const Pg=(t,e,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((a,u)=>(a[u]=hF(u,t,e,o),a),{}):{}},hF=(t,e,r,s)=>{const o=e.find(d=>d.name===t),a=o?.type,u=r[t];return a&&!s.includes(a)?bv(a,u):Jd(u)},bv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return gF(e,r)}switch(t){case $e.bool:return fF(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return pF(e);case $e.json:case $e.jsonb:return mF(e);case $e.timestamp:return yF(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Jd(e);default:return Jd(e)}},Jd=t=>t,fF=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},pF=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},mF=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gF=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let a;const u=t.slice(1,r);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(d=>bv(e,d))}return t},yF=t=>typeof t=="string"?t.replace(" ","T"):t,wv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ld{constructor(e,r,s={},o=Yd){this.channel=e,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Rg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Rg||(Rg={}));class jo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jo.syncState(this.state,o,a,u),this.pendingDiffs.forEach(f=>{this.state=jo.syncDiff(this.state,f,a,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=jo.syncDiff(this.state,o,a,u),d())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,o){const a=this.cloneDeep(e),u=this.transformState(r),d={},f={};return this.map(a,(p,y)=>{u[p]||(f[p]=y)}),this.map(u,(p,y)=>{const g=a[p];if(g){const x=y.map(_=>_.presence_ref),b=g.map(_=>_.presence_ref),w=y.filter(_=>b.indexOf(_.presence_ref)<0),F=g.filter(_=>x.indexOf(_.presence_ref)<0);w.length>0&&(d[p]=w),F.length>0&&(f[p]=F)}else d[p]=y}),this.syncDiff(a,{joins:d,leaves:f},s,o)}static syncDiff(e,r,s,o){const{joins:a,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(a,(d,f)=>{var p;const y=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(f),y.length>0){const g=e[d].map(b=>b.presence_ref),x=y.filter(b=>g.indexOf(b.presence_ref)<0);e[d].unshift(...x)}s(d,y,f)}),this.map(u,(d,f)=>{let p=e[d];if(!p)return;const y=f.map(g=>g.presence_ref);p=p.filter(g=>y.indexOf(g.presence_ref)<0),e[d]=p,o(d,p,f),p.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const o=e[s];return"metas"in o?r[s]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[s]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Og;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Og||(Og={}));var So;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(So||(So={}));var en;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class Mh{constructor(e,r={config:{}},s){var o,a;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ld(this,Nr.join,this.params,this.timeout),this.rejoinTimer=new xv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nr.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new jo(this),this.broadcastEndpointURL=wv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:u,presence:d,private:f}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(b=>b.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[So.PRESENCE]&&this.bindings[So.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},x={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(en.CHANNEL_ERROR,b)),this._onClose(()=>e?.(en.CLOSED)),this.updateJoinPayload(Object.assign({config:x},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket.setAuth(),b===void 0){e?.(en.SUBSCRIBED);return}else{const F=this.bindings.postgres_changes,_=(w=F?.length)!==null&&w!==void 0?w:0,j=[];for(let A=0;A<_;A++){const S=F[A],{filter:{event:T,schema:D,table:M,filter:B}}=S,O=b&&b[A];if(O&&O.event===T&&O.schema===D&&O.table===M&&O.filter===B)j.push(Object.assign(Object.assign({},S),{id:O.id}));else{this.unsubscribe(),this.state=dt.errored,e?.(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(en.SUBSCRIBED);return}}).receive("error",b=>{this.state=dt.errored,e?.(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===dt.joined&&e===So.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var o;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const p=await d.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,d,f;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new ld(this,Nr.leave,{},e),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const o=new AbortController,a=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(a),u}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ld(this,e,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>uF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var o,a;const u=e.toLocaleLowerCase(),{close:d,error:f,leave:p,join:y}=Nr;if(s&&[d,f,p,y].indexOf(u)>=0&&s!==this._joinRef())return;let x=this._onMessage(u,r,s);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var w,F,_;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(F=b.filter)===null||F===void 0?void 0:F.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(b=>b.callback(x,s)):(a=this.bindings[u])===null||a===void 0||a.filter(b=>{var w,F,_,j,A,S;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const T=b.id,D=(w=b.filter)===null||w===void 0?void 0:w.event;return T&&((F=r.ids)===null||F===void 0?void 0:F.includes(T))&&(D==="*"||D?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const T=(A=(j=b?.filter)===null||j===void 0?void 0:j.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return T==="*"||T===((S=r?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof x=="object"&&"ids"in x){const w=x.data,{schema:F,table:_,commit_timestamp:j,type:A,errors:S}=w;x=Object.assign(Object.assign({},{schema:F,table:_,commit_timestamp:j,eventType:A,new:{},old:{},errors:S}),this._getPayloadRecords(w))}b.callback(x,s)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const o=e.toLocaleLowerCase(),a={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&Mh.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nr.close,{},e)}_onError(e){this._on(Nr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Pg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Pg(e.columns,e.old_record)),r}}const cd=()=>{},yl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vF=[1e3,2e3,5e3,1e4],xF=1e4,bF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wF{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yd,this.transport=null,this.heartbeatIntervalMs=yl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cd,this.ref=0,this.reconnectTimer=null,this.vsn=Tg,this.logger=cd,this.conn=null,this.sendBuffer=[],this.serializer=new dF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Xd.websocket}`,this.httpEndpoint=wv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iF.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ms.connecting:return gs.Connecting;case ms.open:return gs.Open;case ms.closing:return gs.Closing;default:return gs.Closed}}isConnected(){return this.connectionState()===gs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===s);if(o)return o;{const a=new Mh(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:s,payload:o,ref:a}=e,u=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${s} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(cF,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},yl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:a,ref:u}=r,d=u?`(${u})`:"",f=a.status||"";this.log("receive",`${f} ${s} ${o} ${d}`.trim(),a),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,a,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ms.open||this.conn.readyState===ms.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${s}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([bF],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:aF};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Nr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new xv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,o,a,u,d,f,p,y,g,x,b;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Yd,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:yl.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:cd,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:Tg,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(w=>vF[w-1]||xF),this.vsn){case vv:this.encode=(y=e?.encode)!==null&&y!==void 0?y:((w,F)=>F(JSON.stringify(w))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:((w,F)=>F(JSON.parse(w)));break;case lF:this.encode=(x=e?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class ic extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class EF extends ic{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qd extends ic{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const $h=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),FF=()=>Response,Zd=t=>{if(Array.isArray(t))return t.map(r=>Zd(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Zd(s)}),e},_F=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kF=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),ud=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},jF=(t,e,r)=>ie(void 0,void 0,void 0,function*(){const s=yield FF();t instanceof s&&!r?.noResolveJson?t.json().then(o=>{const a=t.status||500,u=o?.statusCode||a+"";e(new EF(ud(o),a,u))}).catch(o=>{e(new Qd(ud(o),o))}):e(new Qd(ud(t),t))}),SF=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(_F(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function qo(t,e,r,s,o,a){return ie(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,SF(e,s,o,a)).then(f=>{if(!f.ok)throw f;return s?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>jF(f,d,s))})})}function Ro(t,e,r,s){return ie(this,void 0,void 0,function*(){return qo(t,"GET",e,r,s)})}function Ar(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return qo(t,"POST",e,s,o,r)})}function eh(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return qo(t,"PUT",e,s,o,r)})}function AF(t,e,r,s){return ie(this,void 0,void 0,function*(){return qo(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Vh(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return qo(t,"DELETE",e,s,o,r)})}class NF{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}var Ev;class CF{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Ev]="BlobDownloadBuilder",this.promise=null}asStream(){return new NF(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}Ev=Symbol.toStringTag;const TF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class PF{constructor(e,r={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=$h(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,o){return ie(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Dg),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),f&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(f))):(a=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const p=this._removeEmptyFolders(r),y=this._getFinalPath(p),g=yield(e=="PUT"?eh:Ar)(this.fetch,`${this.url}/object/${y}`,a,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}upload(e,r,s){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,o){return ie(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let f;const p=Object.assign({upsert:Dg.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",p.cacheControl)):(f=s,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const g=yield eh(this.fetch,d.toString(),f,{headers:y});return{data:{path:a,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Ke(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const a=yield Ar(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(this.url+a.url),d=u.searchParams.get("token");if(!d)throw new ic("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}update(e,r,s){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return ie(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}copy(e,r,s){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield Ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,s){return ie(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Ar(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,s){return ie(this,void 0,void 0,function*(){try{const o=yield Ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),u=a?`?${a}`:"",d=this._getFinalPath(e),f=()=>Ro(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new CF(f,this.shouldThrowOnError)}info(e){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield Ro(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Zd(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}exists(e){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield AF(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s)&&s instanceof Qd){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),o=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&o.push(a);const d=typeof r?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(r?.transform||{});f!==""&&o.push(f);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${p}`)}}}remove(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Vh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}list(e,r,s){return ie(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},TF),r),{prefix:e||""});return{data:yield Ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}listV2(e,r){return ie(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Ar(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Fv="2.86.0",_v={"X-Client-Info":`storage-js/${Fv}`};class RF{constructor(e,r={},s,o){this.shouldThrowOnError=!1;const a=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_v),r),this.fetch=$h(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ie(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Ro(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}getBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}createBucket(e){return ie(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return ie(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Vh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Oo=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function OF(t,e,r){const s=new URL(e,t);if(r)for(const[o,a]of Object.entries(r))a!==void 0&&s.searchParams.set(o,a);return s.toString()}async function DF(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function IF(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:o,body:a,headers:u}){const d=OF(t.baseUrl,s,o),f=await DF(t.auth),p=await e(d,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...f,...u},body:a?JSON.stringify(a):void 0}),y=await p.text(),g=(p.headers.get("content-type")||"").includes("application/json"),x=g&&y?JSON.parse(y):y;if(!p.ok){const b=g?x:void 0,w=b?.error;throw new Oo(w?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:w?.type,icebergCode:w?.code,details:b})}return{status:p.status,headers:p.headers,data:x}}}}function vl(t){return t.join("")}var LF=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:vl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vl(t.namespace)}`}),!0}catch(e){if(e instanceof Oo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Oo&&r.status===409)return;throw r}}};function Js(t){return t.join("")}var MF=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Oo&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Oo&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},$F=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=IF({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new LF(this.client,e),this.tableOps=new MF(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class VF{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_v),r),this.fetch=$h(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listBuckets(e){return ie(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const s=r.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Ro(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Vh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}from(e){if(!kF(e))throw new ic("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new $F({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ie(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Bh={"X-Client-Info":`storage-js/${Fv}`,"Content-Type":"application/json"};class kv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function er(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class dd extends kv{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class BF extends kv{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Ig;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ig||(Ig={}));const Uh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),UF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Lg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zF=(t,e,r)=>ie(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t.status||500,a=t;if(typeof a.json=="function")a.json().then(u=>{const d=u?.statusCode||u?.code||o+"";e(new dd(Lg(u),o,d))}).catch(()=>{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new dd(d,o,u))});else{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new dd(d,o,u))}}else e(new BF(Lg(t),t))}),WF=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return s?(UF(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),r)):o};function qF(t,e,r,s,o,a){return ie(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,WF(e,s,o,a)).then(f=>{if(!f.ok)throw f;if(s?.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>zF(f,d,s))})})}function tr(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return qF(t,"POST",e,s,o,r)})}class HF{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bh),r),this.fetch=Uh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ie(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}})}listIndexes(e){return ie(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ie(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}})}}class KF{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bh),r),this.fetch=Uh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}getVectors(e){return ie(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}listVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield tr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}queryVectors(e){return ie(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}}class GF{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bh),r),this.fetch=Uh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}getBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}listBuckets(){return ie(this,arguments,void 0,function*(e={}){try{return{data:yield tr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}}class YF extends GF{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new XF(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ie(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ie(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ie(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ie(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class XF extends HF{constructor(e,r,s,o){super(e,r,o),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ie(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ie(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ie(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ie(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new JF(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class JF extends KF{constructor(e,r,s,o,a){super(e,r,a),this.vectorBucketName=s,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ie(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ie(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ie(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ie(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ie(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class QF extends RF{constructor(e,r={},s,o){super(e,r,s,o)}from(e){return new PF(this.url,this.headers,e,this.fetch)}get vectors(){return new YF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new VF(this.url+"/iceberg",this.headers,this.fetch)}}const ZF="2.86.0";let _o="";typeof Deno<"u"?_o="deno":typeof document<"u"?_o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_o="react-native":_o="node";const e_={"X-Client-Info":`supabase-js-${_o}/${ZF}`},t_={headers:e_},r_={schema:"public"},n_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s_={},i_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),o_=()=>Headers,a_=(t,e,r)=>{const s=i_(r),o=o_();return async(a,u)=>{var d;const f=(d=await e())!==null&&d!==void 0?d:t;let p=new o(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),s(a,Object.assign(Object.assign({},u),{headers:p}))}};function l_(t){return t.endsWith("/")?t:t+"/"}function c_(t,e){var r,s;const{db:o,auth:a,realtime:u,global:d}=t,{db:f,auth:p,realtime:y,global:g}=e,x={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(r=g?.headers)!==null&&r!==void 0?r:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function u_(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(l_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const jv="2.86.0",li=30*1e3,th=3,hd=th*li,d_="http://localhost:9999",h_="supabase.auth.token",f_={"X-Client-Info":`gotrue-js/${jv}`},rh="X-Supabase-Api-Version",Sv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},p_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,m_=600*1e3;class Do extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class g_ extends Do{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function y_(t){return me(t)&&t.name==="AuthApiError"}class ys extends Do{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Un extends Do{constructor(e,r,s,o){super(e,s,o),this.name=r,this.status=s}}class Zt extends Un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function v_(t){return me(t)&&t.name==="AuthSessionMissingError"}class Qs extends Un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xl extends Un{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bl extends Un{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function x_(t){return me(t)&&t.name==="AuthImplicitGrantRedirectError"}class Mg extends Un{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nh extends Un{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function fd(t){return me(t)&&t.name==="AuthRetryableFetchError"}class $g extends Un{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class sh extends Un{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vg=` 	
\r=`.split(""),b_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Vg.length;e+=1)t[Vg[e].charCodeAt(0)]=-2;for(let e=0;e<ql.length;e+=1)t[ql[e].charCodeAt(0)]=e;return t})();function Bg(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(ql[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(ql[s]),e.queuedBits-=6}}function Av(t,e,r){const s=b_[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ug(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{F_(u,s,r)};for(let u=0;u<t.length;u+=1)Av(t.charCodeAt(u),o,a);return e.join("")}function w_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function E_(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}w_(s,e)}}function F_(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function mi(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Av(t.charCodeAt(o),r,s);return new Uint8Array(e)}function __(t){const e=[];return E_(t,r=>e.push(r)),new Uint8Array(e)}function vs(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Bg(o,r,s)),Bg(null,r,s),e.join("")}function k_(t){return Math.round(Date.now()/1e3)+t}function j_(){return Symbol("auth-callback")}const bt=()=>typeof window<"u"&&typeof document<"u",cs={tested:!1,writable:!1},Nv=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cs.tested)return cs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),cs.tested=!0,cs.writable=!0}catch{cs.tested=!0,cs.writable=!1}return cs.writable};function S_(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return r.searchParams.forEach((s,o)=>{e[o]=s}),e}const Cv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),A_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ci=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},us=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Tn=async(t,e)=>{await t.removeItem(e)};class oc{constructor(){this.promise=new oc.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}oc.promiseConstructor=Promise;function pd(t){const e=t.split(".");if(e.length!==3)throw new sh("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!p_.test(e[s]))throw new sh("JWT not in base64url format");return{header:JSON.parse(Ug(e[0])),payload:JSON.parse(Ug(e[1])),signature:mi(e[2]),raw:{header:e[0],payload:e[1]}}}async function N_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function C_(t,e){return new Promise((s,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){s(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function T_(t){return("0"+t.toString(16)).substr(-2)}function P_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let a=0;a<56;a++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,T_).join("")}async function R_(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function O_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await R_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zs(t,e,r=!1){const s=P_();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await ci(t,`${e}-code-verifier`,o);const a=await O_(s);return[a,s===a?"plain":"s256"]}const D_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I_(t){const e=t.headers.get(rh);if(!e||!e.match(D_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function L_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function M_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ei(t){if(!$_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function md(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function V_(t,e){return new Proxy(t,{get:(r,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,o)}})}function zg(t){return JSON.parse(JSON.stringify(t))}const fs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),B_=[502,503,504];async function Wg(t){var e;if(!A_(t))throw new nh(fs(t),0);if(B_.includes(t.status))throw new nh(fs(t),t.status);let r;try{r=await t.json()}catch(a){throw new ys(fs(a),a)}let s;const o=I_(t);if(o&&o.getTime()>=Sv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new $g(fs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Zt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new $g(fs(r),t.status,r.weak_password.reasons);throw new g_(fs(r),t.status||500,s)}const U_=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function be(t,e,r,s){var o;const a=Object.assign({},s?.headers);a[rh]||(a[rh]=Sv["2024-01-01"].name),s?.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await z_(t,e,r+d,{headers:a,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(f):{data:Object.assign({},f),error:null}}async function z_(t,e,r,s,o,a){const u=U_(e,s,o,a);let d;try{d=await t(r,Object.assign({},u))}catch(f){throw console.error(f),new nh(fs(f),0)}if(d.ok||await Wg(d),s?.noResolveJson)return d;try{return await d.json()}catch(f){await Wg(f)}}function jr(t){var e;let r=null;H_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=k_(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function qg(t){const e=jr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Dn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function W_(t){return{data:t,error:null}}function q_(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:a}=t,u=Bn(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:a},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function Hg(t){return t}function H_(t){return t.access_token&&t.refresh_token&&t.expires_in}const gd=["global","local","others"];class K_{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Cv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=gd[0]){if(gd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gd.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dn})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=Bn(e,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:q_,redirectTo:r?.redirectTo})}catch(r){if(me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dn})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,o,a,u,d,f;try{const p={nextPage:null,lastPage:0,total:0},y=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Hg});if(y.error)throw y.error;const g=await y.json(),x=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const F=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);p[`${_}Page`]=F}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(me(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ei(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dn})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ei(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Dn})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){ei(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dn})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ei(e.userId);try{const{data:r,error:s}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ei(e.userId),ei(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,o,a,u,d,f;try{const p={nextPage:null,lastPage:0,total:0},y=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Hg});if(y.error)throw y.error;const g=await y.json(),x=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const F=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);p[`${_}Page`]=F}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(me(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(me(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}}function Kg(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ti={debug:!!(globalThis&&Nv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class G_ extends Tv{}async function Y_(t,e,r){ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ti.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new G_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ti.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function X_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Pv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function J_(t){return parseInt(t,16)}function Q_(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Z_(t){var e;const{chainId:r,domain:s,expirationTime:o,issuedAt:a=new Date,nonce:u,notBefore:d,requestId:f,resources:p,scheme:y,uri:g,version:x}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=Pv(t.address),w=y?`${y}://${s}`:s,F=t.statement?`${t.statement}
`:"",_=`${w} wants you to sign in with your Ethereum account:
${b}

${F}`;let j=`URI: ${g}
Version: ${x}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(o&&(j+=`
Expiration Time: ${o.toISOString()}`),d&&(j+=`
Not Before: ${d.toISOString()}`),f&&(j+=`
Request ID: ${f}`),p){let A=`
Resources:`;for(const S of p){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);A+=`
- ${S}`}j+=A}return`${_}
${j}`}class nt extends Error{constructor({message:e,code:r,cause:s,name:o}){var a;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=o??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Hl extends nt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function e2({error:t,options:e}){var r,s,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Rv(u)){if(a.rp.id!==u)return new nt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function t2({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Rv(s)){if(r.rpId!==s)return new nt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class r2{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const n2=new r2;function s2(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,o=Bn(t,["challenge","user","excludeCredentials"]),a=mi(e).buffer,u=Object.assign(Object.assign({},r),{id:mi(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:a,user:u});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const p=s[f];d.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:mi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function i2(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=Bn(t,["challenge","allowCredentials"]),o=mi(e).buffer,a=Object.assign(Object.assign({},s),{challenge:o});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];a.allowCredentials[u]=Object.assign(Object.assign({},d),{id:mi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function o2(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:vs(new Uint8Array(t.response.attestationObject)),clientDataJSON:vs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function a2(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:vs(new Uint8Array(o.authenticatorData)),clientDataJSON:vs(new Uint8Array(o.clientDataJSON)),signature:vs(new Uint8Array(o.signature)),userHandle:o.userHandle?vs(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Rv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Gg(){var t,e;return!!(bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function l2(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hl("Browser returned unexpected credential type",e)}:{data:null,error:new Hl("Empty credential response",e)}}catch(e){return{data:null,error:e2({error:e,options:t})}}}async function c2(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hl("Browser returned unexpected credential type",e)}:{data:null,error:new Hl("Empty credential response",e)}}catch(e){return{data:null,error:t2({error:e,options:t})}}}const u2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},d2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Kl(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const a in o){const u=o[a];if(u!==void 0)if(Array.isArray(u))s[a]=u;else if(r(u))s[a]=u;else if(e(u)){const d=s[a];e(d)?s[a]=Kl(d,u):s[a]=Kl(u)}else s[a]=u}return s}function h2(t,e){return Kl(u2,t,e||{})}function f2(t,e){return Kl(d2,t,e||{})}class p2{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:o},a){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:d};const f=o??n2.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=h2(u.webauthn.credential_options.publicKey,a?.create),{data:y,error:g}=await l2({publicKey:p,signal:f});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:g}}case"request":{const p=f2(u.webauthn.credential_options.publicKey,a?.request),{data:y,error:g}=await c2(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:f}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:g}}}}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new ys("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!r)return{data:null,error:new Do("rpId is required for WebAuthn authentication")};try{if(!Gg())return{data:null,error:new ys("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:o},{request:a});if(!u)return{data:null,error:d};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:s,credential_response:f.credential_response}})}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new ys("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!r)return{data:null,error:new Do("rpId is required for WebAuthn registration")};try{if(!Gg())return{data:null,error:new ys("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var g;return(g=y.data)===null||g===void 0?void 0:g.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:d};const{data:f,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:o},{create:a});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:s,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new ys("Unexpected error in register",u)}}}}X_();const m2={url:d_,storageKey:h_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:f_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Yg(t,e,r){return await r()}const ri={};class Io{get jwks(){var e,r;return(r=(e=ri[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ri[this.storageKey]=Object.assign(Object.assign({},ri[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ri[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ri[this.storageKey]=Object.assign(Object.assign({},ri[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},m2),e);if(this.storageKey=a.storageKey,this.instanceID=(r=Io.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Io.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&bt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new K_({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Cv(a.fetch),this.lock=a.lock||Yg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:bt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Y_:this.lock=Yg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new p2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Nv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Kg(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${jv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(bt()&&(r=S_(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),bt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:a}=await this._getSessionFromURL(r,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),x_(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return me(r)?this._returnResult({error:r}):this._returnResult({error:new ys("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,o;try{const a=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:jr}),{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,s,o;try{let a;if("email"in e){const{email:y,password:g,options:x}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await Zs(this.storage,this.storageKey)),a=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:y,password:g,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:b,code_challenge_method:w},xform:jr})}else if("phone"in e){const{phone:y,password:g,options:x}=e;a=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:g,data:(s=x?.data)!==null&&s!==void 0?s:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:jr})}else throw new xl("You must provide either an email or phone number and a password");const{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:u,options:d}=e;r=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:qg})}else if("phone"in e){const{phone:a,password:u,options:d}=e;r=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:qg})}else throw new xl("You must provide either an email or phone number and a password");const{data:s,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const a=new Qs;return this._returnResult({data:{user:null,session:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,o,a,u,d,f,p,y,g,x;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:F,wallet:_,statement:j,options:A}=e;let S;if(bt())if(typeof _=="object")S=_;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")S=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=_}const T=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href),D=await S.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=Pv(D[0]);let B=(s=A?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!B){const X=await S.request({method:"eth_chainId"});B=J_(X)}const O={domain:T.host,address:M,statement:j,uri:T.href,version:"1",chainId:B,nonce:(o=A?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=A?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=A?.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=Z_(O),w=await S.request({method:"personal_sign",params:[Q_(b),M]})}try{const{data:F,error:_}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:jr});if(_)throw _;if(!F||!F.session||!F.user){const j=new Qs;return this._returnResult({data:{user:null,session:null},error:j})}return F.session&&(await this._saveSession(F.session),await this._notifyAllSubscribers("SIGNED_IN",F.session)),this._returnResult({data:Object.assign({},F),error:_})}catch(F){if(me(F))return this._returnResult({data:{user:null,session:null},error:F});throw F}}async signInWithSolana(e){var r,s,o,a,u,d,f,p,y,g,x,b;let w,F;if("message"in e)w=e.message,F=e.signature;else{const{chain:_,wallet:j,statement:A,options:S}=e;let T;if(bt())if(typeof j=="object")T=j;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))T=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=j}const D=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const M=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),A?{statement:A}:null));let B;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")B=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)B=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)w=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),F=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${D.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(s=S?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=S?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((u=S?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((d=S?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((f=S?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((p=S?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((g=(y=S?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||g===void 0)&&g.length?["Resources",...S.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const M=await T.signMessage(new TextEncoder().encode(w),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");F=M}}try{const{data:_,error:j}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:vs(F)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:jr});if(j)throw j;if(!_||!_.session||!_.user){const A=new Qs;return this._returnResult({data:{user:null,session:null},error:A})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(me(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const r=await us(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{const{data:a,error:u}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:jr});if(await Tn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const d=new Qs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:s,token:o,access_token:a,nonce:u}=e,d=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:jr}),{data:f,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const y=new Qs;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(r){if(me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,o,a,u;try{if("email"in e){const{email:d,options:f}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Zs(this.storage,this.storageKey));const{error:g}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:d,options:f}=e,{data:p,error:y}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:y})}throw new xl("You must provide either an email or phone number.")}catch(d){if(me(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,s;try{let o,a;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:jr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,s,o,a,u;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Zs(this.storage,this.storageKey));const p=await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:W_});return!((a=p.data)===null||a===void 0)&&a.url&&bt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(me(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Zt;const{error:o}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:a}=e,{error:u}=await be(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:a}=e,{data:u,error:d}=await be(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new xl("You must provide either an email or phone number and a type")}catch(r){if(me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<hd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await us(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=md()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=V_(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dn}):await this._useSession(async r=>{var s,o,a;const{data:u,error:d}=r;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zt}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Dn})})}catch(r){if(me(r))return v_(r)&&(await this._removeSession(),await Tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new Zt;const u=o.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await Zs(this.storage,this.storageKey));const{data:p,error:y}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:Dn});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(me(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zt;const r=Date.now()/1e3;let s=r,o=!0,a=null;const{payload:u}=pd(e.access_token);if(u.exp&&(s=u.exp,o=s<=r),o){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Zt;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!bt())throw new bl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Mg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Mg("No code detected.");const{data:A,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:d,expires_at:f,token_type:p}=e;if(!a||!d||!u||!p)throw new bl("No session defined in URL");const y=Math.round(Date.now()/1e3),g=parseInt(d);let x=y+g;f&&(x=parseInt(f));const b=x-y;b*1e3<=li&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const w=x-g;y-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,x,y):y-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,x,y);const{data:F,error:_}=await this._getUser(a);if(_)throw _;const j={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:g,expires_at:x,refresh_token:u,token_type:p,user:F.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(s){if(me(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await us(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:a}=r;if(a)return this._returnResult({error:a});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(y_(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=j_(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,o;try{const{data:{session:a},error:u}=r;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Zs(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:o}=await this._useSession(async a=>{var u,d,f,p,y;const{data:g,error:x}=a;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(p=g.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return bt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(me(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:o,data:{session:a}}=r;if(o)throw o;const{options:u,provider:d,token:f,access_token:p,nonce:y}=e,g=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:f,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:jr}),{data:x,error:b}=g;return b?this._returnResult({data:{user:null,session:null},error:b}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Qs}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:b}))}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,o;const{data:a,error:u}=r;if(u)throw u;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await C_(async o=>(o>0&&await N_(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jr})),(o,a)=>{const u=200*Math.pow(2,o);return a&&fd(a)&&Date.now()+u-s<li})}catch(s){if(this._debug(r,"error",s),me(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),bt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await us(this.storage,this.storageKey);if(o&&this.userStorage){let u=await us(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await ci(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:md()}else if(o&&!o.user&&!o.user){const u=await us(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await Tn(this.storage,this.storageKey+"-user"),await ci(this.storage,this.storageKey,o)):o.user=md()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const a=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hd;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${hd}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),fd(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new oc;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new Zt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(o,"error",a),me(a)){const u={data:null,error:a};return fd(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(f){a.push(f)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await ci(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const a=zg(o);await ci(this.storage,this.storageKey,a)}else{const o=zg(r);await ci(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Tn(this.storage,this.storageKey),await Tn(this.storage,this.storageKey+"-code-verifier"),await Tn(this.storage,this.storageKey+"-user"),this.userStorage&&await Tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),li);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/li);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${li}ms, refresh threshold is ${th} ticks`),o<=th&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Tv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,u]=await Zs(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(s?.queryParams){const a=new URLSearchParams(s.queryParams);o.push(a.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:o,error:a}=r;return a?this._returnResult({data:null,error:a}):await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,o;const{data:a,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await be(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?o2(e.webauthn.credential_response):a2(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:s2(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:i2(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=pd(s.access_token);let u=null;a.aal&&(u=a.aal);let d=u;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=a.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Zt});const u=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&bt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Zt});const u=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&bt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(e){if(me(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?(await be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zt})})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+m_>o)return s;const{data:a,error:u}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,s=a.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:b,error:w}=await this.getSession();if(w||!b.session)return this._returnResult({data:null,error:w});s=b.session.access_token}const{header:o,payload:a,signature:u,raw:{header:d,payload:f}}=pd(s);r?.allowExpired||L_(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:b}=await this.getUser(s);if(b)throw b;return{data:{claims:a,header:o,signature:u},error:null}}const y=M_(o.alg),g=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,g,u,__(`${d}.${f}`)))throw new sh("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}}Io.nextInstanceID={};const g2=Io;class y2 extends g2{constructor(e){super(e)}}class v2{constructor(e,r,s){var o,a,u;this.supabaseUrl=e,this.supabaseKey=r;const d=u_(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:r_,realtime:s_,auth:Object.assign(Object.assign({},n_),{storageKey:f}),global:t_},y=c_(s??{},p);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=y.global.headers)!==null&&a!==void 0?a:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=a_(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new sF(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new QF(this.storageUrl.href,this.headers,this.fetch,s?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new eF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:a,storageKey:u,flowType:d,lock:f,debug:p,throwOnError:y},g,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new y2({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),g),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:a,flowType:d,lock:f,debug:p,throwOnError:y,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new wF(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const x2=(t,e,r)=>new v2(t,e,r);function b2(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}b2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const w2="djsuqvmefbgnmoyfpqhi",E2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRqc3Vxdm1lZmJnbm1veWZwcWhpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMDc4MzcsImV4cCI6MjA3MTg4MzgzN30.ojH8W5hjbUbKKf_AaMnYzHGA5vf_fDtG8Bvguet8soA";let wl=null;const F2=async(t,e)=>{console.log(" Supabase fetch START:",t);try{console.log(" Testing basic fetch to google.com...");try{const s=await fetch("https://www.google.com",{method:"HEAD"});console.log(" Google fetch works:",s.status)}catch(s){console.error(" Google fetch FAILED:",s),console.error(" This means the simulator has NO network access")}const r=await fetch(t,e);if(console.log(" Supabase fetch SUCCESS:",r.status,r.statusText),!r.ok){const s=await r.clone().text();console.error(" Supabase response error body:",s)}return r}catch(r){throw console.error(" Supabase fetch EXCEPTION:",r),console.error(" Error type:",typeof r),console.error(" Error constructor:",r?.constructor?.name),console.error(" Error message:",r?.message),console.error(" Error stack:",r?.stack),r}};function ot(){if(wl)return wl;const t=`https://${w2}.supabase.co`;return console.log(" Creating Supabase client:",t),console.log(" localStorage available:",typeof window<"u"&&!!window.localStorage),wl=x2(t,E2,{auth:{storage:window.localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1},global:{fetch:F2,headers:{"X-Client-Info":"patron-pass-capacitor-ios"}}}),console.log(" Supabase client created"),wl}const Te=ot(),_2=Object.freeze(Object.defineProperty({__proto__:null,createClient:ot,supabase:Te},Symbol.toStringTag,{value:"Module"}));function k2(){const[t,e]=k.useState(null),[r,s]=k.useState(null),[o,a]=k.useState(!0),[u,d]=k.useState(null),[f,p]=k.useState(!1),[y,g]=k.useState(!1);k.useEffect(()=>{const _=ot();console.log("useAuth: Checking initial session..."),_.auth.getSession().then(({data:{session:A},error:S})=>{console.log("useAuth: Session check result:",{session:!!A,error:S}),e(A?.user??null),A?.user?(console.log("useAuth: User found, loading street user data..."),x(A.user.id)):(console.log("useAuth: No active session, stopping loading"),a(!1))}).catch(A=>{console.error("useAuth: Failed to get session:",A),a(!1)});const{data:{subscription:j}}=_.auth.onAuthStateChange((A,S)=>{e(S?.user??null),S?.user?x(S.user.id):(s(null),a(!1))});return()=>j.unsubscribe()},[]);async function x(_){const j=ot(),A=new Promise((S,T)=>setTimeout(()=>T(new Error("Database query timeout")),1e4));try{console.log("Loading street user for ID:",_);const S=j.from("street_users").select("*").eq("id",_).single(),T=await Promise.race([S,A]),{data:D,error:M}=T;if(console.log("Street user query result:",{streetUserData:D,userError:M}),M){console.error("Error loading street user:",{message:M.message,details:M.details,hint:M.hint,code:M.code,fullError:M}),d(`Failed to load profile: ${M.message}`),a(!1);return}if(D){s(D);try{const B=j.from("street_contract_acceptances").select("*").eq("user_id",_).single(),O=await Promise.race([B,A]),{data:X,error:he}=O;console.log("Contract query result:",{contractData:X,contractError:he}),p(!X&&D.status==="pending");const _e=localStorage.getItem(`onboarding_seen_${_}`);g(!_e&&!X)}catch(B){console.error("Contract query timeout or error:",B),p(!1),g(!1)}}}catch(S){console.error("Timeout or error loading street user:",S),d(S?.message||"Failed to load user data")}finally{a(!1)}}return{user:t,streetUser:r,loading:o,error:u,needsContract:f,needsOnboarding:y,signIn:async(_,j)=>{const A=ot();console.log("Calling Supabase signInWithPassword...");const S=new Promise((T,D)=>setTimeout(()=>D(new Error("Network request timeout - please check your connection")),15e3));try{const T=A.auth.signInWithPassword({email:_,password:j}),D=await Promise.race([T,S]),{data:M,error:B}=D;return console.log("Supabase auth response - data:",M,"error:",B),{data:M,error:B}}catch(T){return console.error("Auth timeout or network error:",T),{data:{user:null,session:null},error:{message:T.message||"Connection timeout"}}}},signOut:async()=>{await ot().auth.signOut(),e(null),s(null)},markOnboardingComplete:()=>{t&&(localStorage.setItem(`onboarding_seen_${t.id}`,"true"),g(!1))}}}async function j2(){const t=ot(),e=new Promise((r,s)=>setTimeout(()=>s(new Error("Database initialization timeout")),5e3));try{console.log(" Checking database tables..."),await Promise.race([t.from("street_ranks").select("*").limit(1),e]),console.log(" Database tables accessible")}catch{console.log(" Database tables may not exist or network unavailable. Skipping seed.");return}try{const{data:r}=await Promise.race([t.from("street_ranks").select("*"),e]);if(!r||r.length===0){const s=[{name:"Bronze",min_xp:0,order_index:1,perks_description:"Entry level. Learn the ropes. 15% platform fee share on first 15 venues for 12 months."},{name:"Silver",min_xp:1e3,order_index:2,perks_description:"Proven hustler. Priority lead approval. Early access to new features."},{name:"Gold",min_xp:2500,order_index:3,perks_description:"City mover. 20% platform fee share. Exclusive weekly missions."},{name:"Platinum",min_xp:5e3,order_index:4,perks_description:"Elite status. 25% platform fee share. Direct HQ line. First pick on high-value leads."},{name:"Diamond",min_xp:1e4,order_index:5,perks_description:"Top 1%. 30% platform fee share for life. VIP events. Mentor bonuses."},{name:"Black Key",min_xp:25e3,order_index:6,perks_description:"Legendary. Equity consideration. Co-create strategy with HQ. Lifetime rev-share on your network."}];for(const o of s)await t.from("street_ranks").insert(o)}}catch(r){console.log(" Failed to seed ranks:",r)}try{const{data:r}=await Promise.race([t.from("street_missions").select("*"),e]);if(!r||r.length===0){const s=new Date().toISOString(),o=new Date(Date.now()+10080*60*1e3).toISOString(),a=[{title:"First Contact",description:"Add 3 new venue leads today",type:"daily",scope:"global",city:null,xp_reward:100,point_reward:10,required_count:3,valid_from:s,valid_to:o,created_by:null},{title:"Street Runner",description:"Complete 5 street runs this week",type:"weekly",scope:"global",city:null,xp_reward:500,point_reward:50,required_count:5,valid_from:s,valid_to:o,created_by:null},{title:"Relationship Builder",description:'Move 2 leads to "Follow Up" stage',type:"daily",scope:"global",city:null,xp_reward:150,point_reward:15,required_count:2,valid_from:s,valid_to:o,created_by:null}];for(const u of a)await t.from("street_missions").insert(u)}}catch(r){console.log(" Failed to seed missions:",r)}}var Ov=By();const Dv=Ch(Ov);function S2(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const A2=t=>{switch(t){case"success":return T2;case"info":return R2;case"warning":return P2;case"error":return O2;default:return null}},N2=Array(12).fill(0),C2=({visible:t,className:e})=>J.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},J.createElement("div",{className:"sonner-spinner"},N2.map((r,s)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),T2=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),P2=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),R2=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),O2=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),D2=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),I2=()=>{const[t,e]=J.useState(document.hidden);return J.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let ih=1;class L2{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:s,...o}=e,a=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:ih++,u=this.toasts.find(f=>f.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:s}),{...f,...e,id:a,dismissible:d,title:s}):f):this.addToast({title:s,...o,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=s!==void 0,u;const d=o.then(async p=>{if(u=["resolve",p],J.isValidElement(p))a=!1,this.create({id:s,type:"default",message:p});else if($2(p)&&!p.ok){a=!1;const g=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,w=typeof g=="object"&&!J.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...w})}else if(p instanceof Error){a=!1;const g=typeof r.error=="function"?await r.error(p):r.error,x=typeof r.description=="function"?await r.description(p):r.description,w=typeof g=="object"&&!J.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...w})}else if(r.success!==void 0){a=!1;const g=typeof r.success=="function"?await r.success(p):r.success,x=typeof r.description=="function"?await r.description(p):r.description,w=typeof g=="object"&&!J.isValidElement(g)?g:{message:g};this.create({id:s,type:"success",description:x,...w})}}).catch(async p=>{if(u=["reject",p],r.error!==void 0){a=!1;const y=typeof r.error=="function"?await r.error(p):r.error,g=typeof r.description=="function"?await r.description(p):r.description,b=typeof y=="object"&&!J.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:g,...b})}}).finally(()=>{a&&(this.dismiss(s),s=void 0),r.finally==null||r.finally.call(r)}),f=()=>new Promise((p,y)=>d.then(()=>u[0]==="reject"?y(u[1]):p(u[1])).catch(y));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(e,r)=>{const s=r?.id||ih++;return this.create({jsx:e(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Bt=new L2,M2=(t,e)=>{const r=e?.id||ih++;return Bt.addToast({title:t,...e,id:r}),r},$2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",V2=M2,B2=()=>Bt.toasts,U2=()=>Bt.getActiveToasts(),Le=Object.assign(V2,{success:Bt.success,info:Bt.info,warning:Bt.warning,error:Bt.error,custom:Bt.custom,message:Bt.message,promise:Bt.promise,dismiss:Bt.dismiss,loading:Bt.loading},{getHistory:B2,getToasts:U2});S2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function El(t){return t.label!==void 0}const z2=3,W2="24px",q2="16px",Xg=4e3,H2=356,K2=14,G2=45,Y2=200;function Ir(...t){return t.filter(Boolean).join(" ")}function X2(t){const[e,r]=t.split("-"),s=[];return e&&s.push(e),r&&s.push(r),s}const J2=t=>{var e,r,s,o,a,u,d,f,p;const{invert:y,toast:g,unstyled:x,interacting:b,setHeights:w,visibleToasts:F,heights:_,index:j,toasts:A,expanded:S,removeToast:T,defaultRichColors:D,closeButton:M,style:B,cancelButtonStyle:O,actionButtonStyle:X,className:he="",descriptionClassName:_e="",duration:te,position:fe,gap:pe,expandByDefault:Se,classNames:Q,icons:ee,closeButtonAriaLabel:V="Close toast"}=t,[re,Y]=J.useState(null),[R,z]=J.useState(null),[K,Z]=J.useState(!1),[ue,we]=J.useState(!1),[ye,ge]=J.useState(!1),[Ce,We]=J.useState(!1),[Ht,Ot]=J.useState(!1),[js,qn]=J.useState(0),[Zo,Ti]=J.useState(0),Ur=J.useRef(g.duration||te||Xg),Pi=J.useRef(null),Kt=J.useRef(null),Hn=j===0,sn=j+1<=F,gt=g.type,zr=g.dismissible!==!1,ea=g.className||"",ta=g.descriptionClassName||"",Kn=J.useMemo(()=>_.findIndex(ke=>ke.toastId===g.id)||0,[_,g.id]),Ri=J.useMemo(()=>{var ke;return(ke=g.closeButton)!=null?ke:M},[g.closeButton,M]),Gn=J.useMemo(()=>g.duration||te||Xg,[g.duration,te]),Ss=J.useRef(0),nr=J.useRef(0),on=J.useRef(0),an=J.useRef(null),[ra,na]=fe.split("-"),sa=J.useMemo(()=>_.reduce((ke,Je,at)=>at>=Kn?ke:ke+Je.height,0),[_,Kn]),As=I2(),Oi=g.invert||y,Yn=gt==="loading";nr.current=J.useMemo(()=>Kn*pe+sa,[Kn,sa]),J.useEffect(()=>{Ur.current=Gn},[Gn]),J.useEffect(()=>{Z(!0)},[]),J.useEffect(()=>{const ke=Kt.current;if(ke){const Je=ke.getBoundingClientRect().height;return Ti(Je),w(at=>[{toastId:g.id,height:Je,position:g.position},...at]),()=>w(at=>at.filter(Et=>Et.toastId!==g.id))}},[w,g.id]),J.useLayoutEffect(()=>{if(!K)return;const ke=Kt.current,Je=ke.style.height;ke.style.height="auto";const at=ke.getBoundingClientRect().height;ke.style.height=Je,Ti(at),w(Et=>Et.find(tt=>tt.toastId===g.id)?Et.map(tt=>tt.toastId===g.id?{...tt,height:at}:tt):[{toastId:g.id,height:at,position:g.position},...Et])},[K,g.title,g.description,w,g.id,g.jsx,g.action,g.cancel]);const sr=J.useCallback(()=>{we(!0),qn(nr.current),w(ke=>ke.filter(Je=>Je.toastId!==g.id)),setTimeout(()=>{T(g)},Y2)},[g,T,w,nr]);J.useEffect(()=>{if(g.promise&&gt==="loading"||g.duration===1/0||g.type==="loading")return;let ke;return S||b||As?(()=>{if(on.current<Ss.current){const Et=new Date().getTime()-Ss.current;Ur.current=Ur.current-Et}on.current=new Date().getTime()})():(()=>{Ur.current!==1/0&&(Ss.current=new Date().getTime(),ke=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),sr()},Ur.current))})(),()=>clearTimeout(ke)},[S,b,g,gt,As,sr]),J.useEffect(()=>{g.delete&&(sr(),g.onDismiss==null||g.onDismiss.call(g,g))},[sr,g.delete]);function Di(){var ke;if(ee?.loading){var Je;return J.createElement("div",{className:Ir(Q?.loader,g==null||(Je=g.classNames)==null?void 0:Je.loader,"sonner-loader"),"data-visible":gt==="loading"},ee.loading)}return J.createElement(C2,{className:Ir(Q?.loader,g==null||(ke=g.classNames)==null?void 0:ke.loader),visible:gt==="loading"})}const ln=g.icon||ee?.[gt]||A2(gt);var Wr,Ii;return J.createElement("li",{tabIndex:0,ref:Kt,className:Ir(he,ea,Q?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,Q?.default,Q?.[gt],g==null||(r=g.classNames)==null?void 0:r[gt]),"data-sonner-toast":"","data-rich-colors":(Wr=g.richColors)!=null?Wr:D,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":K,"data-promise":!!g.promise,"data-swiped":Ht,"data-removed":ue,"data-visible":sn,"data-y-position":ra,"data-x-position":na,"data-index":j,"data-front":Hn,"data-swiping":ye,"data-dismissible":zr,"data-type":gt,"data-invert":Oi,"data-swipe-out":Ce,"data-swipe-direction":R,"data-expanded":!!(S||Se&&K),"data-testid":g.testId,style:{"--index":j,"--toasts-before":j,"--z-index":A.length-j,"--offset":`${ue?js:nr.current}px`,"--initial-height":Se?"auto":`${Zo}px`,...B,...g.style},onDragEnd:()=>{ge(!1),Y(null),an.current=null},onPointerDown:ke=>{ke.button!==2&&(Yn||!zr||(Pi.current=new Date,qn(nr.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(ge(!0),an.current={x:ke.clientX,y:ke.clientY})))},onPointerUp:()=>{var ke,Je,at;if(Ce||!zr)return;an.current=null;const Et=Number(((ke=Kt.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),cn=Number(((Je=Kt.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),tt=new Date().getTime()-((at=Pi.current)==null?void 0:at.getTime()),ht=re==="x"?Et:cn,un=Math.abs(ht)/tt;if(Math.abs(ht)>=G2||un>.11){qn(nr.current),g.onDismiss==null||g.onDismiss.call(g,g),z(re==="x"?Et>0?"right":"left":cn>0?"down":"up"),sr(),We(!0);return}else{var yt,Gt;(yt=Kt.current)==null||yt.style.setProperty("--swipe-amount-x","0px"),(Gt=Kt.current)==null||Gt.style.setProperty("--swipe-amount-y","0px")}Ot(!1),ge(!1),Y(null)},onPointerMove:ke=>{var Je,at,Et;if(!an.current||!zr||((Je=window.getSelection())==null?void 0:Je.toString().length)>0)return;const tt=ke.clientY-an.current.y,ht=ke.clientX-an.current.x;var un;const yt=(un=t.swipeDirections)!=null?un:X2(fe);!re&&(Math.abs(ht)>1||Math.abs(tt)>1)&&Y(Math.abs(ht)>Math.abs(tt)?"x":"y");let Gt={x:0,y:0};const dn=ir=>1/(1.5+Math.abs(ir)/20);if(re==="y"){if(yt.includes("top")||yt.includes("bottom"))if(yt.includes("top")&&tt<0||yt.includes("bottom")&&tt>0)Gt.y=tt;else{const ir=tt*dn(tt);Gt.y=Math.abs(ir)<Math.abs(tt)?ir:tt}}else if(re==="x"&&(yt.includes("left")||yt.includes("right")))if(yt.includes("left")&&ht<0||yt.includes("right")&&ht>0)Gt.x=ht;else{const ir=ht*dn(ht);Gt.x=Math.abs(ir)<Math.abs(ht)?ir:ht}(Math.abs(Gt.x)>0||Math.abs(Gt.y)>0)&&Ot(!0),(at=Kt.current)==null||at.style.setProperty("--swipe-amount-x",`${Gt.x}px`),(Et=Kt.current)==null||Et.style.setProperty("--swipe-amount-y",`${Gt.y}px`)}},Ri&&!g.jsx&&gt!=="loading"?J.createElement("button",{"aria-label":V,"data-disabled":Yn,"data-close-button":!0,onClick:Yn||!zr?()=>{}:()=>{sr(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Ir(Q?.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(Ii=ee?.close)!=null?Ii:D2):null,(gt||g.icon||g.promise)&&g.icon!==null&&(ee?.[gt]!==null||g.icon)?J.createElement("div",{"data-icon":"",className:Ir(Q?.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Di():null,g.type!=="loading"?ln:null):null,J.createElement("div",{"data-content":"",className:Ir(Q?.content,g==null||(a=g.classNames)==null?void 0:a.content)},J.createElement("div",{"data-title":"",className:Ir(Q?.title,g==null||(u=g.classNames)==null?void 0:u.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?J.createElement("div",{"data-description":"",className:Ir(_e,ta,Q?.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),J.isValidElement(g.cancel)?g.cancel:g.cancel&&El(g.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||O,onClick:ke=>{El(g.cancel)&&zr&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,ke),sr())},className:Ir(Q?.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,J.isValidElement(g.action)?g.action:g.action&&El(g.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||X,onClick:ke=>{El(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,ke),!ke.defaultPrevented&&sr())},className:Ir(Q?.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function Jg(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Q2(t,e){const r={};return[t,e].forEach((s,o)=>{const a=o===1,u=a?"--mobile-offset":"--offset",d=a?q2:W2;function f(p){["top","right","bottom","left"].forEach(y=>{r[`${u}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(p=>{s[p]===void 0?r[`${u}-${p}`]=d:r[`${u}-${p}`]=typeof s[p]=="number"?`${s[p]}px`:s[p]}):f(d)}),r}const Z2=J.forwardRef(function(e,r){const{id:s,invert:o,position:a="bottom-right",hotkey:u=["altKey","KeyT"],expand:d,closeButton:f,className:p,offset:y,mobileOffset:g,theme:x="light",richColors:b,duration:w,style:F,visibleToasts:_=z2,toastOptions:j,dir:A=Jg(),gap:S=K2,icons:T,containerAriaLabel:D="Notifications"}=e,[M,B]=J.useState([]),O=J.useMemo(()=>s?M.filter(K=>K.toasterId===s):M.filter(K=>!K.toasterId),[M,s]),X=J.useMemo(()=>Array.from(new Set([a].concat(O.filter(K=>K.position).map(K=>K.position)))),[O,a]),[he,_e]=J.useState([]),[te,fe]=J.useState(!1),[pe,Se]=J.useState(!1),[Q,ee]=J.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=J.useRef(null),re=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),Y=J.useRef(null),R=J.useRef(!1),z=J.useCallback(K=>{B(Z=>{var ue;return(ue=Z.find(we=>we.id===K.id))!=null&&ue.delete||Bt.dismiss(K.id),Z.filter(({id:we})=>we!==K.id)})},[]);return J.useEffect(()=>Bt.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{B(Z=>Z.map(ue=>ue.id===K.id?{...ue,delete:!0}:ue))});return}setTimeout(()=>{Dv.flushSync(()=>{B(Z=>{const ue=Z.findIndex(we=>we.id===K.id);return ue!==-1?[...Z.slice(0,ue),{...Z[ue],...K},...Z.slice(ue+1)]:[K,...Z]})})})}),[M]),J.useEffect(()=>{if(x!=="system"){ee(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:Z})=>{ee(Z?"dark":"light")})}catch{K.addListener(({matches:ue})=>{try{ee(ue?"dark":"light")}catch(we){console.error(we)}})}},[x]),J.useEffect(()=>{M.length<=1&&fe(!1)},[M]),J.useEffect(()=>{const K=Z=>{var ue;if(u.every(ge=>Z[ge]||Z.code===ge)){var ye;fe(!0),(ye=V.current)==null||ye.focus()}Z.code==="Escape"&&(document.activeElement===V.current||(ue=V.current)!=null&&ue.contains(document.activeElement))&&fe(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[u]),J.useEffect(()=>{if(V.current)return()=>{Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null,R.current=!1)}},[V.current]),J.createElement("section",{ref:r,"aria-label":`${D} ${re}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},X.map((K,Z)=>{var ue;const[we,ye]=K.split("-");return O.length?J.createElement("ol",{key:K,dir:A==="auto"?Jg():A,tabIndex:-1,ref:V,className:p,"data-sonner-toaster":!0,"data-sonner-theme":Q,"data-y-position":we,"data-x-position":ye,style:{"--front-toast-height":`${((ue=he[0])==null?void 0:ue.height)||0}px`,"--width":`${H2}px`,"--gap":`${S}px`,...F,...Q2(y,g)},onBlur:ge=>{R.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(R.current=!1,Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||R.current||(R.current=!0,Y.current=ge.relatedTarget)},onMouseEnter:()=>fe(!0),onMouseMove:()=>fe(!0),onMouseLeave:()=>{pe||fe(!1)},onDragEnd:()=>fe(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||Se(!0)},onPointerUp:()=>Se(!1)},O.filter(ge=>!ge.position&&Z===0||ge.position===K).map((ge,Ce)=>{var We,Ht;return J.createElement(J2,{key:ge.id,icons:T,index:Ce,toast:ge,defaultRichColors:b,duration:(We=j?.duration)!=null?We:w,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:o,visibleToasts:_,closeButton:(Ht=j?.closeButton)!=null?Ht:f,interacting:pe,position:K,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:z,toasts:O.filter(Ot=>Ot.position==ge.position),heights:he.filter(Ot=>Ot.position==ge.position),setHeights:_e,expandByDefault:d,gap:S,expanded:te,swipeDirections:e.swipeDirections})})):null}))});/*! Capacitor: https://capacitorjs.com/ - MIT License */var bi;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(bi||(bi={}));class yd extends Error{constructor(e,r,s){super(e),this.message=e,this.code=r,this.data=s}}const ek=t=>{var e,r;return t?.androidBridge?"android":!((r=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},tk=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},s=r.Plugins=r.Plugins||{},o=()=>e!==null?e.name:ek(t),a=()=>o()!=="web",u=g=>{const x=p.get(g);return!!(x?.platforms.has(o())||d(g))},d=g=>{var x;return(x=r.PluginHeaders)===null||x===void 0?void 0:x.find(b=>b.name===g)},f=g=>t.console.error(g),p=new Map,y=(g,x={})=>{const b=p.get(g);if(b)return console.warn(`Capacitor plugin "${g}" already registered. Cannot register plugins twice.`),b.proxy;const w=o(),F=d(g);let _;const j=async()=>(!_&&w in x?_=typeof x[w]=="function"?_=await x[w]():_=x[w]:e!==null&&!_&&"web"in x&&(_=typeof x.web=="function"?_=await x.web():_=x.web),_),A=(O,X)=>{var he,_e;if(F){const te=F?.methods.find(fe=>X===fe.name);if(te)return te.rtype==="promise"?fe=>r.nativePromise(g,X.toString(),fe):(fe,pe)=>r.nativeCallback(g,X.toString(),fe,pe);if(O)return(he=O[X])===null||he===void 0?void 0:he.bind(O)}else{if(O)return(_e=O[X])===null||_e===void 0?void 0:_e.bind(O);throw new yd(`"${g}" plugin is not implemented on ${w}`,bi.Unimplemented)}},S=O=>{let X;const he=(..._e)=>{const te=j().then(fe=>{const pe=A(fe,O);if(pe){const Se=pe(..._e);return X=Se?.remove,Se}else throw new yd(`"${g}.${O}()" is not implemented on ${w}`,bi.Unimplemented)});return O==="addListener"&&(te.remove=async()=>X()),te};return he.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(he,"name",{value:O,writable:!1,configurable:!1}),he},T=S("addListener"),D=S("removeListener"),M=(O,X)=>{const he=T({eventName:O},X),_e=async()=>{const fe=await he;D({eventName:O,callbackId:fe},X)},te=new Promise(fe=>he.then(()=>fe({remove:_e})));return te.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await _e()},te},B=new Proxy({},{get(O,X){switch(X){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return F?M:T;case"removeListener":return D;default:return S(X)}}});return s[g]=B,p.set(g,{name:g,proxy:B,platforms:new Set([...Object.keys(x),...F?[w]:[]])}),B};return r.convertFileSrc||(r.convertFileSrc=g=>g),r.getPlatform=o,r.handleError=f,r.isNativePlatform=a,r.isPluginAvailable=u,r.registerPlugin=y,r.Exception=yd,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},rk=t=>t.Capacitor=tk(t),Gl=rk(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ac=Gl.registerPlugin;class Iv{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(r);const a=this.windowListeners[e];a&&!a.registered&&this.addWindowListener(a),s&&this.sendRetainedArgumentsForEvent(e);const u=async()=>this.removeListener(e,r);return Promise.resolve({remove:u})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,s){const o=this.listeners[e];if(!o){if(s){let a=this.retainedEventArguments[e];a||(a=[]),a.push(r),this.retainedEventArguments[e]=a}return}o.forEach(a=>a(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:s=>{this.notifyListeners(r,s)}}}unimplemented(e="not implemented"){return new Gl.Exception(e,bi.Unimplemented)}unavailable(e="not available"){return new Gl.Exception(e,bi.Unavailable)}async removeListener(e,r){const s=this.listeners[e];if(!s)return;const o=s.indexOf(r);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(s=>{this.notifyListeners(e,s)}))}}const Qg=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Zg=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class nk extends Iv{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[o,a]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=Zg(o).trim(),a=Zg(a).trim(),r[o]=a}),r}async setCookie(e){try{const r=Qg(e.key),s=Qg(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,a=(e.path||"/").replace("path=",""),u=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${s||""}${o}; path=${a}; ${u};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}ac("CapacitorCookies",{web:()=>new nk});const sk=async t=>new Promise((e,r)=>{const s=new FileReader;s.onload=()=>{const o=s.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},s.onerror=o=>r(o),s.readAsDataURL(t)}),ik=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(o=>o.toLocaleLowerCase()).reduce((o,a,u)=>(o[a]=t[e[u]],o),{})},ok=(t,e=!0)=>t?Object.entries(t).reduce((s,o)=>{const[a,u]=o;let d,f;return Array.isArray(u)?(f="",u.forEach(p=>{d=e?encodeURIComponent(p):p,f+=`${a}=${d}&`}),f.slice(0,-1)):(d=e?encodeURIComponent(u):u,f=`${a}=${d}`),`${s}&${f}`},"").substr(1):null,ak=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),o=ik(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(o.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[u,d]of Object.entries(t.data||{}))a.set(u,d);r.body=a.toString()}else if(o.includes("multipart/form-data")||t.data instanceof FormData){const a=new FormData;if(t.data instanceof FormData)t.data.forEach((d,f)=>{a.append(f,d)});else for(const d of Object.keys(t.data))a.append(d,t.data[d]);r.body=a;const u=new Headers(r.headers);u.delete("content-type"),r.headers=u}else(o.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class lk extends Iv{async request(e){const r=ak(e,e.webFetchExtra),s=ok(e.params,e.shouldEncodeUrlParams),o=s?`${e.url}?${s}`:e.url,a=await fetch(o,r),u=a.headers.get("content-type")||"";let{responseType:d="text"}=a.ok?e:{};u.includes("application/json")&&(d="json");let f,p;switch(d){case"arraybuffer":case"blob":p=await a.blob(),f=await sk(p);break;case"json":f=await a.json();break;case"document":case"text":default:f=await a.text()}const y={};return a.headers.forEach((g,x)=>{y[x]=g}),{data:f,headers:y,status:a.status,url:a.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}ac("CapacitorHttp",{web:()=>new lk});const ni=ac("PushNotifications",{});function e0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lc(...t){return e=>{let r=!1;const s=t.map(o=>{const a=e0(o,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():e0(t[o],null)}}}}function rr(...t){return k.useCallback(lc(...t),t)}var ck=Symbol.for("react.lazy"),Yl=Rh[" use ".trim().toString()];function uk(t){return typeof t=="object"&&t!==null&&"then"in t}function Lv(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===ck&&"_payload"in t&&uk(t._payload)}function Mv(t){const e=hk(t),r=k.forwardRef((s,o)=>{let{children:a,...u}=s;Lv(a)&&typeof Yl=="function"&&(a=Yl(a._payload));const d=k.Children.toArray(a),f=d.find(pk);if(f){const p=f.props.children,y=d.map(g=>g===f?k.Children.count(p)>1?k.Children.only(null):k.isValidElement(p)?p.props.children:null:g);return l.jsx(e,{...u,ref:o,children:k.isValidElement(p)?k.cloneElement(p,void 0,y):null})}return l.jsx(e,{...u,ref:o,children:a})});return r.displayName=`${t}.Slot`,r}var dk=Mv("Slot");function hk(t){const e=k.forwardRef((r,s)=>{let{children:o,...a}=r;if(Lv(o)&&typeof Yl=="function"&&(o=Yl(o._payload)),k.isValidElement(o)){const u=gk(o),d=mk(a,o.props);return o.type!==k.Fragment&&(d.ref=s?lc(s,u):u),k.cloneElement(o,d)}return k.Children.count(o)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fk=Symbol("radix.slottable");function pk(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fk}function mk(t,e){const r={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?r[s]=(...d)=>{const f=a(...d);return o(...d),f}:o&&(r[s]=o):s==="style"?r[s]={...o,...a}:s==="className"&&(r[s]=[o,a].filter(Boolean).join(" "))}return{...t,...r}}function gk(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function $v(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=$v(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function Vv(){for(var t,e,r=0,s="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=$v(t))&&(s&&(s+=" "),s+=e);return s}const t0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,r0=Vv,yk=(t,e)=>r=>{var s;if(e?.variants==null)return r0(t,r?.class,r?.className);const{variants:o,defaultVariants:a}=e,u=Object.keys(o).map(p=>{const y=r?.[p],g=a?.[p];if(y===null)return null;const x=t0(y)||t0(g);return o[p][x]}),d=r&&Object.entries(r).reduce((p,y)=>{let[g,x]=y;return x===void 0||(p[g]=x),p},{}),f=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((p,y)=>{let{class:g,className:x,...b}=y;return Object.entries(b).every(w=>{let[F,_]=w;return Array.isArray(_)?_.includes({...a,...d}[F]):{...a,...d}[F]===_})?[...p,g,x]:p},[]);return r0(t,u,f,r?.class,r?.className)},vk=(t,e)=>{const r=new Array(t.length+e.length);for(let s=0;s<t.length;s++)r[s]=t[s];for(let s=0;s<e.length;s++)r[t.length+s]=e[s];return r},xk=(t,e)=>({classGroupId:t,validator:e}),Bv=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),Xl="-",n0=[],bk="arbitrary..",wk=t=>{const e=Fk(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Ek(u);const d=u.split(Xl),f=d[0]===""&&d.length>1?1:0;return Uv(d,f,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const f=s[u],p=r[u];return f?p?vk(p,f):f:p||n0}return r[u]||n0}}},Uv=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const o=t[e],a=r.nextPart.get(o);if(a){const p=Uv(t,e+1,a);if(p)return p}const u=r.validators;if(u===null)return;const d=e===0?t.join(Xl):t.slice(e).join(Xl),f=u.length;for(let p=0;p<f;p++){const y=u[p];if(y.validator(d))return y.classGroupId}},Ek=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),s=e.slice(0,r);return s?bk+s:void 0})(),Fk=t=>{const{theme:e,classGroups:r}=t;return _k(r,e)},_k=(t,e)=>{const r=Bv();for(const s in t){const o=t[s];zh(o,r,s,e)}return r},zh=(t,e,r,s)=>{const o=t.length;for(let a=0;a<o;a++){const u=t[a];kk(u,e,r,s)}},kk=(t,e,r,s)=>{if(typeof t=="string"){jk(t,e,r);return}if(typeof t=="function"){Sk(t,e,r,s);return}Ak(t,e,r,s)},jk=(t,e,r)=>{const s=t===""?e:zv(e,t);s.classGroupId=r},Sk=(t,e,r,s)=>{if(Nk(t)){zh(t(s),e,r,s);return}e.validators===null&&(e.validators=[]),e.validators.push(xk(r,t))},Ak=(t,e,r,s)=>{const o=Object.entries(t),a=o.length;for(let u=0;u<a;u++){const[d,f]=o[u];zh(f,zv(e,d),r,s)}},zv=(t,e)=>{let r=t;const s=e.split(Xl),o=s.length;for(let a=0;a<o;a++){const u=s[a];let d=r.nextPart.get(u);d||(d=Bv(),r.nextPart.set(u,d)),r=d}return r},Nk=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Ck=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),s=Object.create(null);const o=(a,u)=>{r[a]=u,e++,e>t&&(e=0,s=r,r=Object.create(null))};return{get(a){let u=r[a];if(u!==void 0)return u;if((u=s[a])!==void 0)return o(a,u),u},set(a,u){a in r?r[a]=u:o(a,u)}}},oh="!",s0=":",Tk=[],i0=(t,e,r,s,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:s,isExternal:o}),Pk=t=>{const{prefix:e,experimentalParseClassName:r}=t;let s=o=>{const a=[];let u=0,d=0,f=0,p;const y=o.length;for(let F=0;F<y;F++){const _=o[F];if(u===0&&d===0){if(_===s0){a.push(o.slice(f,F)),f=F+1;continue}if(_==="/"){p=F;continue}}_==="["?u++:_==="]"?u--:_==="("?d++:_===")"&&d--}const g=a.length===0?o:o.slice(f);let x=g,b=!1;g.endsWith(oh)?(x=g.slice(0,-1),b=!0):g.startsWith(oh)&&(x=g.slice(1),b=!0);const w=p&&p>f?p-f:void 0;return i0(a,b,x,w)};if(e){const o=e+s0,a=s;s=u=>u.startsWith(o)?a(u.slice(o.length)):i0(Tk,!1,u,void 0,!0)}if(r){const o=s;s=a=>r({className:a,parseClassName:o})}return s},Rk=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,s)=>{e.set(r,1e6+s)}),r=>{const s=[];let o=[];for(let a=0;a<r.length;a++){const u=r[a],d=u[0]==="[",f=e.has(u);d||f?(o.length>0&&(o.sort(),s.push(...o),o=[]),s.push(u)):o.push(u)}return o.length>0&&(o.sort(),s.push(...o)),s}},Ok=t=>({cache:Ck(t.cacheSize),parseClassName:Pk(t),sortModifiers:Rk(t),...wk(t)}),Dk=/\s+/,Ik=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:a}=e,u=[],d=t.trim().split(Dk);let f="";for(let p=d.length-1;p>=0;p-=1){const y=d[p],{isExternal:g,modifiers:x,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:F}=r(y);if(g){f=y+(f.length>0?" "+f:f);continue}let _=!!F,j=s(_?w.substring(0,F):w);if(!j){if(!_){f=y+(f.length>0?" "+f:f);continue}if(j=s(w),!j){f=y+(f.length>0?" "+f:f);continue}_=!1}const A=x.length===0?"":x.length===1?x[0]:a(x).join(":"),S=b?A+oh:A,T=S+j;if(u.indexOf(T)>-1)continue;u.push(T);const D=o(j,_);for(let M=0;M<D.length;++M){const B=D[M];u.push(S+B)}f=y+(f.length>0?" "+f:f)}return f},Lk=(...t)=>{let e=0,r,s,o="";for(;e<t.length;)(r=t[e++])&&(s=Wv(r))&&(o&&(o+=" "),o+=s);return o},Wv=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=Wv(t[s]))&&(r&&(r+=" "),r+=e);return r},Mk=(t,...e)=>{let r,s,o,a;const u=f=>{const p=e.reduce((y,g)=>g(y),t());return r=Ok(p),s=r.cache.get,o=r.cache.set,a=d,d(f)},d=f=>{const p=s(f);if(p)return p;const y=Ik(f,r);return o(f,y),y};return a=u,(...f)=>a(Lk(...f))},$k=[],ut=t=>{const e=r=>r[t]||$k;return e.isThemeGetter=!0,e},qv=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Hv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Vk=/^\d+\/\d+$/,Bk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Uk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Wk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,si=t=>Vk.test(t),Ae=t=>!!t&&!Number.isNaN(Number(t)),Pn=t=>!!t&&Number.isInteger(Number(t)),vd=t=>t.endsWith("%")&&Ae(t.slice(0,-1)),Zr=t=>Bk.test(t),Hk=()=>!0,Kk=t=>Uk.test(t)&&!zk.test(t),Kv=()=>!1,Gk=t=>Wk.test(t),Yk=t=>qk.test(t),Xk=t=>!ae(t)&&!le(t),Jk=t=>ji(t,Xv,Kv),ae=t=>qv.test(t),ds=t=>ji(t,Jv,Kk),xd=t=>ji(t,rj,Ae),o0=t=>ji(t,Gv,Kv),Qk=t=>ji(t,Yv,Yk),Fl=t=>ji(t,Qv,Gk),le=t=>Hv.test(t),xo=t=>Si(t,Jv),Zk=t=>Si(t,nj),a0=t=>Si(t,Gv),ej=t=>Si(t,Xv),tj=t=>Si(t,Yv),_l=t=>Si(t,Qv,!0),ji=(t,e,r)=>{const s=qv.exec(t);return s?s[1]?e(s[1]):r(s[2]):!1},Si=(t,e,r=!1)=>{const s=Hv.exec(t);return s?s[1]?e(s[1]):r:!1},Gv=t=>t==="position"||t==="percentage",Yv=t=>t==="image"||t==="url",Xv=t=>t==="length"||t==="size"||t==="bg-size",Jv=t=>t==="length",rj=t=>t==="number",nj=t=>t==="family-name",Qv=t=>t==="shadow",sj=()=>{const t=ut("color"),e=ut("font"),r=ut("text"),s=ut("font-weight"),o=ut("tracking"),a=ut("leading"),u=ut("breakpoint"),d=ut("container"),f=ut("spacing"),p=ut("radius"),y=ut("shadow"),g=ut("inset-shadow"),x=ut("text-shadow"),b=ut("drop-shadow"),w=ut("blur"),F=ut("perspective"),_=ut("aspect"),j=ut("ease"),A=ut("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...T(),le,ae],M=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],O=()=>[le,ae,f],X=()=>[si,"full","auto",...O()],he=()=>[Pn,"none","subgrid",le,ae],_e=()=>["auto",{span:["full",Pn,le,ae]},Pn,le,ae],te=()=>[Pn,"auto",le,ae],fe=()=>["auto","min","max","fr",le,ae],pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Se=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...O()],ee=()=>[si,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],V=()=>[t,le,ae],re=()=>[...T(),a0,o0,{position:[le,ae]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",ej,Jk,{size:[le,ae]}],z=()=>[vd,xo,ds],K=()=>["","none","full",p,le,ae],Z=()=>["",Ae,xo,ds],ue=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[Ae,vd,a0,o0],ge=()=>["","none",w,le,ae],Ce=()=>["none",Ae,le,ae],We=()=>["none",Ae,le,ae],Ht=()=>[Ae,le,ae],Ot=()=>[si,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zr],breakpoint:[Zr],color:[Hk],container:[Zr],"drop-shadow":[Zr],ease:["in","out","in-out"],font:[Xk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zr],shadow:[Zr],spacing:["px",Ae],text:[Zr],"text-shadow":[Zr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",si,ae,le,_]}],container:["container"],columns:[{columns:[Ae,ae,le,d]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:X()}],"inset-x":[{"inset-x":X()}],"inset-y":[{"inset-y":X()}],start:[{start:X()}],end:[{end:X()}],top:[{top:X()}],right:[{right:X()}],bottom:[{bottom:X()}],left:[{left:X()}],visibility:["visible","invisible","collapse"],z:[{z:[Pn,"auto",le,ae]}],basis:[{basis:[si,"full","auto",d,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ae,si,"auto","initial","none",ae]}],grow:[{grow:["",Ae,le,ae]}],shrink:[{shrink:["",Ae,le,ae]}],order:[{order:[Pn,"first","last","none",le,ae]}],"grid-cols":[{"grid-cols":he()}],"col-start-end":[{col:_e()}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":he()}],"row-start-end":[{row:_e()}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":fe()}],"auto-rows":[{"auto-rows":fe()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...pe(),"normal"]}],"justify-items":[{"justify-items":[...Se(),"normal"]}],"justify-self":[{"justify-self":["auto",...Se()]}],"align-content":[{content:["normal",...pe()]}],"align-items":[{items:[...Se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Se(),{baseline:["","last"]}]}],"place-content":[{"place-content":pe()}],"place-items":[{"place-items":[...Se(),"baseline"]}],"place-self":[{"place-self":["auto",...Se()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[d,"screen",...ee()]}],"min-w":[{"min-w":[d,"screen","none",...ee()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",r,xo,ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,le,xd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",vd,ae]}],"font-family":[{font:[Zk,ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,le,ae]}],"line-clamp":[{"line-clamp":[Ae,"none",le,xd]}],leading:[{leading:[a,...O()]}],"list-image":[{"list-image":["none",le,ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",le,ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ae,"from-font","auto",le,ds]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[Ae,"auto",le,ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le,ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le,ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pn,le,ae],radial:["",le,ae],conic:[Pn,le,ae]},tj,Qk]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ae,le,ae]}],"outline-w":[{outline:["",Ae,xo,ds]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",y,_l,Fl]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",g,_l,Fl]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[Ae,ds]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",x,_l,Fl]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[Ae,le,ae]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ae]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[le,ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Ae]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",le,ae]}],filter:[{filter:["","none",le,ae]}],blur:[{blur:ge()}],brightness:[{brightness:[Ae,le,ae]}],contrast:[{contrast:[Ae,le,ae]}],"drop-shadow":[{"drop-shadow":["","none",b,_l,Fl]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",Ae,le,ae]}],"hue-rotate":[{"hue-rotate":[Ae,le,ae]}],invert:[{invert:["",Ae,le,ae]}],saturate:[{saturate:[Ae,le,ae]}],sepia:[{sepia:["",Ae,le,ae]}],"backdrop-filter":[{"backdrop-filter":["","none",le,ae]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Ae,le,ae]}],"backdrop-contrast":[{"backdrop-contrast":[Ae,le,ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ae,le,ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ae,le,ae]}],"backdrop-invert":[{"backdrop-invert":["",Ae,le,ae]}],"backdrop-opacity":[{"backdrop-opacity":[Ae,le,ae]}],"backdrop-saturate":[{"backdrop-saturate":[Ae,le,ae]}],"backdrop-sepia":[{"backdrop-sepia":["",Ae,le,ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",le,ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ae,"initial",le,ae]}],ease:[{ease:["linear","initial",j,le,ae]}],delay:[{delay:[Ae,le,ae]}],animate:[{animate:["none",A,le,ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[F,le,ae]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:Ht()}],"skew-x":[{"skew-x":Ht()}],"skew-y":[{"skew-y":Ht()}],transform:[{transform:[le,ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ot()}],"translate-x":[{"translate-x":Ot()}],"translate-y":[{"translate-y":Ot()}],"translate-z":[{"translate-z":Ot()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le,ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le,ae]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[Ae,xo,ds,xd]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ij=Mk(sj);function Rt(...t){return ij(Vv(t))}const Wh=yk("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Oe({className:t,variant:e,size:r,asChild:s=!1,...o}){const a=s?dk:"button";return l.jsx(a,{"data-slot":"button",className:Rt(Wh({variant:e,size:r,className:t})),...o})}const qh=k.createContext({});function Hh(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Kh=typeof window<"u",Zv=Kh?k.useLayoutEffect:k.useEffect,cc=k.createContext(null);function Gh(t,e){t.indexOf(e)===-1&&t.push(e)}function Yh(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const tn=(t,e,r)=>r>e?e:r<t?t:r;let Xh=()=>{};const rn={},ex=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function tx(t){return typeof t=="object"&&t!==null}const rx=t=>/^0[^.\s]+$/u.test(t);function Jh(t){let e;return()=>(e===void 0&&(e=t()),e)}const gr=t=>t,oj=(t,e)=>r=>e(t(r)),Ho=(...t)=>t.reduce(oj),Lo=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s};class Qh{constructor(){this.subscriptions=[]}add(e){return Gh(this.subscriptions,e),()=>Yh(this.subscriptions,e)}notify(e,r,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,s);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Lr=t=>t*1e3,mr=t=>t/1e3;function nx(t,e){return e?t*(1e3/e):0}const sx=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,aj=1e-7,lj=12;function cj(t,e,r,s,o){let a,u,d=0;do u=e+(r-e)/2,a=sx(u,s,o)-t,a>0?r=u:e=u;while(Math.abs(a)>aj&&++d<lj);return u}function Ko(t,e,r,s){if(t===e&&r===s)return gr;const o=a=>cj(a,0,1,t,r);return a=>a===0||a===1?a:sx(o(a),e,s)}const ix=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ox=t=>e=>1-t(1-e),ax=Ko(.33,1.53,.69,.99),Zh=ox(ax),lx=ix(Zh),cx=t=>(t*=2)<1?.5*Zh(t):.5*(2-Math.pow(2,-10*(t-1))),ef=t=>1-Math.sin(Math.acos(t)),ux=ox(ef),dx=ix(ef),uj=Ko(.42,0,1,1),dj=Ko(0,0,.58,1),hx=Ko(.42,0,.58,1),hj=t=>Array.isArray(t)&&typeof t[0]!="number",fx=t=>Array.isArray(t)&&typeof t[0]=="number",fj={linear:gr,easeIn:uj,easeInOut:hx,easeOut:dj,circIn:ef,circInOut:dx,circOut:ux,backIn:Zh,backInOut:lx,backOut:ax,anticipate:cx},pj=t=>typeof t=="string",l0=t=>{if(fx(t)){Xh(t.length===4);const[e,r,s,o]=t;return Ko(e,r,s,o)}else if(pj(t))return fj[t];return t},kl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function mj(t,e){let r=new Set,s=new Set,o=!1,a=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(y){u.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,g=!1,x=!1)=>{const w=x&&o?r:s;return g&&u.add(y),w.has(y)||w.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(d=y,o){a=!0;return}o=!0,[r,s]=[s,r],r.forEach(f),r.clear(),o=!1,a&&(a=!1,p.process(y))}};return p}const gj=40;function px(t,e){let r=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,u=kl.reduce((S,T)=>(S[T]=mj(a),S),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:y,update:g,preRender:x,render:b,postRender:w}=u,F=()=>{const S=rn.useManualTiming?o.timestamp:performance.now();r=!1,rn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(S-o.timestamp,gj),1)),o.timestamp=S,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),y.process(o),g.process(o),x.process(o),b.process(o),w.process(o),o.isProcessing=!1,r&&e&&(s=!1,t(F))},_=()=>{r=!0,s=!0,o.isProcessing||t(F)};return{schedule:kl.reduce((S,T)=>{const D=u[T];return S[T]=(M,B=!1,O=!1)=>(r||_(),D.schedule(M,B,O)),S},{}),cancel:S=>{for(let T=0;T<kl.length;T++)u[kl[T]].cancel(S)},state:o,steps:u}}const{schedule:ze,cancel:Mn,state:wt,steps:bd}=px(typeof requestAnimationFrame<"u"?requestAnimationFrame:gr,!0);let Il;function yj(){Il=void 0}const Ut={now:()=>(Il===void 0&&Ut.set(wt.isProcessing||rn.useManualTiming?wt.timestamp:performance.now()),Il),set:t=>{Il=t,queueMicrotask(yj)}},mx=t=>e=>typeof e=="string"&&e.startsWith(t),tf=mx("--"),vj=mx("var(--"),rf=t=>vj(t)?xj.test(t.split("/*")[0].trim()):!1,xj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ai={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mo={...Ai,transform:t=>tn(0,1,t)},jl={...Ai,default:1},Ao=t=>Math.round(t*1e5)/1e5,nf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bj(t){return t==null}const wj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sf=(t,e)=>r=>!!(typeof r=="string"&&wj.test(r)&&r.startsWith(t)||e&&!bj(r)&&Object.prototype.hasOwnProperty.call(r,e)),gx=(t,e,r)=>s=>{if(typeof s!="string")return s;const[o,a,u,d]=s.match(nf);return{[t]:parseFloat(o),[e]:parseFloat(a),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},Ej=t=>tn(0,255,t),wd={...Ai,transform:t=>Math.round(Ej(t))},xs={test:sf("rgb","red"),parse:gx("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+wd.transform(t)+", "+wd.transform(e)+", "+wd.transform(r)+", "+Ao(Mo.transform(s))+")"};function Fj(t){let e="",r="",s="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const ah={test:sf("#"),parse:Fj,transform:xs.transform},Go=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Rn=Go("deg"),Mr=Go("%"),Ee=Go("px"),_j=Go("vh"),kj=Go("vw"),c0={...Mr,parse:t=>Mr.parse(t)/100,transform:t=>Mr.transform(t*100)},ui={test:sf("hsl","hue"),parse:gx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+Mr.transform(Ao(e))+", "+Mr.transform(Ao(r))+", "+Ao(Mo.transform(s))+")"},st={test:t=>xs.test(t)||ah.test(t)||ui.test(t),parse:t=>xs.test(t)?xs.parse(t):ui.test(t)?ui.parse(t):ah.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xs.transform(t):ui.transform(t),getAnimatableNone:t=>{const e=st.parse(t);return e.alpha=0,st.transform(e)}},jj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Sj(t){return isNaN(t)&&typeof t=="string"&&(t.match(nf)?.length||0)+(t.match(jj)?.length||0)>0}const yx="number",vx="color",Aj="var",Nj="var(",u0="${}",Cj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $o(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(Cj,f=>(st.test(f)?(s.color.push(a),o.push(vx),r.push(st.parse(f))):f.startsWith(Nj)?(s.var.push(a),o.push(Aj),r.push(f)):(s.number.push(a),o.push(yx),r.push(parseFloat(f))),++a,u0)).split(u0);return{values:r,split:d,indexes:s,types:o}}function xx(t){return $o(t).values}function bx(t){const{split:e,types:r}=$o(t),s=e.length;return o=>{let a="";for(let u=0;u<s;u++)if(a+=e[u],o[u]!==void 0){const d=r[u];d===yx?a+=Ao(o[u]):d===vx?a+=st.transform(o[u]):a+=o[u]}return a}}const Tj=t=>typeof t=="number"?0:st.test(t)?st.getAnimatableNone(t):t;function Pj(t){const e=xx(t);return bx(t)(e.map(Tj))}const $n={test:Sj,parse:xx,createTransformer:bx,getAnimatableNone:Pj};function Ed(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Rj({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let o=0,a=0,u=0;if(!e)o=a=u=r;else{const d=r<.5?r*(1+e):r+e-r*e,f=2*r-d;o=Ed(f,d,t+1/3),a=Ed(f,d,t),u=Ed(f,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:s}}function Jl(t,e){return r=>r>0?e:t}const Ge=(t,e,r)=>t+(e-t)*r,Fd=(t,e,r)=>{const s=t*t,o=r*(e*e-s)+s;return o<0?0:Math.sqrt(o)},Oj=[ah,xs,ui],Dj=t=>Oj.find(e=>e.test(t));function d0(t){const e=Dj(t);if(!e)return!1;let r=e.parse(t);return e===ui&&(r=Rj(r)),r}const h0=(t,e)=>{const r=d0(t),s=d0(e);if(!r||!s)return Jl(t,e);const o={...r};return a=>(o.red=Fd(r.red,s.red,a),o.green=Fd(r.green,s.green,a),o.blue=Fd(r.blue,s.blue,a),o.alpha=Ge(r.alpha,s.alpha,a),xs.transform(o))},lh=new Set(["none","hidden"]);function Ij(t,e){return lh.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Lj(t,e){return r=>Ge(t,e,r)}function of(t){return typeof t=="number"?Lj:typeof t=="string"?rf(t)?Jl:st.test(t)?h0:Vj:Array.isArray(t)?wx:typeof t=="object"?st.test(t)?h0:Mj:Jl}function wx(t,e){const r=[...t],s=r.length,o=t.map((a,u)=>of(a)(a,e[u]));return a=>{for(let u=0;u<s;u++)r[u]=o[u](a);return r}}function Mj(t,e){const r={...t,...e},s={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(s[o]=of(t[o])(t[o],e[o]));return o=>{for(const a in s)r[a]=s[a](o);return r}}function $j(t,e){const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=t.indexes[a][s[a]],d=t.values[u]??0;r[o]=d,s[a]++}return r}const Vj=(t,e)=>{const r=$n.createTransformer(e),s=$o(t),o=$o(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?lh.has(t)&&!o.values.length||lh.has(e)&&!s.values.length?Ij(t,e):Ho(wx($j(s,o),o.values),r):Jl(t,e)};function Ex(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ge(t,e,r):of(t)(t,e)}const Bj=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>ze.update(e,r),stop:()=>Mn(e),now:()=>wt.isProcessing?wt.timestamp:Ut.now()}},Fx=(t,e,r=10)=>{let s="";const o=Math.max(Math.round(e/r),2);for(let a=0;a<o;a++)s+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ql=2e4;function af(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<Ql;)e+=r,s=t.next(e);return e>=Ql?1/0:e}function Uj(t,e=100,r){const s=r({...t,keyframes:[0,e]}),o=Math.min(af(s),Ql);return{type:"keyframes",ease:a=>s.next(o*a).value/e,duration:mr(o)}}const zj=5;function _x(t,e,r){const s=Math.max(e-zj,0);return nx(r-t(s),e-s)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_d=.001;function Wj({duration:t=Xe.duration,bounce:e=Xe.bounce,velocity:r=Xe.velocity,mass:s=Xe.mass}){let o,a,u=1-e;u=tn(Xe.minDamping,Xe.maxDamping,u),t=tn(Xe.minDuration,Xe.maxDuration,mr(t)),u<1?(o=p=>{const y=p*u,g=y*t,x=y-r,b=ch(p,u),w=Math.exp(-g);return _d-x/b*w},a=p=>{const g=p*u*t,x=g*r+r,b=Math.pow(u,2)*Math.pow(p,2)*t,w=Math.exp(-g),F=ch(Math.pow(p,2),u);return(-o(p)+_d>0?-1:1)*((x-b)*w)/F}):(o=p=>{const y=Math.exp(-p*t),g=(p-r)*t+1;return-_d+y*g},a=p=>{const y=Math.exp(-p*t),g=(r-p)*(t*t);return y*g});const d=5/t,f=Hj(o,a,d);if(t=Lr(t),isNaN(f))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:t};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const qj=12;function Hj(t,e,r){let s=r;for(let o=1;o<qj;o++)s=s-t(s)/e(s);return s}function ch(t,e){return t*Math.sqrt(1-e*e)}const Kj=["duration","bounce"],Gj=["stiffness","damping","mass"];function f0(t,e){return e.some(r=>t[r]!==void 0)}function Yj(t){let e={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...t};if(!f0(t,Gj)&&f0(t,Kj))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),o=s*s,a=2*tn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Xe.mass,stiffness:o,damping:a}}else{const r=Wj(t);e={...e,...r,mass:Xe.mass},e.isResolvedFromDuration=!0}return e}function Zl(t=Xe.visualDuration,e=Xe.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=r;const a=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:y,duration:g,velocity:x,isResolvedFromDuration:b}=Yj({...r,velocity:-mr(r.velocity||0)}),w=x||0,F=p/(2*Math.sqrt(f*y)),_=u-a,j=mr(Math.sqrt(f/y)),A=Math.abs(_)<5;s||(s=A?Xe.restSpeed.granular:Xe.restSpeed.default),o||(o=A?Xe.restDelta.granular:Xe.restDelta.default);let S;if(F<1){const D=ch(j,F);S=M=>{const B=Math.exp(-F*j*M);return u-B*((w+F*j*_)/D*Math.sin(D*M)+_*Math.cos(D*M))}}else if(F===1)S=D=>u-Math.exp(-j*D)*(_+(w+j*_)*D);else{const D=j*Math.sqrt(F*F-1);S=M=>{const B=Math.exp(-F*j*M),O=Math.min(D*M,300);return u-B*((w+F*j*_)*Math.sinh(O)+D*_*Math.cosh(O))/D}}const T={calculatedDuration:b&&g||null,next:D=>{const M=S(D);if(b)d.done=D>=g;else{let B=D===0?w:0;F<1&&(B=D===0?Lr(w):_x(S,D,M));const O=Math.abs(B)<=s,X=Math.abs(u-M)<=o;d.done=O&&X}return d.value=d.done?u:M,d},toString:()=>{const D=Math.min(af(T),Ql),M=Fx(B=>T.next(D*B).value,D,30);return D+"ms "+M},toTransition:()=>{}};return T}Zl.applyToOptions=t=>{const e=Uj(t,100,Zl);return t.ease=e.ease,t.duration=Lr(e.duration),t.type="keyframes",t};function uh({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:y}){const g=t[0],x={done:!1,value:g},b=O=>d!==void 0&&O<d||f!==void 0&&O>f,w=O=>d===void 0?f:f===void 0||Math.abs(d-O)<Math.abs(f-O)?d:f;let F=r*e;const _=g+F,j=u===void 0?_:u(_);j!==_&&(F=j-g);const A=O=>-F*Math.exp(-O/s),S=O=>j+A(O),T=O=>{const X=A(O),he=S(O);x.done=Math.abs(X)<=p,x.value=x.done?j:he};let D,M;const B=O=>{b(x.value)&&(D=O,M=Zl({keyframes:[x.value,w(x.value)],velocity:_x(S,O,x.value),damping:o,stiffness:a,restDelta:p,restSpeed:y}))};return B(0),{calculatedDuration:null,next:O=>{let X=!1;return!M&&D===void 0&&(X=!0,T(O),B(O)),D!==void 0&&O>=D?M.next(O-D):(!X&&T(O),x)}}}function Xj(t,e,r){const s=[],o=r||rn.mix||Ex,a=t.length-1;for(let u=0;u<a;u++){let d=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||gr:e;d=Ho(f,d)}s.push(d)}return s}function Jj(t,e,{clamp:r=!0,ease:s,mixer:o}={}){const a=t.length;if(Xh(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=Xj(e,s,o),f=d.length,p=y=>{if(u&&y<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(y<t[g+1]);g++);const x=Lo(t[g],t[g+1],y);return d[g](x)};return r?y=>p(tn(t[0],t[a-1],y)):p}function Qj(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const o=Lo(0,e,s);t.push(Ge(r,1,o))}}function Zj(t){const e=[0];return Qj(e,t.length-1),e}function eS(t,e){return t.map(r=>r*e)}function tS(t,e){return t.map(()=>e||hx).splice(0,t.length-1)}function No({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const o=hj(s)?s.map(l0):l0(s),a={done:!1,value:e[0]},u=eS(r&&r.length===e.length?r:Zj(e),t),d=Jj(u,e,{ease:Array.isArray(o)?o:tS(e,o)});return{calculatedDuration:t,next:f=>(a.value=d(f),a.done=f>=t,a)}}const rS=t=>t!==null;function lf(t,{repeat:e,repeatType:r="loop"},s,o=1){const a=t.filter(rS),d=o<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!d||s===void 0?a[d]:s}const nS={decay:uh,inertia:uh,tween:No,keyframes:No,spring:Zl};function kx(t){typeof t.type=="string"&&(t.type=nS[t.type])}class cf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const sS=t=>t/100;class uf extends cf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Ut.now()&&this.tick(Ut.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;kx(e);const{type:r=No,repeat:s=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:d}=e;const f=r||No;f!==No&&typeof d[0]!="number"&&(this.mixKeyframes=Ho(sS,Ex(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=af(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:s,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:g,repeatType:x,repeatDelay:b,type:w,onUpdate:F,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?j<0:j>o;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let S=this.currentTime,T=s;if(g){const O=Math.min(this.currentTime,o)/d;let X=Math.floor(O),he=O%1;!he&&O>=1&&(he=1),he===1&&X--,X=Math.min(X,g+1),!!(X%2)&&(x==="reverse"?(he=1-he,b&&(he-=b/d)):x==="mirror"&&(T=u)),S=tn(0,1,he)*d}const D=A?{done:!1,value:y[0]}:T.next(S);a&&(D.value=a(D.value));let{done:M}=D;!A&&f!==null&&(M=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return B&&w!==uh&&(D.value=lf(y,this.options,_,this.speed)),F&&F(D.value),B&&this.finish(),D}then(e,r){return this.finished.then(e,r)}get duration(){return mr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mr(e)}get time(){return mr(this.currentTime)}set time(e){e=Lr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ut.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=mr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Bj,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ut.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function iS(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const bs=t=>t*180/Math.PI,dh=t=>{const e=bs(Math.atan2(t[1],t[0]));return hh(e)},oS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:dh,rotateZ:dh,skewX:t=>bs(Math.atan(t[1])),skewY:t=>bs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},hh=t=>(t=t%360,t<0&&(t+=360),t),p0=dh,m0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),g0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),aS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:m0,scaleY:g0,scale:t=>(m0(t)+g0(t))/2,rotateX:t=>hh(bs(Math.atan2(t[6],t[5]))),rotateY:t=>hh(bs(Math.atan2(-t[2],t[0]))),rotateZ:p0,rotate:p0,skewX:t=>bs(Math.atan(t[4])),skewY:t=>bs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function fh(t){return t.includes("scale")?1:0}function ph(t,e){if(!t||t==="none")return fh(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(r)s=aS,o=r;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=oS,o=d}if(!o)return fh(e);const a=s[e],u=o[1].split(",").map(cS);return typeof a=="function"?a(u):u[a]}const lS=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return ph(r,e)};function cS(t){return parseFloat(t.trim())}const Ni=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ci=new Set(Ni),y0=t=>t===Ai||t===Ee,uS=new Set(["x","y","z"]),dS=Ni.filter(t=>!uS.has(t));function hS(t){const e=[];return dS.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const Es={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ph(e,"x"),y:(t,{transform:e})=>ph(e,"y")};Es.translateX=Es.x;Es.translateY=Es.y;const Fs=new Set;let mh=!1,gh=!1,yh=!1;function jx(){if(gh){const t=Array.from(Fs).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const o=hS(s);o.length&&(r.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=r.get(s);o&&o.forEach(([a,u])=>{s.getValue(a)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}gh=!1,mh=!1,Fs.forEach(t=>t.complete(yh)),Fs.clear()}function Sx(){Fs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gh=!0)})}function fS(){yh=!0,Sx(),jx(),yh=!1}class df{constructor(e,r,s,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Fs.add(this),mh||(mh=!0,ze.read(Sx),ze.resolveKeyframes(jx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:o}=this;if(e[0]===null){const a=o?.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&r){const d=s.readValue(r,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}iS(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fs.delete(this)}cancel(){this.state==="scheduled"&&(Fs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const pS=t=>t.startsWith("--");function mS(t,e,r){pS(e)?t.style.setProperty(e,r):t.style[e]=r}const gS=Jh(()=>window.ScrollTimeline!==void 0),yS={};function vS(t,e){const r=Jh(t);return()=>yS[e]??r()}const Ax=vS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ko=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,v0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ko([0,.65,.55,1]),circOut:ko([.55,0,1,.45]),backIn:ko([.31,.01,.66,-.59]),backOut:ko([.33,1.53,.69,.99])};function Nx(t,e){if(t)return typeof t=="function"?Ax()?Fx(t,e):"ease-out":fx(t)?ko(t):Array.isArray(t)?t.map(r=>Nx(r,e)||v0.easeOut):v0[t]}function xS(t,e,r,{delay:s=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeOut",times:f}={},p=void 0){const y={[e]:r};f&&(y.offset=f);const g=Nx(d,o);Array.isArray(g)&&(y.easing=g);const x={delay:s,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(y,x)}function Cx(t){return typeof t=="function"&&"applyToOptions"in t}function bS({type:t,...e}){return Cx(t)&&Ax()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class wS extends cf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:s,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Xh(typeof e.type!="string");const p=bS(e);this.animation=xS(r,s,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const y=lf(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):mS(r,s,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return mr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mr(e)}get time(){return mr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Lr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&gS()?(this.animation.timeline=e,gr):r(this)}}const Tx={anticipate:cx,backInOut:lx,circInOut:dx};function ES(t){return t in Tx}function FS(t){typeof t.ease=="string"&&ES(t.ease)&&(t.ease=Tx[t.ease])}const x0=10;class _S extends wS{constructor(e){FS(e),kx(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:s,onComplete:o,element:a,...u}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const d=new uf({...u,autoplay:!1}),f=Lr(this.finishedTime??this.time);r.setWithVelocity(d.sample(f-x0).value,d.sample(f).value,x0),d.stop()}}const b0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($n.test(t)||t==="0")&&!t.startsWith("url("));function kS(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function jS(t,e,r,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=b0(o,e),d=b0(a,e);return!u||!d?!1:kS(t)||(r==="spring"||Cx(r))&&s}function vh(t){t.duration=0,t.type="keyframes"}const SS=new Set(["opacity","clipPath","filter","transform"]),AS=Jh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NS(t){const{motionValue:e,name:r,repeatDelay:s,repeatType:o,damping:a,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return AS()&&r&&SS.has(r)&&(r!=="transform"||!p)&&!f&&!s&&o!=="mirror"&&a!==0&&u!=="inertia"}const CS=40;class TS extends cf{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:d,name:f,motionValue:p,element:y,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ut.now();const x={autoplay:e,delay:r,type:s,repeat:o,repeatDelay:a,repeatType:u,name:f,motionValue:p,element:y,...g},b=y?.KeyframeResolver||df;this.keyframeResolver=new b(d,(w,F,_)=>this.onKeyframesResolved(w,F,x,!_),f,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,s,o){this.keyframeResolver=void 0;const{name:a,type:u,velocity:d,delay:f,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Ut.now(),jS(e,a,u,d)||((rn.instantAnimations||!f)&&y?.(lf(e,s,r)),e[0]=e[e.length-1],vh(s),s.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>CS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:e},b=!p&&NS(x)?new _S({...x,element:x.motionValue.owner.current}):new uf(x);b.finished.then(()=>this.notifyFinished()).catch(gr),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),fS()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const PS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RS(t){const e=PS.exec(t);if(!e)return[,];const[,r,s,o]=e;return[`--${r??s}`,o]}function Px(t,e,r=1){const[s,o]=RS(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const u=a.trim();return ex(u)?parseFloat(u):u}return rf(o)?Px(o,e,r+1):o}function hf(t,e){return t?.[e]??t?.default??t}const Rx=new Set(["width","height","top","left","right","bottom",...Ni]),OS={test:t=>t==="auto",parse:t=>t},Ox=t=>e=>e.test(t),Dx=[Ai,Ee,Mr,Rn,kj,_j,OS],w0=t=>Dx.find(Ox(t));function DS(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||rx(t):!0}const IS=new Set(["brightness","contrast","saturate","opacity"]);function LS(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(nf)||[];if(!s)return t;const o=r.replace(s,"");let a=IS.has(e)?1:0;return s!==r&&(a*=100),e+"("+a+o+")"}const MS=/\b([a-z-]*)\(.*?\)/gu,xh={...$n,getAnimatableNone:t=>{const e=t.match(MS);return e?e.map(LS).join(" "):t}},E0={...Ai,transform:Math.round},$S={rotate:Rn,rotateX:Rn,rotateY:Rn,rotateZ:Rn,scale:jl,scaleX:jl,scaleY:jl,scaleZ:jl,skew:Rn,skewX:Rn,skewY:Rn,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Mo,originX:c0,originY:c0,originZ:Ee},ff={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...$S,zIndex:E0,fillOpacity:Mo,strokeOpacity:Mo,numOctaves:E0},VS={...ff,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:xh,WebkitFilter:xh},Ix=t=>VS[t];function Lx(t,e){let r=Ix(t);return r!==xh&&(r=$n),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const BS=new Set(["auto","none","0"]);function US(t,e,r){let s=0,o;for(;s<t.length&&!o;){const a=t[s];typeof a=="string"&&!BS.has(a)&&$o(a).values.length&&(o=t[s]),s++}if(o&&r)for(const a of e)t[a]=Lx(r,o)}class zS extends df{constructor(e,r,s,o,a){super(e,r,s,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),rf(p))){const y=Px(p,r.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Rx.has(s)||e.length!==2)return;const[o,a]=e,u=w0(o),d=w0(a);if(u!==d)if(y0(u)&&y0(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Es[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||DS(e[o]))&&s.push(o);s.length&&US(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Es[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(r);o&&o.jump(this.measuredOrigin,!1);const a=s.length-1,u=s[a];s[a]=Es[r](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function WS(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=r?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const Mx=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $x(t){return tx(t)&&"offsetHeight"in t}const F0=30,qS=t=>!isNaN(parseFloat(t));class HS{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Ut.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ut.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qS(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Qh);const s=this.events[e].add(r);return e==="change"?()=>{s(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ut.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>F0)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,F0);return nx(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wi(t,e){return new HS(t,e)}const{schedule:pf}=px(queueMicrotask,!1),Sr={x:!1,y:!1};function Vx(){return Sr.x||Sr.y}function KS(t){return t==="x"||t==="y"?Sr[t]?null:(Sr[t]=!0,()=>{Sr[t]=!1}):Sr.x||Sr.y?null:(Sr.x=Sr.y=!0,()=>{Sr.x=Sr.y=!1})}function Bx(t,e){const r=WS(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[r,o,()=>s.abort()]}function _0(t){return!(t.pointerType==="touch"||Vx())}function GS(t,e,r={}){const[s,o,a]=Bx(t,r),u=d=>{if(!_0(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const y=g=>{_0(g)&&(p(g),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,o)};return s.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const Ux=(t,e)=>e?t===e?!0:Ux(t,e.parentElement):!1,mf=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,YS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function XS(t){return YS.has(t.tagName)||t.tabIndex!==-1}const Ll=new WeakSet;function k0(t){return e=>{e.key==="Enter"&&t(e)}}function kd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const JS=(t,e)=>{const r=t.currentTarget;if(!r)return;const s=k0(()=>{if(Ll.has(r))return;kd(r,"down");const o=k0(()=>{kd(r,"up")}),a=()=>kd(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function j0(t){return mf(t)&&!Vx()}function QS(t,e,r={}){const[s,o,a]=Bx(t,r),u=d=>{const f=d.currentTarget;if(!j0(d))return;Ll.add(f);const p=e(f,d),y=(b,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),Ll.has(f)&&Ll.delete(f),j0(b)&&typeof p=="function"&&p(b,{success:w})},g=b=>{y(b,f===window||f===document||r.useGlobalTarget||Ux(f,b.target))},x=b=>{y(b,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",x,o)};return s.forEach(d=>{(r.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),$x(d)&&(d.addEventListener("focus",p=>JS(p,o)),!XS(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function zx(t){return tx(t)&&"ownerSVGElement"in t}function ZS(t){return zx(t)&&t.tagName==="svg"}const At=t=>!!(t&&t.getVelocity),eA=[...Dx,st,$n],tA=t=>eA.find(Ox(t)),gf=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function S0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rA(...t){return e=>{let r=!1;const s=t.map(o=>{const a=S0(o,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():S0(t[o],null)}}}}function nA(...t){return k.useCallback(rA(...t),t)}class sA extends k.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=r.offsetParent,o=$x(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function iA({children:t,isPresent:e,anchorX:r,root:s}){const o=k.useId(),a=k.useRef(null),u=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=k.useContext(gf),f=nA(a,t?.ref);return k.useInsertionEffect(()=>{const{width:p,height:y,top:g,left:x,right:b}=u.current;if(e||!a.current||!p||!y)return;const w=r==="left"?`left: ${x}`:`right: ${b}`;a.current.dataset.motionPopId=o;const F=document.createElement("style");d&&(F.nonce=d);const _=s??document.head;return _.appendChild(F),F.sheet&&F.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{_.contains(F)&&_.removeChild(F)}},[e]),l.jsx(sA,{isPresent:e,childRef:a,sizeRef:u,children:k.cloneElement(t,{ref:f})})}const oA=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:u,anchorX:d,root:f})=>{const p=Hh(aA),y=k.useId();let g=!0,x=k.useMemo(()=>(g=!1,{id:y,initial:e,isPresent:r,custom:o,onExitComplete:b=>{p.set(b,!0);for(const w of p.values())if(!w)return;s&&s()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[r,p,s]);return a&&g&&(x={...x}),k.useMemo(()=>{p.forEach((b,w)=>p.set(w,!1))},[r]),k.useEffect(()=>{!r&&!p.size&&s&&s()},[r]),u==="popLayout"&&(t=l.jsx(iA,{isPresent:r,anchorX:d,root:f,children:t})),l.jsx(cc.Provider,{value:x,children:t})};function aA(){return new Map}function Wx(t=!0){const e=k.useContext(cc);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:o}=e,a=k.useId();k.useEffect(()=>{if(t)return o(a)},[t]);const u=k.useCallback(()=>t&&s&&s(a),[a,s,t]);return!r&&s?[!1,u]:[!0]}const Sl=t=>t.key||"";function A0(t){const e=[];return k.Children.forEach(t,r=>{k.isValidElement(r)&&e.push(r)}),e}const Yo=({children:t,custom:e,initial:r=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:a="sync",propagate:u=!1,anchorX:d="left",root:f})=>{const[p,y]=Wx(u),g=k.useMemo(()=>A0(t),[t]),x=u&&!p?[]:g.map(Sl),b=k.useRef(!0),w=k.useRef(g),F=Hh(()=>new Map),[_,j]=k.useState(g),[A,S]=k.useState(g);Zv(()=>{b.current=!1,w.current=g;for(let M=0;M<A.length;M++){const B=Sl(A[M]);x.includes(B)?F.delete(B):F.get(B)!==!0&&F.set(B,!1)}},[A,x.length,x.join("-")]);const T=[];if(g!==_){let M=[...g];for(let B=0;B<A.length;B++){const O=A[B],X=Sl(O);x.includes(X)||(M.splice(B,0,O),T.push(O))}return a==="wait"&&T.length&&(M=T),S(A0(M)),j(g),null}const{forceRender:D}=k.useContext(qh);return l.jsx(l.Fragment,{children:A.map(M=>{const B=Sl(M),O=u&&!p?!1:g===A||x.includes(B),X=()=>{if(F.has(B))F.set(B,!0);else return;let he=!0;F.forEach(_e=>{_e||(he=!1)}),he&&(D?.(),S(w.current),u&&y?.(),s&&s())};return l.jsx(oA,{isPresent:O,initial:!b.current||r?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,root:f,onExitComplete:O?void 0:X,anchorX:d,children:M},B)})})},qx=k.createContext({strict:!1}),N0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ei={};for(const t in N0)Ei[t]={isEnabled:e=>N0[t].some(r=>!!e[r])};function lA(t){for(const e in t)Ei[e]={...Ei[e],...t[e]}}const cA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ec(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cA.has(t)}let Hx=t=>!ec(t);function uA(t){typeof t=="function"&&(Hx=e=>e.startsWith("on")?!ec(e):t(e))}try{uA(require("@emotion/is-prop-valid").default)}catch{}function dA(t,e,r){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(Hx(o)||r===!0&&ec(o)||!e&&!ec(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const uc=k.createContext({});function dc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Vo(t){return typeof t=="string"||Array.isArray(t)}const yf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vf=["initial",...yf];function hc(t){return dc(t.animate)||vf.some(e=>Vo(t[e]))}function Kx(t){return!!(hc(t)||t.variants)}function hA(t,e){if(hc(t)){const{initial:r,animate:s}=t;return{initial:r===!1||Vo(r)?r:void 0,animate:Vo(s)?s:void 0}}return t.inherit!==!1?e:{}}function fA(t){const{initial:e,animate:r}=hA(t,k.useContext(uc));return k.useMemo(()=>({initial:e,animate:r}),[C0(e),C0(r)])}function C0(t){return Array.isArray(t)?t.join(" "):t}const Bo={};function pA(t){for(const e in t)Bo[e]=t[e],tf(e)&&(Bo[e].isCSSVariable=!0)}function Gx(t,{layout:e,layoutId:r}){return Ci.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Bo[t]||t==="opacity")}const mA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gA=Ni.length;function yA(t,e,r){let s="",o=!0;for(let a=0;a<gA;a++){const u=Ni[a],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||r){const p=Mx(d,ff[u]);if(!f){o=!1;const y=mA[u]||u;s+=`${y}(${p}) `}r&&(e[u]=p)}}return s=s.trim(),r?s=r(e,o?"":s):o&&(s="none"),s}function xf(t,e,r){const{style:s,vars:o,transformOrigin:a}=t;let u=!1,d=!1;for(const f in e){const p=e[f];if(Ci.has(f)){u=!0;continue}else if(tf(f)){o[f]=p;continue}else{const y=Mx(p,ff[f]);f.startsWith("origin")?(d=!0,a[f]=y):s[f]=y}}if(e.transform||(u||r?s.transform=yA(e,t.transform,r):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:y=0}=a;s.transformOrigin=`${f} ${p} ${y}`}}const bf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Yx(t,e,r){for(const s in e)!At(e[s])&&!Gx(s,r)&&(t[s]=e[s])}function vA({transformTemplate:t},e){return k.useMemo(()=>{const r=bf();return xf(r,e,t),Object.assign({},r.vars,r.style)},[e])}function xA(t,e){const r=t.style||{},s={};return Yx(s,r,t),Object.assign(s,vA(t,e)),s}function bA(t,e){const r={},s=xA(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const wA={offset:"stroke-dashoffset",array:"stroke-dasharray"},EA={offset:"strokeDashoffset",array:"strokeDasharray"};function FA(t,e,r=1,s=0,o=!0){t.pathLength=1;const a=o?wA:EA;t[a.offset]=Ee.transform(-s);const u=Ee.transform(e),d=Ee.transform(r);t[a.array]=`${u} ${d}`}function Xx(t,{attrX:e,attrY:r,attrScale:s,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...d},f,p,y){if(xf(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:x}=t;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),s!==void 0&&(g.scale=s),o!==void 0&&FA(g,o,a,u,!1)}const Jx=()=>({...bf(),attrs:{}}),Qx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _A(t,e,r,s){const o=k.useMemo(()=>{const a=Jx();return Xx(a,e,Qx(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Yx(a,t.style,t),o.style={...a,...o.style}}return o}const kA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wf(t){return typeof t!="string"||t.includes("-")?!1:!!(kA.indexOf(t)>-1||/[A-Z]/u.test(t))}function jA(t,e,r,{latestValues:s},o,a=!1){const d=(wf(t)?_A:bA)(e,s,o,t),f=dA(e,typeof t=="string",a),p=t!==k.Fragment?{...f,...d,ref:r}:{},{children:y}=e,g=k.useMemo(()=>At(y)?y.get():y,[y]);return k.createElement(t,{...p,children:g})}function T0(t){const e=[{},{}];return t?.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function Ef(t,e,r,s){if(typeof e=="function"){const[o,a]=T0(s);e=e(r!==void 0?r:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=T0(s);e=e(r!==void 0?r:t.custom,o,a)}return e}function Ml(t){return At(t)?t.get():t}function SA({scrapeMotionValuesFromProps:t,createRenderState:e},r,s,o){return{latestValues:AA(r,s,o,t),renderState:e()}}function AA(t,e,r,s){const o={},a=s(t,{});for(const x in a)o[x]=Ml(a[x]);let{initial:u,animate:d}=t;const f=hc(t),p=Kx(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let y=r?r.initial===!1:!1;y=y||u===!1;const g=y?d:u;if(g&&typeof g!="boolean"&&!dc(g)){const x=Array.isArray(g)?g:[g];for(let b=0;b<x.length;b++){const w=Ef(t,x[b]);if(w){const{transitionEnd:F,transition:_,...j}=w;for(const A in j){let S=j[A];if(Array.isArray(S)){const T=y?S.length-1:0;S=S[T]}S!==null&&(o[A]=S)}for(const A in F)o[A]=F[A]}}}return o}const Zx=t=>(e,r)=>{const s=k.useContext(uc),o=k.useContext(cc),a=()=>SA(t,e,s,o);return r?a():Hh(a)};function Ff(t,e,r){const{style:s}=t,o={};for(const a in s)(At(s[a])||e.style&&At(e.style[a])||Gx(a,t)||r?.getValue(a)?.liveStyle!==void 0)&&(o[a]=s[a]);return o}const NA=Zx({scrapeMotionValuesFromProps:Ff,createRenderState:bf});function eb(t,e,r){const s=Ff(t,e,r);for(const o in t)if(At(t[o])||At(e[o])){const a=Ni.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[a]=t[o]}return s}const CA=Zx({scrapeMotionValuesFromProps:eb,createRenderState:Jx}),TA=Symbol.for("motionComponentSymbol");function di(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function PA(t,e,r){return k.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):di(r)&&(r.current=s))},[e])}const _f=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RA="framerAppearId",tb="data-"+_f(RA),rb=k.createContext({});function OA(t,e,r,s,o){const{visualElement:a}=k.useContext(uc),u=k.useContext(qx),d=k.useContext(cc),f=k.useContext(gf).reducedMotion,p=k.useRef(null);s=s||u.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:a,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const y=p.current,g=k.useContext(rb);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&DA(p.current,r,o,g);const x=k.useRef(!1);k.useInsertionEffect(()=>{y&&x.current&&y.update(r,d)});const b=r[tb],w=k.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return Zv(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),w.current&&y.animationState&&y.animationState.animateChanges())}),k.useEffect(()=>{y&&(!w.current&&y.animationState&&y.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),w.current=!1),y.enteringChildren=void 0)}),y}function DA(t,e,r,s){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:nb(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&di(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:f,layoutRoot:p})}function nb(t){if(t)return t.options.allowProjection!==!1?t.projection:nb(t.parent)}function jd(t,{forwardMotionProps:e=!1}={},r,s){r&&lA(r);const o=wf(t)?CA:NA;function a(d,f){let p;const y={...k.useContext(gf),...d,layoutId:IA(d)},{isStatic:g}=y,x=fA(d),b=o(d,g);if(!g&&Kh){LA();const w=MA(y);p=w.MeasureLayout,x.visualElement=OA(t,b,y,s,w.ProjectionNode)}return l.jsxs(uc.Provider,{value:x,children:[p&&x.visualElement?l.jsx(p,{visualElement:x.visualElement,...y}):null,jA(t,d,PA(b,x.visualElement,f),b,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=k.forwardRef(a);return u[TA]=t,u}function IA({layoutId:t}){const e=k.useContext(qh).id;return e&&t!==void 0?e+"-"+t:t}function LA(t,e){k.useContext(qx).strict}function MA(t){const{drag:e,layout:r}=Ei;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function $A(t,e){if(typeof Proxy>"u")return jd;const r=new Map,s=(a,u)=>jd(a,u,t,e),o=(a,u)=>s(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?s:(r.has(u)||r.set(u,jd(u,void 0,t,e)),r.get(u))})}function sb({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function VA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function BA(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function Sd(t){return t===void 0||t===1}function bh({scale:t,scaleX:e,scaleY:r}){return!Sd(t)||!Sd(e)||!Sd(r)}function ps(t){return bh(t)||ib(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ib(t){return P0(t.x)||P0(t.y)}function P0(t){return t&&t!=="0%"}function tc(t,e,r){const s=t-r,o=e*s;return r+o}function R0(t,e,r,s,o){return o!==void 0&&(t=tc(t,o,s)),tc(t,r,s)+e}function wh(t,e=0,r=1,s,o){t.min=R0(t.min,e,r,s,o),t.max=R0(t.max,e,r,s,o)}function ob(t,{x:e,y:r}){wh(t.x,e.translate,e.scale,e.originPoint),wh(t.y,r.translate,r.scale,r.originPoint)}const O0=.999999999999,D0=1.0000000000001;function UA(t,e,r,s=!1){const o=r.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=r[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&fi(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,ob(t,u)),s&&ps(a.latestValues)&&fi(t,a.latestValues))}e.x<D0&&e.x>O0&&(e.x=1),e.y<D0&&e.y>O0&&(e.y=1)}function hi(t,e){t.min=t.min+e,t.max=t.max+e}function I0(t,e,r,s,o=.5){const a=Ge(t.min,t.max,o);wh(t,e,r,a,s)}function fi(t,e){I0(t.x,e.x,e.scaleX,e.scale,e.originX),I0(t.y,e.y,e.scaleY,e.scale,e.originY)}function ab(t,e){return sb(BA(t.getBoundingClientRect(),e))}function zA(t,e,r){const s=ab(t,r),{scroll:o}=e;return o&&(hi(s.x,o.offset.x),hi(s.y,o.offset.y)),s}const L0=()=>({translate:0,scale:1,origin:0,originPoint:0}),pi=()=>({x:L0(),y:L0()}),M0=()=>({min:0,max:0}),et=()=>({x:M0(),y:M0()}),Eh={current:null},lb={current:!1};function WA(){if(lb.current=!0,!!Kh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Eh.current=t.matches;t.addEventListener("change",e),e()}else Eh.current=!1}const qA=new WeakMap;function HA(t,e,r){for(const s in e){const o=e[s],a=r[s];if(At(o))t.addValue(s,o);else if(At(a))t.addValue(s,wi(o,{owner:t}));else if(a!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,wi(u!==void 0?u:o,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const $0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KA{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=df,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ut.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ze.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=hc(r),this.isVariantNode=Kx(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const x in g){const b=g[x];f[x]!==void 0&&At(b)&&b.set(f[x])}}mount(e){this.current=e,qA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),lb.current||WA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Eh.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mn(this.notifyUpdate),Mn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ci.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ze.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ei){const r=Ei[e];if(!r)continue;const{isEnabled:s,Feature:o}=r;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<$0.length;s++){const o=$0[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=HA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=wi(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(ex(s)||rx(s))?s=parseFloat(s):!tA(s)&&$n.test(r)&&(s=Lx(e,r)),this.setBaseTarget(e,At(s)?s.get():s)),At(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=Ef(this.props,r,this.presenceContext?.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!At(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Qh),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){pf.render(this.render)}}class cb extends KA{constructor(){super(...arguments),this.KeyframeResolver=zS}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;At(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function ub(t,{style:e,vars:r},s,o){const a=t.style;let u;for(u in e)a[u]=e[u];o?.applyProjectionStyles(a,s);for(u in r)a.setProperty(u,r[u])}function GA(t){return window.getComputedStyle(t)}class YA extends cb{constructor(){super(...arguments),this.type="html",this.renderInstance=ub}readValueFromInstance(e,r){if(Ci.has(r))return this.projection?.isProjecting?fh(r):lS(e,r);{const s=GA(e),o=(tf(r)?s.getPropertyValue(r):s[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return ab(e,r)}build(e,r,s){xf(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return Ff(e,r,s)}}const db=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XA(t,e,r,s){ub(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(db.has(o)?o:_f(o),e.attrs[o])}class JA extends cb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Ci.has(r)){const s=Ix(r);return s&&s.default||0}return r=db.has(r)?r:_f(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return eb(e,r,s)}build(e,r,s){Xx(e,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,r,s,o){XA(e,r,s,o)}mount(e){this.isSVGTag=Qx(e.tagName),super.mount(e)}}const QA=(t,e)=>wf(t)?new JA(e):new YA(e,{allowProjection:t!==k.Fragment});function gi(t,e,r){const s=t.getProps();return Ef(s,e,r!==void 0?r:s.custom,t)}const Fh=t=>Array.isArray(t);function ZA(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,wi(r))}function eN(t){return Fh(t)?t[t.length-1]||0:t}function tN(t,e){const r=gi(t,e);let{transitionEnd:s={},transition:o={},...a}=r||{};a={...a,...s};for(const u in a){const d=eN(a[u]);ZA(t,u,d)}}function rN(t){return!!(At(t)&&t.add)}function _h(t,e){const r=t.getValue("willChange");if(rN(r))return r.add(e);if(!r&&rn.WillChange){const s=new rn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function hb(t){return t.props[tb]}const nN=t=>t!==null;function sN(t,{repeat:e,repeatType:r="loop"},s){const o=t.filter(nN),a=e&&r!=="loop"&&e%2===1?0:o.length-1;return o[a]}const iN={type:"spring",stiffness:500,damping:25,restSpeed:10},oN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aN={type:"keyframes",duration:.8},lN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cN=(t,{keyframes:e})=>e.length>2?aN:Ci.has(t)?t.startsWith("scale")?oN(e[1]):iN:lN;function uN({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const kf=(t,e,r,s={},o,a)=>u=>{const d=hf(s,t)||{},f=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Lr(f);const y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:o};uN(d)||Object.assign(y,cN(t,y)),y.duration&&(y.duration=Lr(y.duration)),y.repeatDelay&&(y.repeatDelay=Lr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let g=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(vh(y),y.delay===0&&(g=!0)),(rn.instantAnimations||rn.skipAnimations)&&(g=!0,vh(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,g&&!a&&e.get()!==void 0){const x=sN(y.keyframes,d);if(x!==void 0){ze.update(()=>{y.onUpdate(x),y.onComplete()});return}}return d.isSync?new uf(y):new TS(y)};function dN({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function fb(t,e,{delay:r=0,transitionOverride:s,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(a=s);const f=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const y in d){const g=t.getValue(y,t.latestValues[y]??null),x=d[y];if(x===void 0||p&&dN(p,y))continue;const b={delay:r,...hf(a||{},y)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===w&&!b.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const j=hb(t);if(j){const A=window.MotionHandoffAnimation(j,y,ze);A!==null&&(b.startTime=A,F=!0)}}_h(t,y),g.start(kf(y,g,x,t.shouldReduceMotion&&Rx.has(y)?{type:!1}:b,t,F));const _=g.animation;_&&f.push(_)}return u&&Promise.all(f).then(()=>{ze.update(()=>{u&&tN(t,u)})}),f}function pb(t,e,r,s=0,o=1){const a=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,d=(u-1)*s;return typeof r=="function"?r(a,u):o===1?a*s:d-a*s}function kh(t,e,r={}){const s=gi(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(o=r.transitionOverride);const a=s?()=>Promise.all(fb(t,s,r)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:g}=o;return hN(t,e,f,p,y,g,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,p]=d==="beforeChildren"?[a,u]:[u,a];return f().then(()=>p())}else return Promise.all([a(),u(r.delay)])}function hN(t,e,r=0,s=0,o=0,a=1,u){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(kh(f,e,{...u,delay:r+(typeof s=="function"?0:s)+pb(t.variantChildren,f,s,o,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function fN(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(a=>kh(t,a,r));s=Promise.all(o)}else if(typeof e=="string")s=kh(t,e,r);else{const o=typeof e=="function"?gi(t,e,r.custom):e;s=Promise.all(fb(t,o,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}function mb(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}const pN=vf.length;function gb(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?gb(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<pN;r++){const s=vf[r],o=t.props[s];(Vo(o)||o===!1)&&(e[s]=o)}return e}const mN=[...yf].reverse(),gN=yf.length;function yN(t){return e=>Promise.all(e.map(({animation:r,options:s})=>fN(t,r,s)))}function vN(t){let e=yN(t),r=V0(),s=!0;const o=f=>(p,y)=>{const g=gi(t,y,f==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:x,transitionEnd:b,...w}=g;p={...p,...w,...b}}return p};function a(f){e=f(t)}function u(f){const{props:p}=t,y=gb(t.parent)||{},g=[],x=new Set;let b={},w=1/0;for(let _=0;_<gN;_++){const j=mN[_],A=r[j],S=p[j]!==void 0?p[j]:y[j],T=Vo(S),D=j===f?A.isActive:null;D===!1&&(w=_);let M=S===y[j]&&S!==p[j]&&T;if(M&&s&&t.manuallyAnimateOnMount&&(M=!1),A.protectedKeys={...b},!A.isActive&&D===null||!S&&!A.prevProp||dc(S)||typeof S=="boolean")continue;const B=xN(A.prevProp,S);let O=B||j===f&&A.isActive&&!M&&T||_>w&&T,X=!1;const he=Array.isArray(S)?S:[S];let _e=he.reduce(o(j),{});D===!1&&(_e={});const{prevResolvedValues:te={}}=A,fe={...te,..._e},pe=ee=>{O=!0,x.has(ee)&&(X=!0,x.delete(ee)),A.needsAnimating[ee]=!0;const V=t.getValue(ee);V&&(V.liveStyle=!1)};for(const ee in fe){const V=_e[ee],re=te[ee];if(b.hasOwnProperty(ee))continue;let Y=!1;Fh(V)&&Fh(re)?Y=!mb(V,re):Y=V!==re,Y?V!=null?pe(ee):x.add(ee):V!==void 0&&x.has(ee)?pe(ee):A.protectedKeys[ee]=!0}A.prevProp=S,A.prevResolvedValues=_e,A.isActive&&(b={...b,..._e}),s&&t.blockInitialAnimation&&(O=!1);const Se=M&&B;O&&(!Se||X)&&g.push(...he.map(ee=>{const V={type:j};if(typeof ee=="string"&&s&&!Se&&t.manuallyAnimateOnMount&&t.parent){const{parent:re}=t,Y=gi(re,ee);if(re.enteringChildren&&Y){const{delayChildren:R}=Y.transition||{};V.delay=pb(re.enteringChildren,t,R)}}return{animation:ee,options:V}}))}if(x.size){const _={};if(typeof p.initial!="boolean"){const j=gi(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(_.transition=j.transition)}x.forEach(j=>{const A=t.getBaseTarget(j),S=t.getValue(j);S&&(S.liveStyle=!0),_[j]=A??null}),g.push({animation:_})}let F=!!g.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(F=!1),s=!1,F?e(g):Promise.resolve()}function d(f,p){if(r[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(f,p)),r[f].isActive=p;const y=u(f);for(const g in r)r[g].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>r,reset:()=>{r=V0()}}}function xN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!mb(e,t):!1}function hs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V0(){return{animate:hs(!0),whileInView:hs(),whileHover:hs(),whileTap:hs(),whileDrag:hs(),whileFocus:hs(),exit:hs()}}class zn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bN extends zn{constructor(e){super(e),e.animationState||(e.animationState=vN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();dc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wN=0;class EN extends zn{constructor(){super(...arguments),this.id=wN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const FN={animation:{Feature:bN},exit:{Feature:EN}};function Uo(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function Xo(t){return{point:{x:t.pageX,y:t.pageY}}}const _N=t=>e=>mf(e)&&t(e,Xo(e));function Co(t,e,r,s){return Uo(t,e,_N(r),s)}const yb=1e-4,kN=1-yb,jN=1+yb,vb=.01,SN=0-vb,AN=0+vb;function Tt(t){return t.max-t.min}function NN(t,e,r){return Math.abs(t-e)<=r}function B0(t,e,r,s=.5){t.origin=s,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=Tt(r)/Tt(e),t.translate=Ge(r.min,r.max,t.origin)-t.originPoint,(t.scale>=kN&&t.scale<=jN||isNaN(t.scale))&&(t.scale=1),(t.translate>=SN&&t.translate<=AN||isNaN(t.translate))&&(t.translate=0)}function To(t,e,r,s){B0(t.x,e.x,r.x,s?s.originX:void 0),B0(t.y,e.y,r.y,s?s.originY:void 0)}function U0(t,e,r){t.min=r.min+e.min,t.max=t.min+Tt(e)}function CN(t,e,r){U0(t.x,e.x,r.x),U0(t.y,e.y,r.y)}function z0(t,e,r){t.min=e.min-r.min,t.max=t.min+Tt(e)}function Po(t,e,r){z0(t.x,e.x,r.x),z0(t.y,e.y,r.y)}function fr(t){return[t("x"),t("y")]}const xb=({current:t})=>t?t.ownerDocument.defaultView:null,W0=(t,e)=>Math.abs(t-e);function TN(t,e){const r=W0(t.x,e.x),s=W0(t.y,e.y);return Math.sqrt(r**2+s**2)}class bb{constructor(e,r,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Nd(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=TN(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:F}=x,{timestamp:_}=wt;this.history.push({...F,timestamp:_});const{onStart:j,onMove:A}=this.handlers;b||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Ad(b,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:w,onSessionEnd:F,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Nd(x.type==="pointercancel"?this.lastMoveEventInfo:Ad(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,j),F&&F(x,j)},!mf(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const d=Xo(e),f=Ad(d,this.transformPagePoint),{point:p}=f,{timestamp:y}=wt;this.history=[{...p,timestamp:y}];const{onSessionStart:g}=r;g&&g(e,Nd(f,this.history)),this.removeListeners=Ho(Co(this.contextWindow,"pointermove",this.handlePointerMove),Co(this.contextWindow,"pointerup",this.handlePointerUp),Co(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mn(this.updatePoint)}}function Ad(t,e){return e?{point:e(t.point)}:t}function q0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Nd({point:t},e){return{point:t,delta:q0(t,wb(e)),offset:q0(t,PN(e)),velocity:RN(e,.1)}}function PN(t){return t[0]}function wb(t){return t[t.length-1]}function RN(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const o=wb(t);for(;r>=0&&(s=t[r],!(o.timestamp-s.timestamp>Lr(e)));)r--;if(!s)return{x:0,y:0};const a=mr(o.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-s.x)/a,y:(o.y-s.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function ON(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?Ge(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?Ge(r,t,s.max):Math.min(t,r)),t}function H0(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function DN(t,{top:e,left:r,bottom:s,right:o}){return{x:H0(t.x,r,o),y:H0(t.y,e,s)}}function K0(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function IN(t,e){return{x:K0(t.x,e.x),y:K0(t.y,e.y)}}function LN(t,e){let r=.5;const s=Tt(t),o=Tt(e);return o>s?r=Lo(e.min,e.max-s,t.min):s>o&&(r=Lo(t.min,t.max-o,e.min)),tn(0,1,r)}function MN(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const jh=.35;function $N(t=jh){return t===!1?t=0:t===!0&&(t=jh),{x:G0(t,"left","right"),y:G0(t,"top","bottom")}}function G0(t,e,r){return{min:Y0(t,e),max:Y0(t,r)}}function Y0(t,e){return typeof t=="number"?t:t[e]||0}const VN=new WeakMap;class BN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Xo(g).point)},u=(g,x)=>{const{drag:b,dragPropagation:w,onDragStart:F}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KS(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fr(j=>{let A=this.getAxisMotionValue(j).get()||0;if(Mr.test(A)){const{projection:S}=this.visualElement;if(S&&S.layout){const T=S.layout.layoutBox[j];T&&(A=Tt(T)*(parseFloat(A)/100))}}this.originPoint[j]=A}),F&&ze.postRender(()=>F(g,x)),_h(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},d=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x;const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:F,onDrag:_}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=x;if(w&&this.currentDirection===null){this.currentDirection=UN(j),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),_&&_(g,x)},f=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x,this.stop(g,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>fr(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new bb(e,{onSessionStart:a,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:xb(this.visualElement)})}stop(e,r){const s=e||this.latestPointerEvent,o=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&ze.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:o}=this.getProps();if(!s||!Al(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=ON(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&di(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=DN(s.layoutBox,e):this.constraints=!1,this.elastic=$N(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&fr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=MN(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!di(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=zA(s,o.root,this.visualElement.getTransformPagePoint());let u=IN(o.layout.layoutBox,a);if(r){const d=r(VA(u));this.hasMutatedConstraints=!!d,d&&(u=sb(d))}return u}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=fr(y=>{if(!Al(y,r,this.currentDirection))return;let g=f&&f[y]||{};u&&(g={min:0,max:0});const x=o?200:1e6,b=o?40:1e7,w={type:"inertia",velocity:s?e[y]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(y,w)});return Promise.all(p).then(d)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return _h(this.visualElement,e),s.start(kf(e,s,0,r,this.visualElement,!1))}stopAnimation(){fr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[r];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){fr(r=>{const{drag:s}=this.getProps();if(!Al(r,s,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(r);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[r];a.set(e[r]-Ge(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!di(r)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};fr(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=LN({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),fr(u=>{if(!Al(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(Ge(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;VN.set(this.visualElement,this);const e=this.visualElement.current,r=Co(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();di(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ze.read(s);const u=Uo(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(fr(y=>{const g=this.getAxisMotionValue(y);g&&(this.originPoint[y]+=f[y].translate,g.set(g.get()+f[y].translate))}),this.visualElement.render())}));return()=>{u(),r(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=jh,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function Al(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function UN(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class zN extends zn{constructor(e){super(e),this.removeGroupControls=gr,this.removeListeners=gr,this.controls=new BN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gr}unmount(){this.removeGroupControls(),this.removeListeners()}}const X0=t=>(e,r)=>{t&&ze.postRender(()=>t(e,r))};class WN extends zn{constructor(){super(...arguments),this.removePointerDownListener=gr}onPointerDown(e){this.session=new bb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:X0(e),onStart:X0(r),onMove:s,onEnd:(a,u)=>{delete this.session,o&&ze.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=Co(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $l={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function J0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const r=J0(t,e.target.x),s=J0(t,e.target.y);return`${r}% ${s}%`}},qN={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,o=$n.parse(t);if(o.length>5)return s;const a=$n.createTransformer(t),u=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,f=r.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const p=Ge(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}};let Cd=!1;class HN extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:o}=this.props,{projection:a}=e;pA(KN),a&&(r.group&&r.group.add(a),s&&s.register&&o&&s.register(a),Cd&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),$l.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:o,isPresent:a}=this.props,{projection:u}=s;return u&&(u.isPresent=a,Cd=!0,o||e.layoutDependency!==r||r===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||ze.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:o}=e;Cd=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Eb(t){const[e,r]=Wx(),s=k.useContext(qh);return l.jsx(HN,{...t,layoutGroup:s,switchLayoutGroup:k.useContext(rb),isPresent:e,safeToRemove:r})}const KN={borderRadius:{...bo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bo,borderTopRightRadius:bo,borderBottomLeftRadius:bo,borderBottomRightRadius:bo,boxShadow:qN};function GN(t,e,r){const s=At(t)?t:wi(t);return s.start(kf("",s,e,r)),s.animation}const YN=(t,e)=>t.depth-e.depth;class XN{constructor(){this.children=[],this.isDirty=!1}add(e){Gh(this.children,e),this.isDirty=!0}remove(e){Yh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YN),this.isDirty=!1,this.children.forEach(e)}}function JN(t,e){const r=Ut.now(),s=({timestamp:o})=>{const a=o-r;a>=e&&(Mn(s),t(a-e))};return ze.setup(s,!0),()=>Mn(s)}const Fb=["TopLeft","TopRight","BottomLeft","BottomRight"],QN=Fb.length,Q0=t=>typeof t=="string"?parseFloat(t):t,Z0=t=>typeof t=="number"||Ee.test(t);function ZN(t,e,r,s,o,a){o?(t.opacity=Ge(0,r.opacity??1,eC(s)),t.opacityExit=Ge(e.opacity??1,0,tC(s))):a&&(t.opacity=Ge(e.opacity??1,r.opacity??1,s));for(let u=0;u<QN;u++){const d=`border${Fb[u]}Radius`;let f=ey(e,d),p=ey(r,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Z0(f)===Z0(p)?(t[d]=Math.max(Ge(Q0(f),Q0(p),s),0),(Mr.test(p)||Mr.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||r.rotate)&&(t.rotate=Ge(e.rotate||0,r.rotate||0,s))}function ey(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const eC=_b(0,.5,ux),tC=_b(.5,.95,gr);function _b(t,e,r){return s=>s<t?0:s>e?1:r(Lo(t,e,s))}function ty(t,e){t.min=e.min,t.max=e.max}function hr(t,e){ty(t.x,e.x),ty(t.y,e.y)}function ry(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ny(t,e,r,s,o){return t-=e,t=tc(t,1/r,s),o!==void 0&&(t=tc(t,1/o,s)),t}function rC(t,e=0,r=1,s=.5,o,a=t,u=t){if(Mr.test(e)&&(e=parseFloat(e),e=Ge(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Ge(a.min,a.max,s);t===a&&(d-=e),t.min=ny(t.min,e,r,d,o),t.max=ny(t.max,e,r,d,o)}function sy(t,e,[r,s,o],a,u){rC(t,e[r],e[s],e[o],e.scale,a,u)}const nC=["x","scaleX","originX"],sC=["y","scaleY","originY"];function iy(t,e,r,s){sy(t.x,e,nC,r?r.x:void 0,s?s.x:void 0),sy(t.y,e,sC,r?r.y:void 0,s?s.y:void 0)}function oy(t){return t.translate===0&&t.scale===1}function kb(t){return oy(t.x)&&oy(t.y)}function ay(t,e){return t.min===e.min&&t.max===e.max}function iC(t,e){return ay(t.x,e.x)&&ay(t.y,e.y)}function ly(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jb(t,e){return ly(t.x,e.x)&&ly(t.y,e.y)}function cy(t){return Tt(t.x)/Tt(t.y)}function uy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class oC{constructor(){this.members=[]}add(e){Gh(this.members,e),e.scheduleRender()}remove(e){if(Yh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let s;for(let o=r;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aC(t,e,r){let s="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=r?.z||0;if((o||a||u)&&(s=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:p,rotate:y,rotateX:g,rotateY:x,skewX:b,skewY:w}=r;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),g&&(s+=`rotateX(${g}deg) `),x&&(s+=`rotateY(${x}deg) `),b&&(s+=`skewX(${b}deg) `),w&&(s+=`skewY(${w}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const Td=["","X","Y","Z"],lC=1e3;let cC=0;function Pd(t,e,r,s){const{latestValues:o}=e;o[t]&&(r[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Sb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=hb(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ze,!(o||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Sb(s)}function Ab({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=cC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hC),this.nodes.forEach(gC),this.nodes.forEach(yC),this.nodes.forEach(fC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new XN)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Qh),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=zx(u)&&!ZS(u),this.instance=u;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let y,g=0;const x=()=>this.root.updateBlockedByResize=!1;ze.read(()=>{g=window.innerWidth}),t(u,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,y&&y(),y=JN(x,250),$l.hasAnimatedSinceResize&&($l.hasAnimatedSinceResize=!1,this.nodes.forEach(fy)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||p.getDefaultTransition()||EC,{onLayoutAnimationStart:F,onLayoutAnimationComplete:_}=p.getProps(),j=!this.targetLayout||!jb(this.targetLayout,b),A=!g&&x;if(this.options.layoutRoot||this.resumeFrom||A||g&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...hf(w,"layout"),onPlay:F,onComplete:_};(p.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(y,A)}else g||fy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vC),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Sb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const g=this.path[y];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(mC),this.nodes.forEach(uC),this.nodes.forEach(dC)):this.nodes.forEach(hy),this.clearAllSnapshots();const d=Ut.now();wt.delta=tn(0,1e3/60,d-wt.timestamp),wt.timestamp=d,wt.isProcessing=!0,bd.update.process(wt),bd.preRender.process(wt),bd.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pC),this.sharedNodes.forEach(xC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tt(this.snapshot.measuredBox.x)&&!Tt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!kb(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||ps(this.latestValues)||y)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),FC(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return et();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(_C))){const{scroll:p}=this.root;p&&(hi(d.x,p.offset.x),hi(d.y,p.offset.y))}return d}removeElementScroll(u){const d=et();if(hr(d,u),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:g}=p;p!==this.root&&y&&g.layoutScroll&&(y.wasRoot&&hr(d,u),hi(d.x,y.offset.x),hi(d.y,y.offset.y))}return d}applyTransform(u,d=!1){const f=et();hr(f,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&fi(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ps(y.latestValues)&&fi(f,y.latestValues)}return ps(this.latestValues)&&fi(f,this.latestValues),f}removeTransform(u){const d=et();hr(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!ps(p.latestValues))continue;bh(p.latestValues)&&p.updateSnapshot();const y=et(),g=p.measurePageBox();hr(y,g),iy(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ps(this.latestValues)&&iy(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:g}=this.options;if(!(!this.layout||!(y||g))){if(this.resolvedRelativeTargetAt=wt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Po(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hr(this.target,this.layout.layoutBox),ob(this.target,this.targetDelta)):hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Po(this.relativeTargetOrigin,this.target,x.target),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||bh(this.parent.latestValues)||ib(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;hr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;UA(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=et());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ry(this.prevProjectionDelta.x,this.projectionDelta.x),ry(this.prevProjectionDelta.y,this.projectionDelta.y)),To(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!uy(this.projectionDelta.x,this.prevProjectionDelta.x)||!uy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pi(),this.projectionDelta=pi(),this.projectionDeltaWithTransform=pi()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},g=pi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=et(),b=f?f.source:void 0,w=this.layout?this.layout.source:void 0,F=b!==w,_=this.getStack(),j=!_||_.members.length<=1,A=!!(F&&!j&&this.options.crossfade===!0&&!this.path.some(wC));this.animationProgress=0;let S;this.mixTargetDelta=T=>{const D=T/1e3;py(g.x,u.x,D),py(g.y,u.y,D),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Po(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bC(this.relativeTarget,this.relativeTargetOrigin,x,D),S&&iC(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=et()),hr(S,this.relativeTarget)),F&&(this.animationValues=y,ZN(y,p,this.latestValues,D,A,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Mn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{$l.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wi(0)),this.currentAnimation=GN(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:y}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&Nb(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||et();const g=Tt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+g;const x=Tt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+x}hr(d,f),fi(d,y),To(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new oC),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&Pd("z",u,p,this.animationValues);for(let y=0;y<Td.length;y++)Pd(`rotate${Td[y]}`,u,p,this.animationValues),Pd(`skew${Td[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ml(d?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ml(d?.pointerEvents)||""),this.hasProjected&&!ps(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let g=aC(this.projectionDeltaWithTransform,this.treeScale,y);f&&(g=f(y,g)),u.transform=g;const{x,y:b}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in Bo){if(y[w]===void 0)continue;const{correct:F,applyTo:_,isCSSVariable:j}=Bo[w],A=g==="none"?y[w]:F(y[w],p);if(_){const S=_.length;for(let T=0;T<S;T++)u[_[T]]=A}else j?this.options.visualElement.renderState.vars[w]=A:u[w]=A}this.options.layoutId&&(u.pointerEvents=p===this?Ml(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(dy),this.root.sharedNodes.clear()}}}function uC(t){t.updateLayout()}function dC(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?fr(y=>{const g=a?e.measuredBox[y]:e.layoutBox[y],x=Tt(g);g.min=r[y].min,g.max=g.min+x}):Nb(o,e.layoutBox,r)&&fr(y=>{const g=a?e.measuredBox[y]:e.layoutBox[y],x=Tt(r[y]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+x)});const u=pi();To(u,r,e.layoutBox);const d=pi();a?To(d,t.applyTransform(s,!0),e.measuredBox):To(d,r,e.layoutBox);const f=!kb(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:g,layout:x}=y;if(g&&x){const b=et();Po(b,e.layoutBox,g.layoutBox);const w=et();Po(w,r,x.layoutBox),jb(b,w)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=b,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hC(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fC(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pC(t){t.clearSnapshot()}function dy(t){t.clearMeasurements()}function hy(t){t.isLayoutDirty=!1}function mC(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gC(t){t.resolveTargetDelta()}function yC(t){t.calcProjection()}function vC(t){t.resetSkewAndRotation()}function xC(t){t.removeLeadSnapshot()}function py(t,e,r){t.translate=Ge(e.translate,0,r),t.scale=Ge(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function my(t,e,r,s){t.min=Ge(e.min,r.min,s),t.max=Ge(e.max,r.max,s)}function bC(t,e,r,s){my(t.x,e.x,r.x,s),my(t.y,e.y,r.y,s)}function wC(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const EC={duration:.45,ease:[.4,0,.1,1]},gy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),yy=gy("applewebkit/")&&!gy("chrome/")?Math.round:gr;function vy(t){t.min=yy(t.min),t.max=yy(t.max)}function FC(t){vy(t.x),vy(t.y)}function Nb(t,e,r){return t==="position"||t==="preserve-aspect"&&!NN(cy(e),cy(r),.2)}function _C(t){return t!==t.root&&t.scroll?.wasRoot}const kC=Ab({attachResizeListener:(t,e)=>Uo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rd={current:void 0},Cb=Ab({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Rd.current){const t=new kC({});t.mount(window),t.setOptions({layoutScroll:!0}),Rd.current=t}return Rd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),jC={pan:{Feature:WN},drag:{Feature:zN,ProjectionNode:Cb,MeasureLayout:Eb}};function xy(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,a=s[o];a&&ze.postRender(()=>a(e,Xo(e)))}class SC extends zn{mount(){const{current:e}=this.node;e&&(this.unmount=GS(e,(r,s)=>(xy(this.node,s,"Start"),o=>xy(this.node,o,"End"))))}unmount(){}}class AC extends zn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ho(Uo(this.node.current,"focus",()=>this.onFocus()),Uo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function by(t,e,r){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),a=s[o];a&&ze.postRender(()=>a(e,Xo(e)))}class NC extends zn{mount(){const{current:e}=this.node;e&&(this.unmount=QS(e,(r,s)=>(by(this.node,s,"Start"),(o,{success:a})=>by(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sh=new WeakMap,Od=new WeakMap,CC=t=>{const e=Sh.get(t.target);e&&e(t)},TC=t=>{t.forEach(CC)};function PC({root:t,...e}){const r=t||document;Od.has(r)||Od.set(r,{});const s=Od.get(r),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(TC,{root:t,...e})),s[o]}function RC(t,e,r){const s=PC(e);return Sh.set(t,r),s.observe(t),()=>{Sh.delete(t),s.unobserve(t)}}const OC={some:0,all:1};class DC extends zn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:o="some",once:a}=e,u={root:r?r.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:OC[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:g}=this.node.getProps(),x=p?y:g;x&&x(f)};return RC(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(IC(e,r))&&this.startObserver()}unmount(){}}function IC({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const LC={inView:{Feature:DC},tap:{Feature:NC},focus:{Feature:AC},hover:{Feature:SC}},MC={layout:{ProjectionNode:Cb,MeasureLayout:Eb}},$C={...FN,...LC,...jC,...MC},U=$A($C,QA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),wy=t=>{const e=BC(t);return e.charAt(0).toUpperCase()+e.slice(1)},Tb=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:u,...d},f)=>k.createElement("svg",{ref:f,...UC,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:Tb("lucide",o),...d},[...u.map(([p,y])=>k.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const r=k.forwardRef(({className:s,...o},a)=>k.createElement(zC,{ref:a,iconNode:e,className:Tb(`lucide-${VC(wy(t))}`,`lucide-${t}`,s),...o}));return r.displayName=wy(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wt=je("arrow-left",WC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_s=je("award",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ws=je("bell",HC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],GC=je("camera",KC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],XC=je("check",YC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ey=je("chevron-right",JC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ZC=je("circle-check-big",QC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],In=je("circle-check",eT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Jo=je("clock",tT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],nT=je("copy",rT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Vn=je("crown",sT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],$r=je("dollar-sign",iT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],aT=je("download",oT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Nl=je("external-link",lT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Wn=je("flame",cT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],dT=je("gift",uT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],fT=je("house",hT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],mT=je("instagram",pT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yT=je("lock",gT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],xT=je("log-out",vT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Fi=je("mail",bT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Vr=je("map-pin",wT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],rc=je("medal",ET);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_T=je("pen",FT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],fc=je("phone",kT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Pb=je("play",jT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vl=je("plus",ST);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],NT=je("refresh-cw",AT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rb=je("save",CT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ob=je("settings",TT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],RT=je("share-2",PT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],DT=je("shield",OT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],LT=je("sparkles",IT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],$T=je("square",MT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Bl=je("star",VT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zt=je("target",BT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Fy=je("trash-2",UT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Br=je("trending-up",zT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],yr=je("trophy",WT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jf=je("user",qT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],KT=je("users",HT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sf=je("x",GT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Pt=je("zap",YT);function XT({onNavigateToLogin:t,onNavigateToApply:e}){return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505] relative overflow-hidden",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]",style:{backgroundSize:"200% 100%"}}),l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx(U.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-32 -right-32 w-64 h-64 bg-[#8A4FFF] opacity-10 rotate-45"}),l.jsx(U.div,{animate:{rotate:-360,scale:[1,1.2,1]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute -bottom-32 -left-32 w-64 h-64 bg-[#FF7A59] opacity-10 rounded-full"})]}),l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 py-12 relative z-10",children:[l.jsxs(U.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"mb-12 text-center",children:[l.jsxs("div",{className:"inline-block border-4 border-[#F6F2EE] p-8 mb-6 bg-gradient-to-br from-[#8A4FFF] to-[#7A3FEF] relative overflow-hidden",style:{boxShadow:"8px 8px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx(U.div,{animate:{rotate:[0,5,0,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:l.jsx("h1",{className:"text-6xl font-black text-[#F6F2EE] tracking-tight",children:"PP"})}),l.jsx(U.div,{animate:{scale:[1,1.5],opacity:[.5,0]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 border-4 border-[#FF7A59]"})]}),l.jsx(U.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-[#F6F2EE] mb-2 tracking-wide",children:"PATRON PASS"}),l.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"inline-block px-4 py-2 bg-[#FF7A59] border-3 border-[#F6F2EE]",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:l.jsx("span",{className:"text-[#F6F2EE] uppercase tracking-widest text-sm font-bold",children:"Street Team"})})]}),l.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"text-center mb-12 max-w-md",children:[l.jsxs("h1",{className:"text-[#F6F2EE] mb-4 leading-tight",children:["RUN THE CITY.",l.jsx("br",{}),"BUILD THE NETWORK."]}),l.jsx("p",{className:"text-[#A0A0A0] text-base leading-relaxed",children:"Join the street team. Sign venues. Earn commissions. Climb the ranks. Build your empire."})]}),l.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"grid grid-cols-3 gap-3 mb-12 w-full max-w-md",children:[l.jsxs("div",{className:"p-3 bg-[#151515] border-2 border-[#8A4FFF] text-center",children:[l.jsx(Pt,{className:"w-6 h-6 text-[#8A4FFF] mx-auto mb-2"}),l.jsx("p",{className:"text-[#F6F2EE] text-xs uppercase tracking-wide font-bold",children:"Gamified"})]}),l.jsxs("div",{className:"p-3 bg-[#151515] border-2 border-[#FF7A59] text-center",children:[l.jsx(Br,{className:"w-6 h-6 text-[#FF7A59] mx-auto mb-2"}),l.jsx("p",{className:"text-[#F6F2EE] text-xs uppercase tracking-wide font-bold",children:"Ranked"})]}),l.jsxs("div",{className:"p-3 bg-[#151515] border-2 border-[#FFD700] text-center",children:[l.jsx($r,{className:"w-6 h-6 text-[#FFD700] mx-auto mb-2"}),l.jsx("p",{className:"text-[#F6F2EE] text-xs uppercase tracking-wide font-bold",children:"Paid"})]})]}),l.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},className:"w-full max-w-sm space-y-4",children:[l.jsx(U.div,{whileHover:{scale:1.02,x:4},whileTap:{scale:.98},children:l.jsxs(Oe,{onClick:t,className:"w-full h-16 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider transition-all relative overflow-hidden group",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx("span",{className:"relative z-10 text-lg font-bold",children:"Login"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 transform -skew-x-12 group-hover:translate-x-full transition-transform duration-700"})]})}),l.jsx(U.div,{whileHover:{scale:1.02,x:4},whileTap:{scale:.98},children:l.jsx(Oe,{onClick:e,variant:"outline",className:"w-full h-16 bg-transparent hover:bg-[#151515] text-[#F6F2EE] border-4 border-[#F6F2EE] hover:border-[#FF7A59] uppercase tracking-wider transition-all",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:l.jsx("span",{className:"text-lg font-bold",children:"Apply to Join"})})})]}),l.jsxs(U.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:1.3,type:"spring"},className:"mt-16 flex gap-3",children:[l.jsx(U.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,delay:0},className:"w-4 h-4 bg-[#8A4FFF] border-2 border-[#F6F2EE]"}),l.jsx(U.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,delay:.2},className:"w-4 h-4 bg-[#FF7A59] border-2 border-[#F6F2EE]"}),l.jsx(U.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,delay:.4},className:"w-4 h-4 bg-[#8A4FFF] border-2 border-[#F6F2EE]"})]})]}),l.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"px-6 py-6 text-center text-xs text-[#A0A0A0] uppercase tracking-widest",children:"Elite Nightlife Network"})]})}function it({className:t,type:e,...r}){return l.jsx("input",{type:e,"data-slot":"input",className:Rt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var JT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],QT=JT.reduce((t,e)=>{const r=Mv(`Primitive.${e}`),s=k.forwardRef((o,a)=>{const{asChild:u,...d}=o,f=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...d,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),ZT="Label",Db=k.forwardRef((t,e)=>l.jsx(QT.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Db.displayName=ZT;var e5=Db;function Ie({className:t,...e}){return l.jsx(e5,{"data-slot":"label",className:Rt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function t5({onBack:t,onLogin:e}){const[r,s]=k.useState(""),[o,a]=k.useState(""),[u,d]=k.useState(!1),[f,p]=k.useState(""),y=async g=>{g.preventDefault(),p(""),d(!0);try{console.log("Attempting to reach:","https://djsuqvmefbgnmoyfpqhi.supabase.co");const x=await fetch("https://djsuqvmefbgnmoyfpqhi.supabase.co/rest/v1/",{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRqc3Vxdm1lZmJnbm1veWZwcWhpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMDc4MzcsImV4cCI6MjA3MTg4MzgzN30.ojH8W5hjbUbKKf_AaMnYzHGA5vf_fDtG8Bvguet8soA"}});console.log("Basic connectivity test response status:",x.status)}catch(x){console.error("Basic connectivity test failed:",x)}try{console.log("Attempting login with:",r),await e(r,o),console.log("Login successful")}catch(x){console.error("Login error:",x),p(x.message||"Login failed. Please try again.")}finally{d(!1)}};return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4 flex items-center gap-4",children:[l.jsx("button",{onClick:t,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE]",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("h3",{className:"text-[#F6F2EE]",children:"Login"})]}),l.jsx("div",{className:"flex-1 px-6 py-8",children:l.jsxs("form",{onSubmit:y,className:"max-w-md mx-auto space-y-6",children:[l.jsxs("div",{children:[l.jsx(Ie,{htmlFor:"email",className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Email"}),l.jsx(it,{id:"email",type:"email",value:r,onChange:g=>s(g.target.value),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"street@patronpass.com"})]}),l.jsxs("div",{children:[l.jsx(Ie,{htmlFor:"password",className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Password"}),l.jsx(it,{id:"password",type:"password",value:o,onChange:g=>a(g.target.value),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:""})]}),f&&l.jsx("div",{className:"p-4 bg-[#FF4444] border-3 border-[#F6F2EE] text-[#F6F2EE]",children:l.jsx("p",{className:"text-sm",children:f})}),l.jsx(Oe,{type:"submit",disabled:u,className:"w-full h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider disabled:opacity-50",children:u?"Logging in...":"Login"}),l.jsxs("div",{className:"mt-8 p-4 bg-[#151515] border-2 border-[#8A4FFF]",children:[l.jsx("p",{className:"text-xs text-[#A0A0A0] uppercase tracking-wide mb-2",children:"Test Account"}),l.jsx("p",{className:"text-sm text-[#F6F2EE] font-mono",children:"test@patronpass.com"}),l.jsx("p",{className:"text-sm text-[#F6F2EE] font-mono",children:"TestPass123!"})]})]})})]})}function pc({className:t,...e}){return l.jsx("textarea",{"data-slot":"textarea",className:Rt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const r5=["nightlife","sales","promo","hospitality","events","marketing"];function n5({onBack:t}){const[e,r]=k.useState({full_name:"",email:"",phone:"",city:"",instagram_handle:"",experience_tags:[],why_join:""}),[s,o]=k.useState(!1),[a,u]=k.useState(!1),[d,f]=k.useState(""),p=g=>{r(x=>({...x,experience_tags:x.experience_tags.includes(g)?x.experience_tags.filter(b=>b!==g):[...x.experience_tags,g]}))},y=async g=>{g.preventDefault(),f(""),u(!0);try{const x=ot(),{error:b}=await x.from("street_applications").insert({...e,status:"submitted"});if(b)throw b;o(!0)}catch(x){f(x.message||"Failed to submit application")}finally{u(!1)}};return s?l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#050505] px-6",children:l.jsxs("div",{className:"max-w-md w-full text-center",children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsx("div",{className:"p-6 bg-[#151515] border-4 border-[#8A4FFF]",children:l.jsx(In,{className:"w-16 h-16 text-[#8A4FFF]"})})}),l.jsx("h2",{className:"text-[#F6F2EE] mb-4",children:"APPLICATION SUBMITTED"}),l.jsx("p",{className:"text-[#A0A0A0] mb-8",children:"Your application is under review. You'll hear from us within 24-48 hours."}),l.jsx(Oe,{onClick:t,className:"w-full h-12 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider",children:"Back to Welcome"})]})}):l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4 flex items-center gap-4",children:[l.jsx("button",{onClick:t,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE]",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("h3",{className:"text-[#F6F2EE]",children:"Join Street Team"})]}),l.jsx("div",{className:"flex-1 px-6 py-8 overflow-y-auto",children:l.jsxs("form",{onSubmit:y,className:"max-w-md mx-auto space-y-6 pb-8",children:[l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Full Name"}),l.jsx(it,{value:e.full_name,onChange:g=>r({...e,full_name:g.target.value}),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"Jordan Smith"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Email"}),l.jsx(it,{type:"email",value:e.email,onChange:g=>r({...e,email:g.target.value}),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"jordan@email.com"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Phone"}),l.jsx(it,{type:"tel",value:e.phone,onChange:g=>r({...e,phone:g.target.value}),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"+1-555-0123"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"City"}),l.jsx(it,{value:e.city,onChange:g=>r({...e,city:g.target.value}),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"Brooklyn, NY"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Instagram Handle"}),l.jsx(it,{value:e.instagram_handle,onChange:g=>r({...e,instagram_handle:g.target.value}),className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"@yourhandle"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3 block",children:"Experience (select all that apply)"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:r5.map(g=>l.jsx("button",{type:"button",onClick:()=>p(g),className:`p-3 border-3 uppercase text-sm tracking-wide transition-all ${e.experience_tags.includes(g)?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-[#151515] border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:g},g))})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Why do you want to join the Street Team?"}),l.jsx(pc,{value:e.why_join,onChange:g=>r({...e,why_join:g.target.value}),required:!0,rows:5,className:"bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] resize-none",placeholder:"Tell us about your hustle..."})]}),d&&l.jsx("div",{className:"p-4 bg-[#FF4444] border-3 border-[#F6F2EE] text-[#F6F2EE]",children:l.jsx("p",{className:"text-sm",children:d})}),l.jsx(Oe,{type:"submit",disabled:a,className:"w-full h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider disabled:opacity-50",children:a?"Submitting...":"Submit Application"})]})})]})}function s5(t,e){const r=k.createContext(e),s=a=>{const{children:u,...d}=a,f=k.useMemo(()=>d,Object.values(d));return l.jsx(r.Provider,{value:f,children:u})};s.displayName=t+"Provider";function o(a){const u=k.useContext(r);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[s,o]}function mc(t,e=[]){let r=[];function s(a,u){const d=k.createContext(u),f=r.length;r=[...r,u];const p=g=>{const{scope:x,children:b,...w}=g,F=x?.[t]?.[f]||d,_=k.useMemo(()=>w,Object.values(w));return l.jsx(F.Provider,{value:_,children:b})};p.displayName=a+"Provider";function y(g,x){const b=x?.[t]?.[f]||d,w=k.useContext(b);if(w)return w;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[p,y]}const o=()=>{const a=r.map(u=>k.createContext(u));return function(d){const f=d?.[t]||a;return k.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return o.scopeName=t,[s,i5(o,...e)]}function i5(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=s.reduce((d,{useScope:f,scopeName:p})=>{const g=f(a)[`__scope${p}`];return{...d,...g}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}function vr(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}var _i=globalThis?.document?k.useLayoutEffect:()=>{},o5=Rh[" useInsertionEffect ".trim().toString()]||_i;function Af({prop:t,defaultProp:e,onChange:r=()=>{},caller:s}){const[o,a,u]=a5({defaultProp:e,onChange:r}),d=t!==void 0,f=d?t:o;{const y=k.useRef(t!==void 0);k.useEffect(()=>{const g=y.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,s])}const p=k.useCallback(y=>{if(d){const g=l5(y)?y(t):y;g!==t&&u.current?.(g)}else a(y)},[d,t,a,u]);return[f,p]}function a5({defaultProp:t,onChange:e}){const[r,s]=k.useState(t),o=k.useRef(r),a=k.useRef(e);return o5(()=>{a.current=e},[e]),k.useEffect(()=>{o.current!==r&&(a.current?.(r),o.current=r)},[r,o]),[r,s,a]}function l5(t){return typeof t=="function"}function Ib(t){const e=k.useRef({value:t,previous:t});return k.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Lb(t){const[e,r]=k.useState(void 0);return _i(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,d;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,d=p.blockSize}else u=t.offsetWidth,d=t.offsetHeight;r({width:u,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}function c5(t,e){return k.useReducer((r,s)=>e[r][s]??r,t)}var Qo=t=>{const{present:e,children:r}=t,s=u5(e),o=typeof r=="function"?r({present:s.isPresent}):k.Children.only(r),a=rr(s.ref,d5(o));return typeof r=="function"||s.isPresent?k.cloneElement(o,{ref:a}):null};Qo.displayName="Presence";function u5(t){const[e,r]=k.useState(),s=k.useRef(null),o=k.useRef(t),a=k.useRef("none"),u=t?"mounted":"unmounted",[d,f]=c5(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const p=Cl(s.current);a.current=d==="mounted"?p:"none"},[d]),_i(()=>{const p=s.current,y=o.current;if(y!==t){const x=a.current,b=Cl(p);t?f("MOUNT"):b==="none"||p?.display==="none"?f("UNMOUNT"):f(y&&x!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),_i(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,g=b=>{const F=Cl(s.current).includes(CSS.escape(b.animationName));if(b.target===e&&F&&(f("ANIMATION_END"),!o.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},x=b=>{b.target===e&&(a.current=Cl(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:k.useCallback(p=>{s.current=p?getComputedStyle(p):null,r(p)},[])}}function Cl(t){return t?.animationName||"none"}function d5(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function h5(t){const e=f5(t),r=k.forwardRef((s,o)=>{const{children:a,...u}=s,d=k.Children.toArray(a),f=d.find(m5);if(f){const p=f.props.children,y=d.map(g=>g===f?k.Children.count(p)>1?k.Children.only(null):k.isValidElement(p)?p.props.children:null:g);return l.jsx(e,{...u,ref:o,children:k.isValidElement(p)?k.cloneElement(p,void 0,y):null})}return l.jsx(e,{...u,ref:o,children:a})});return r.displayName=`${t}.Slot`,r}function f5(t){const e=k.forwardRef((r,s)=>{const{children:o,...a}=r;if(k.isValidElement(o)){const u=y5(o),d=g5(a,o.props);return o.type!==k.Fragment&&(d.ref=s?lc(s,u):u),k.cloneElement(o,d)}return k.Children.count(o)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var p5=Symbol("radix.slottable");function m5(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===p5}function g5(t,e){const r={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?r[s]=(...d)=>{const f=a(...d);return o(...d),f}:o&&(r[s]=o):s==="style"?r[s]={...o,...a}:s==="className"&&(r[s]=[o,a].filter(Boolean).join(" "))}return{...t,...r}}function y5(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var v5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qt=v5.reduce((t,e)=>{const r=h5(`Primitive.${e}`),s=k.forwardRef((o,a)=>{const{asChild:u,...d}=o,f=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...d,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function x5(t,e){t&&Ov.flushSync(()=>t.dispatchEvent(e))}var gc="Checkbox",[b5]=mc(gc),[w5,Nf]=b5(gc);function E5(t){const{__scopeCheckbox:e,checked:r,children:s,defaultChecked:o,disabled:a,form:u,name:d,onCheckedChange:f,required:p,value:y="on",internal_do_not_use_render:g}=t,[x,b]=Af({prop:r,defaultProp:o??!1,onChange:f,caller:gc}),[w,F]=k.useState(null),[_,j]=k.useState(null),A=k.useRef(!1),S=w?!!u||!!w.closest("form"):!0,T={checked:x,disabled:a,setChecked:b,control:w,setControl:F,name:d,form:u,value:y,hasConsumerStoppedPropagationRef:A,required:p,defaultChecked:Ln(o)?!1:o,isFormControl:S,bubbleInput:_,setBubbleInput:j};return l.jsx(w5,{scope:e,...T,children:F5(g)?g(T):s})}var Mb="CheckboxTrigger",$b=k.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...s},o)=>{const{control:a,value:u,disabled:d,checked:f,required:p,setControl:y,setChecked:g,hasConsumerStoppedPropagationRef:x,isFormControl:b,bubbleInput:w}=Nf(Mb,t),F=rr(o,y),_=k.useRef(f);return k.useEffect(()=>{const j=a?.form;if(j){const A=()=>g(_.current);return j.addEventListener("reset",A),()=>j.removeEventListener("reset",A)}},[a,g]),l.jsx(qt.button,{type:"button",role:"checkbox","aria-checked":Ln(f)?"mixed":f,"aria-required":p,"data-state":qb(f),"data-disabled":d?"":void 0,disabled:d,value:u,...s,ref:F,onKeyDown:vr(e,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:vr(r,j=>{g(A=>Ln(A)?!0:!A),w&&b&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})})});$b.displayName=Mb;var Vb=k.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:s,checked:o,defaultChecked:a,required:u,disabled:d,value:f,onCheckedChange:p,form:y,...g}=t;return l.jsx(E5,{__scopeCheckbox:r,checked:o,defaultChecked:a,disabled:d,required:u,onCheckedChange:p,name:s,form:y,value:f,internal_do_not_use_render:({isFormControl:x})=>l.jsxs(l.Fragment,{children:[l.jsx($b,{...g,ref:e,__scopeCheckbox:r}),x&&l.jsx(Wb,{__scopeCheckbox:r})]})})});Vb.displayName=gc;var Bb="CheckboxIndicator",Ub=k.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:s,...o}=t,a=Nf(Bb,r);return l.jsx(Qo,{present:s||Ln(a.checked)||a.checked===!0,children:l.jsx(qt.span,{"data-state":qb(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...t.style}})})});Ub.displayName=Bb;var zb="CheckboxBubbleInput",Wb=k.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:s,hasConsumerStoppedPropagationRef:o,checked:a,defaultChecked:u,required:d,disabled:f,name:p,value:y,form:g,bubbleInput:x,setBubbleInput:b}=Nf(zb,t),w=rr(r,b),F=Ib(a),_=Lb(s);k.useEffect(()=>{const A=x;if(!A)return;const S=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(S,"checked").set,M=!o.current;if(F!==a&&D){const B=new Event("click",{bubbles:M});A.indeterminate=Ln(a),D.call(A,Ln(a)?!1:a),A.dispatchEvent(B)}},[x,F,a,o]);const j=k.useRef(Ln(a)?!1:a);return l.jsx(qt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??j.current,required:d,disabled:f,name:p,value:y,form:g,...e,tabIndex:-1,ref:w,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Wb.displayName=zb;function F5(t){return typeof t=="function"}function Ln(t){return t==="indeterminate"}function qb(t){return Ln(t)?"indeterminate":t?"checked":"unchecked"}function _5({className:t,...e}){return l.jsx(Vb,{"data-slot":"checkbox",className:Rt("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(Ub,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:l.jsx(XC,{className:"size-3.5"})})})}const k5=`INDEPENDENT CONTRACTOR AGREEMENT

This Independent Contractor Agreement (the "Agreement") is entered into as of the date of electronic signature below (the "Effective Date") by and between Patron Pass Inc., a Delaware corporation ("Company"), and the individual signing below ("Contractor").

WHEREAS, Company operates a membership platform for nightlife venues and hospitality businesses; and

WHEREAS, Contractor desires to provide venue acquisition and relationship management services to Company as an independent contractor;

NOW, THEREFORE, in consideration of the mutual covenants and agreements hereinafter set forth, the parties agree as follows:

1. ENGAGEMENT OF SERVICES
Company hereby engages Contractor to provide venue acquisition, relationship management, and promotional services (the "Services") on an independent contractor basis. Contractor agrees to perform the Services in accordance with Company's guidelines and quality standards.

2. INDEPENDENT CONTRACTOR STATUS
The parties intend that Contractor shall be an independent contractor and not an employee, agent, joint venturer, or partner of Company. Contractor shall have no authority to bind Company in any manner whatsoever. Contractor is solely responsible for all taxes, withholdings, and other statutory obligations.

3. COMPENSATION STRUCTURE
Contractor shall be compensated based on the following structure:
   a) Revenue Share: Contractor shall receive a percentage share of platform fees generated by venues they successfully onboard and activate, subject to tiered commission rates based on performance rank.
   b) Bonuses: Performance-based bonuses as determined by Company for achieving specific milestones.
   c) Payment Terms: Payments shall be made monthly, net 30 days from the end of each calendar month, subject to venue payment receipt.

4. TERM AND TERMINATION
This Agreement shall commence on the Effective Date and continue until terminated by either party upon thirty (30) days' written notice. Company may terminate this Agreement immediately for cause, including but not limited to fraud, misrepresentation, or violation of Company policies.

5. CONFIDENTIALITY
Contractor acknowledges that during the term of this Agreement, Contractor will have access to confidential and proprietary information of Company. Contractor agrees to maintain the confidentiality of such information and not to disclose it to any third party or use it for any purpose other than performing the Services.

6. INTELLECTUAL PROPERTY
All work product, materials, and intellectual property created by Contractor in connection with the Services shall be deemed works made for hire and shall be the sole property of Company. To the extent any such work product does not qualify as a work made for hire, Contractor hereby assigns all right, title, and interest in such work product to Company.

7. NON-SOLICITATION
During the term of this Agreement and for a period of twelve (12) months thereafter, Contractor shall not, directly or indirectly, solicit or attempt to solicit any venue or business that is a client of Company to terminate or reduce its relationship with Company.

8. REPRESENTATIONS AND WARRANTIES
Contractor represents and warrants that:
   a) Contractor has the full right, power, and authority to enter into this Agreement and perform the Services;
   b) The execution and performance of this Agreement will not violate any other agreement to which Contractor is a party;
   c) All information provided to Company is accurate and complete.

9. INDEMNIFICATION
Contractor agrees to indemnify, defend, and hold harmless Company and its officers, directors, employees, and agents from and against any and all claims, damages, liabilities, costs, and expenses arising out of or relating to Contractor's performance of the Services or breach of this Agreement.

10. GENERAL PROVISIONS
This Agreement constitutes the entire agreement between the parties and supersedes all prior agreements and understandings. This Agreement may be amended only by written agreement signed by both parties. This Agreement shall be governed by the laws of the State of Delaware.

BY ELECTRONICALLY SIGNING BELOW, CONTRACTOR ACKNOWLEDGES THAT CONTRACTOR HAS READ THIS AGREEMENT, UNDERSTANDS IT, AND AGREES TO BE BOUND BY ITS TERMS AND CONDITIONS.`;function j5({userId:t,onComplete:e}){const[r,s]=k.useState(!1),[o,a]=k.useState(""),[u,d]=k.useState(!1),[f,p]=k.useState(""),y=async g=>{if(g.preventDefault(),!r){p("You must agree to the terms to continue");return}if(!o.trim()){p("Please type your full legal name");return}p(""),d(!0);try{const x=ot(),{error:b}=await x.from("street_contract_acceptances").insert({user_id:t,agreement_version:"1.0",accepted_at:new Date().toISOString(),typed_signature:o,device_info:navigator.userAgent});if(b)throw b;const{error:w}=await x.from("street_users").update({status:"active"}).eq("id",t);if(w)throw w;e()}catch(x){p(x.message||"Failed to accept contract")}finally{d(!1)}};return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:l.jsx("h3",{className:"text-[#F6F2EE]",children:"Independent Contractor Agreement"})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("div",{className:"p-6 bg-[#151515] border-3 border-[#F6F2EE] mb-6",children:l.jsx("div",{className:"prose prose-invert max-w-none",children:l.jsx("pre",{className:"whitespace-pre-wrap text-sm text-[#F6F2EE] leading-relaxed font-sans",children:k5})})}),l.jsxs("form",{onSubmit:y,className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-3 p-4 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsx(_5,{id:"agree",checked:r,onCheckedChange:g=>s(g),className:"mt-1 border-2 border-[#F6F2EE] data-[state=checked]:bg-[#8A4FFF]"}),l.jsx(Ie,{htmlFor:"agree",className:"text-[#F6F2EE] cursor-pointer leading-relaxed",children:"I have read and agree to the terms of this Independent Contractor Agreement"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Type your full legal name (this is your signature)"}),l.jsx(it,{value:o,onChange:g=>a(g.target.value),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"Your Full Legal Name"})]}),f&&l.jsx("div",{className:"p-4 bg-[#FF4444] border-3 border-[#F6F2EE] text-[#F6F2EE]",children:l.jsx("p",{className:"text-sm",children:f})}),l.jsx(Oe,{type:"submit",disabled:u||!r||!o.trim(),className:"w-full h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider disabled:opacity-50",children:u?"Processing...":"Sign & Continue"})]})]})})]})}const wo=[{icon:Vr,title:"ADD VENUES",description:"Hit the streets. Walk into bars, cafs, nightclubs. Build relationships with owners and GMs. Log every conversation.",color:"#8A4FFF"},{icon:zt,title:"COMPLETE MISSIONS",description:"Daily and weekly challenges keep you sharp. Earn XP for every action. Track your streak. Stay hungry.",color:"#FF7A59"},{icon:Br,title:"CLIMB THE RANKS",description:"Bronze  Silver  Gold  Platinum  Diamond  Black Key. Each rank unlocks better perks and higher rev-share.",color:"#8A4FFF"},{icon:$r,title:"GET PAID",description:"Earn 15-30% of platform fees from venues you sign. Recurring revenue as long as they stay active. Build your network, build your income.",color:"#FF7A59"}];function S5({onComplete:t}){const[e,r]=k.useState(0),s=()=>{e<wo.length-1?r(e+1):t()},o=()=>{t()},a=wo[e],u=a.icon;return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505] px-6 py-12",children:[l.jsx("div",{className:"flex justify-end mb-8",children:l.jsx("button",{onClick:o,className:"text-[#A0A0A0] uppercase text-sm tracking-widest hover:text-[#F6F2EE] transition-colors",children:"Skip"})}),l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-md mx-auto",children:[l.jsx("div",{className:"mb-8 p-8 border-4 border-[#F6F2EE] grain-texture",style:{backgroundColor:a.color},children:l.jsx(u,{className:"w-20 h-20 text-[#F6F2EE]"})}),l.jsx("h2",{className:"text-[#F6F2EE] mb-4 text-center",children:a.title}),l.jsx("p",{className:"text-[#A0A0A0] text-center mb-12 leading-relaxed",children:a.description}),l.jsx("div",{className:"flex gap-2 mb-8",children:wo.map((d,f)=>l.jsx("div",{className:`h-2 w-8 border-2 border-[#F6F2EE] transition-colors ${f===e?"bg-[#8A4FFF]":"bg-transparent"}`},f))}),l.jsx(Oe,{onClick:s,className:"w-full h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider",children:e<wo.length-1?"Next":"Get Started"})]}),l.jsxs("div",{className:"text-center text-xs text-[#A0A0A0] uppercase tracking-widest mt-8",children:[e+1," / ",wo.length]})]})}async function yc(t){const e=ot();try{const r=new Set,{data:s}=await e.from("street_runs").select("created_at").eq("user_id",t).order("created_at",{ascending:!1});s?.forEach(w=>{const F=new Date(w.created_at).toISOString().split("T")[0];r.add(F)});const{data:o}=await e.from("street_venue_leads").select("created_at").eq("created_by_user_id",t).order("created_at",{ascending:!1});o?.forEach(w=>{const F=new Date(w.created_at).toISOString().split("T")[0];r.add(F)});const{data:a}=await e.from("street_xp_events").select("created_at").eq("user_id",t).order("created_at",{ascending:!1});a?.forEach(w=>{const F=new Date(w.created_at).toISOString().split("T")[0];r.add(F)});const u=Array.from(r).sort().reverse();if(u.length===0)return{currentStreak:0,longestStreak:0,lastActivityDate:null,isActiveToday:!1};const d=new Date().toISOString().split("T")[0];let f=0,p=0,y=0,g=new Date(d);const x=u[0]===d;for(let w=0;w<u.length;w++){const F=u[w],_=g.toISOString().split("T")[0];if(F===_)f++,g.setDate(g.getDate()-1);else break}let b=null;y=1;for(const w of u){const F=new Date(w);b?Math.floor((b.getTime()-F.getTime())/864e5)===1?(y++,p=Math.max(p,y)):y=1:p=1,b=F}return{currentStreak:f,longestStreak:Math.max(p,f),lastActivityDate:u[0],isActiveToday:x}}catch(r){return console.error("Error calculating streak:",r),{currentStreak:0,longestStreak:0,lastActivityDate:null,isActiveToday:!1}}}async function vc({userId:t,amount:e,source:r,sourceId:s=null,pointsAmount:o=0}){try{const a=ot(),{data:u,error:d}=await a.from("street_users").select("total_xp, current_rank").eq("id",t).single();if(d||!u)return{success:!1,newTotalXP:0,previousRank:"Bronze",newRank:"Bronze",rankUp:!1,error:"User not found"};const f=u.current_rank,{error:p}=await a.from("street_xp_events").insert({user_id:t,source:r,source_id:s,xp_amount:e,points_amount:o});if(p)return console.error("Error logging XP event:",p),{success:!1,newTotalXP:u.total_xp,previousRank:f,newRank:f,rankUp:!1,error:"Failed to log XP event"};const{data:y,error:g}=await a.from("street_xp_events").select("xp_amount").eq("user_id",t);if(g)return console.error("Error calculating total XP:",g),{success:!1,newTotalXP:u.total_xp,previousRank:f,newRank:f,rankUp:!1,error:"Failed to calculate total XP"};const x=y?.reduce((_,j)=>_+j.xp_amount,0)||0,b=await Hb(x),{error:w}=await a.from("street_users").update({total_xp:x,current_rank:b}).eq("id",t);if(w)return console.error("Error updating user XP/rank:",w),{success:!1,newTotalXP:x,previousRank:f,newRank:f,rankUp:!1,error:"Failed to update user"};const F=f!==b;if(F&&typeof window<"u"){const _=new CustomEvent("rank-up",{detail:{previousRank:f,newRank:b,totalXP:x}});window.dispatchEvent(_)}return{success:!0,newTotalXP:x,previousRank:f,newRank:b,rankUp:F}}catch(a){return console.error("Unexpected error in awardXP:",a),{success:!1,newTotalXP:0,previousRank:"Bronze",newRank:"Bronze",rankUp:!1,error:"Unexpected error"}}}async function Hb(t){try{const e=ot(),{data:r,error:s}=await e.from("street_ranks").select("name, min_xp").order("min_xp",{ascending:!1});if(s||!r||r.length===0)return console.error("Error fetching ranks:",s),"Bronze";for(const o of r)if(t>=o.min_xp)return o.name;return"Bronze"}catch(e){return console.error("Unexpected error calculating rank:",e),"Bronze"}}function zo(t){return{Bronze:.15,Silver:.15,Gold:.2,Platinum:.25,Diamond:.3,"Black Key":.3}[t]||.15}const A5=Object.freeze(Object.defineProperty({__proto__:null,awardXP:vc,calculateRank:Hb,getCommissionRateByRank:zo},Symbol.toStringTag,{value:"Module"}));function N5({user:t,onNavigate:e}){const[r,s]=k.useState({streak:0,longestStreak:0,isActiveToday:!1,venuesThisWeek:0,venuesThisMonth:0,venuesPending:0,venuesLive:0,estimatedMonthlyEarnings:0,todayMissions:[],activeMissions:[],recentRuns:[],unreadNotifications:0,totalLeads:0,weekProgress:0}),[o,a]=k.useState(!0);k.useEffect(()=>{u()},[t.id]);async function u(){const w=ot();try{const[F,_,j,A,S,T,D,M,B]=await Promise.all([yc(t.id),w.from("street_venue_leads").select("*").eq("created_by_user_id",t.id).gte("created_at",new Date(Date.now()-6048e5).toISOString()),w.from("street_venue_leads").select("*").eq("created_by_user_id",t.id).gte("created_at",new Date(Date.now()-2592e6).toISOString()),w.from("street_venue_leads").select("*").eq("created_by_user_id",t.id).eq("status","signed_pending"),w.from("street_venue_leads").select("*").eq("created_by_user_id",t.id).eq("status","live"),w.from("street_venue_leads").select("*").eq("created_by_user_id",t.id),w.from("street_missions").select("*, street_mission_progress!left(*)").or(`scope.eq.global,city.eq.${t.city}`).lte("valid_from",new Date().toISOString()).gte("valid_to",new Date().toISOString()).limit(5),w.from("street_runs").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(3),w.from("street_notifications").select("*").eq("user_id",t.id).eq("is_read",!1)]),O=zo(t.current_rank),he=(S.data?.length||0)*150*O,_e=D.data?.filter(pe=>!pe.street_mission_progress?.[0]?.is_completed)||[],fe=Math.min((_.data?.length||0)/10*100,100);s({streak:F.currentStreak,longestStreak:F.longestStreak,isActiveToday:F.isActiveToday,venuesThisWeek:_.data?.length||0,venuesThisMonth:j.data?.length||0,venuesPending:A.data?.length||0,venuesLive:S.data?.length||0,estimatedMonthlyEarnings:he,todayMissions:D.data?.slice(0,2)||[],activeMissions:_e,recentRuns:M.data||[],unreadNotifications:B.data?.length||0,totalLeads:T.data?.length||0,weekProgress:fe})}catch(F){console.error("Error loading dashboard:",F)}finally{a(!1)}}const d=typeof t.total_xp=="number"?t.total_xp:0,f=t.current_rank||"Bronze",p=C5(f),y=T5(f),g=Math.max(d-y,0),x=Math.max(p-y,1),b=Math.min(g/x*100,100);return o?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#050505]",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block border-4 border-[#8A4FFF] p-6 mb-4 bg-[#151515] animate-pulse",children:l.jsx(Pt,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading Dashboard..."})]})}):l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505] relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]"}),l.jsxs("div",{className:"relative border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Vr,{className:"w-4 h-4 text-[#8A4FFF]"}),l.jsx("h4",{className:"text-[#A0A0A0] uppercase tracking-widest text-xs",children:t.city})]}),l.jsx("h2",{className:"text-[#F6F2EE]",children:t.full_name})]}),l.jsxs("button",{onClick:()=>e("notifications"),className:"relative p-3 border-3 border-[#F6F2EE] hover:bg-[#8A4FFF] hover:border-[#8A4FFF] transition-all active:scale-95",children:[l.jsx(ws,{className:"w-5 h-5 text-[#F6F2EE]"}),r.unreadNotifications>0&&l.jsx(U.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 min-w-5 h-5 px-1 bg-[#FF7A59] border-2 border-[#151515] flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-[#F6F2EE] font-bold",children:r.unreadNotifications})})]})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_s,{className:"w-4 h-4 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE] uppercase text-sm tracking-wide font-bold",children:f})]}),l.jsxs("span",{className:"text-[#A0A0A0] text-xs",children:[d.toLocaleString()," / ",p.toLocaleString()," XP"]})]}),l.jsx("div",{className:"h-2 bg-[#050505] border-2 border-[#F6F2EE] overflow-hidden relative",children:l.jsx(U.div,{initial:{width:0},animate:{width:`${b}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#8A4FFF] to-[#FF7A59]"})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:[l.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[l.jsxs(U.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},onClick:()=>e("earnings"),className:"col-span-3 p-5 bg-gradient-to-br from-[#8A4FFF] to-[#7A3FEF] border-4 border-[#F6F2EE] relative overflow-hidden cursor-pointer active:scale-98 transition-transform",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx($r,{className:"w-5 h-5 text-[#F6F2EE]"}),l.jsx("span",{className:"text-[#F6F2EE] text-xs uppercase tracking-widest opacity-90",children:"Monthly Rev"})]}),l.jsxs("h1",{className:"text-[#F6F2EE] mb-1",children:["$",Math.floor(r.estimatedMonthlyEarnings)]}),l.jsxs("p",{className:"text-[#F6F2EE] text-xs opacity-75",children:[r.venuesLive," live venues"]})]}),l.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-[#FF7A59] opacity-20 rotate-45"})]}),l.jsx(U.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"col-span-2 p-5 bg-[#151515] border-4 border-[#FF7A59] relative overflow-hidden",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:l.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[l.jsx("div",{className:`p-3 border-2 mb-2 ${r.isActiveToday?"bg-[#FF7A59] border-[#F6F2EE] animate-pulse":"bg-transparent border-[#FF7A59]"}`,children:l.jsx(Wn,{className:`w-8 h-8 ${r.isActiveToday?"text-[#F6F2EE]":"text-[#FF7A59]"}`})}),l.jsx("h3",{className:"text-[#F6F2EE] mb-0",children:r.streak}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase tracking-wide",children:"Day Streak"}),!r.isActiveToday&&r.streak>0&&l.jsx("p",{className:"text-[#FF7A59] text-xs mt-1",children:" Log activity today!"})]})})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"p-4 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zt,{className:"w-4 h-4 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE] text-sm uppercase tracking-wide font-bold",children:"This Week's Grind"})]}),l.jsxs("span",{className:"text-[#A0A0A0] text-xs",children:[r.venuesThisWeek," / 10 venues"]})]}),l.jsxs("div",{className:"h-3 bg-[#050505] border-2 border-[#F6F2EE] overflow-hidden relative",children:[l.jsx(U.div,{initial:{width:0},animate:{width:`${r.weekProgress}%`},transition:{duration:.8,delay:.4},className:"h-full bg-[#8A4FFF]"}),r.weekProgress>=100&&l.jsx(U.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-1 top-1/2 -translate-y-1/2",children:l.jsx(Pt,{className:"w-4 h-4 text-[#FFD700]"})})]})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.4},className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#8A4FFF]",children:r.venuesThisMonth}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase mt-1",children:"Month"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.45},className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#FF7A59]",children:r.venuesPending}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase mt-1",children:"Pending"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5},className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#8A4FFF]",children:r.venuesLive}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase mt-1",children:"Live"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.55},className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#A0A0A0]",children:r.totalLeads}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase mt-1",children:"Total"})]})]}),r.activeMissions.length>0&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"text-[#F6F2EE] flex items-center gap-2",children:[l.jsx(zt,{className:"w-5 h-5 text-[#8A4FFF]"}),"ACTIVE MISSIONS"]}),l.jsxs("button",{onClick:()=>e("missions"),className:"text-[#8A4FFF] text-xs uppercase tracking-wider hover:text-[#FF7A59] transition-colors flex items-center gap-1",children:["View All",l.jsx(Ey,{className:"w-4 h-4"})]})]}),l.jsx("div",{className:"space-y-2",children:r.activeMissions.slice(0,2).map((w,F)=>{const j=w.street_mission_progress?.[0]?.current_count||0,A=Math.min(j/w.required_count*100,100);return l.jsxs(U.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.7+F*.1},className:"p-4 bg-[#151515] border-3 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors cursor-pointer",onClick:()=>e("missions"),children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:w.title}),l.jsxs("p",{className:"text-[#A0A0A0] text-xs",children:[j," / ",w.required_count,"  ",w.type]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("span",{className:"text-[#8A4FFF] font-bold text-sm",children:["+",w.xp_reward," XP"]})})]}),l.jsx("div",{className:"h-2 bg-[#050505] border-2 border-[#F6F2EE] overflow-hidden",children:l.jsx(U.div,{initial:{width:0},animate:{width:`${A}%`},transition:{duration:.5,delay:.8+F*.1},className:"h-full bg-[#8A4FFF]"})})]},w.id)})})]}),l.jsx(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},children:l.jsxs(Oe,{onClick:()=>e("start-run"),className:"w-full h-16 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider flex items-center justify-center gap-3 relative overflow-hidden group",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 transform -skew-x-12 group-hover:translate-x-full transition-transform duration-700"}),l.jsx(Pb,{className:"w-6 h-6"}),l.jsx("span",{className:"text-base font-bold",children:"Start New Run"}),l.jsx(Pt,{className:"w-5 h-5 text-[#FFD700]"})]})}),r.recentRuns.length>0&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},children:[l.jsxs("h4",{className:"text-[#F6F2EE] mb-3 flex items-center gap-2",children:[l.jsx(Jo,{className:"w-5 h-5 text-[#A0A0A0]"}),"RECENT RUNS"]}),l.jsx("div",{className:"space-y-2",children:r.recentRuns.map((w,F)=>l.jsx(U.div,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:1+F*.05},className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors cursor-pointer",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F6F2EE] text-sm font-bold mb-1",children:w.title||"Street Run"}),l.jsxs("p",{className:"text-[#A0A0A0] text-xs",children:[w.neighborhood||"Downtown","  ",w.actual_venue_count||0," venues"]})]}),l.jsx(Ey,{className:"w-5 h-5 text-[#A0A0A0]"})]})},w.id))})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 gap-3",children:[l.jsxs(Oe,{onClick:()=>e("pipeline"),variant:"outline",className:"h-24 flex flex-col items-center justify-center gap-2 border-3 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515] hover:border-[#8A4FFF] bg-transparent transition-all",children:[l.jsx(Vr,{className:"w-6 h-6"}),l.jsx("span",{className:"text-xs uppercase tracking-wide font-bold",children:"Lead Pipeline"})]}),l.jsxs(Oe,{onClick:()=>e("leaderboard"),variant:"outline",className:"h-24 flex flex-col items-center justify-center gap-2 border-3 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515] hover:border-[#8A4FFF] bg-transparent transition-all",children:[l.jsx(Br,{className:"w-6 h-6"}),l.jsx("span",{className:"text-xs uppercase tracking-wide font-bold",children:"Leaderboard"})]})]})]})]})}function C5(t){return{Bronze:1e3,Silver:2500,Gold:5e3,Platinum:1e4,Diamond:25e3,"Black Key":99999}[t]||1e3}function T5(t){return{Bronze:0,Silver:1e3,Gold:2500,Platinum:5e3,Diamond:1e4,"Black Key":25e3}[t]||0}const P5=["Lower East Side","Williamsburg","Bushwick","East Village","SoHo","West Village","Brooklyn Heights","Park Slope","Greenpoint","Astoria"];function R5({user:t,onBack:e,onRunStarted:r}){const[s,o]=k.useState({title:"",neighborhood:"",plannedVenueCount:5}),[a,u]=k.useState(!1),[d,f]=k.useState(""),p=async y=>{y.preventDefault(),f(""),u(!0);try{const g=ot(),x=s.title||`${s.neighborhood} Street Run`,{data:b,error:w}=await g.from("street_runs").insert({user_id:t.id,title:x,city:t.city,neighborhood:s.neighborhood,start_time:new Date().toISOString(),planned_venue_count:s.plannedVenueCount,actual_venue_count:0,status:"active"}).select().single();if(w)throw w;b&&r(b.id)}catch(g){f(g.message||"Failed to start run")}finally{u(!1)}};return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4 flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE]",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("h3",{className:"text-[#F6F2EE]",children:"Start Street Run"})]}),l.jsx("div",{className:"flex-1 px-6 py-8 overflow-y-auto",children:l.jsxs("form",{onSubmit:p,className:"max-w-md mx-auto space-y-6",children:[l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Run Title (optional)"}),l.jsx(it,{value:s.title,onChange:y=>o({...s,title:y.target.value}),className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"Thursday Night Crawl"}),l.jsx("p",{className:"text-xs text-[#A0A0A0] mt-2",children:"Leave blank to auto-generate from neighborhood"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3 block",children:"Neighborhood"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:P5.map(y=>l.jsx("button",{type:"button",onClick:()=>o({...s,neighborhood:y}),className:`p-3 border-3 text-sm transition-all ${s.neighborhood===y?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-[#151515] border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:y},y))})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Planned Venues"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{type:"button",onClick:()=>o({...s,plannedVenueCount:Math.max(1,s.plannedVenueCount-1)}),className:"w-12 h-12 border-3 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#8A4FFF] transition-colors",children:"-"}),l.jsx("div",{className:"flex-1 text-center",children:l.jsx("p",{className:"text-3xl font-bold text-[#F6F2EE]",children:s.plannedVenueCount})}),l.jsx("button",{type:"button",onClick:()=>o({...s,plannedVenueCount:s.plannedVenueCount+1}),className:"w-12 h-12 border-3 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#8A4FFF] transition-colors",children:"+"})]})]}),d&&l.jsx("div",{className:"p-4 bg-[#FF4444] border-3 border-[#F6F2EE] text-[#F6F2EE]",children:l.jsx("p",{className:"text-sm",children:d})}),l.jsxs(Oe,{type:"submit",disabled:a||!s.neighborhood,className:"w-full h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider disabled:opacity-50 flex items-center justify-center gap-3",children:[l.jsx(Pb,{className:"w-5 h-5"}),a?"Starting...":"Start Run"]}),l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#8A4FFF]",children:[l.jsx("p",{className:"text-xs text-[#A0A0A0] uppercase tracking-wide mb-2",children:"Pro Tip"}),l.jsx("p",{className:"text-sm text-[#F6F2EE]",children:"Set a target, but stay flexible. The best conversations happen when you're not rushed."})]})]})})]})}async function Cf(t,e,r=1){try{const{data:s}=await Te.from("street_users").select("city").eq("id",t).single();if(!s)return[];const o=await O5(s.city,e);if(o.length===0)return[];const a=[];for(const u of o){let{data:d}=await Te.from("street_mission_progress").select("*").eq("mission_id",u.id).eq("user_id",t).single();if(!d){const{data:g,error:x}=await Te.from("street_mission_progress").insert({mission_id:u.id,user_id:t,current_count:0,is_completed:!1,completed_at:null,xp_awarded:!1}).select().single();if(x){console.error("Error creating mission progress:",x);continue}d=g}if(d.is_completed&&d.xp_awarded)continue;const f=d.current_count+r,p=f>=u.required_count,{error:y}=await Te.from("street_mission_progress").update({current_count:f,is_completed:p,completed_at:p&&!d.is_completed?new Date().toISOString():d.completed_at}).eq("id",d.id);if(y){console.error("Error updating mission progress:",y);continue}a.push({missionId:u.id,newCount:f,completed:p}),p&&!d.is_completed&&await D5(t,u)}return a}catch(s){return console.error("Unexpected error in updateMissionProgress:",s),[]}}async function O5(t,e){const r=new Date().toISOString(),{data:s}=await Te.from("street_missions").select("*").or(`scope.eq.global,city.eq.${t}`).lte("valid_from",r).gte("valid_to",r);return s?s.filter(o=>{const a=o.description.toLowerCase();switch(o.title.toLowerCase(),e){case"lead_added":return a.includes("add")&&(a.includes("lead")||a.includes("venue"));case"run_completed":return a.includes("complete")&&a.includes("run");case"lead_to_follow_up":return a.includes("follow up");case"lead_to_signed_pending":return a.includes("signed")||a.includes("sign");case"lead_to_live":return a.includes("live");default:return!1}}):[]}async function D5(t,e){try{await Te.from("street_notifications").insert({user_id:t,title:" Mission Complete!",body:`You completed "${e.title}". Claim your ${e.xp_reward} XP reward!`,type:"mission",is_read:!1})}catch(r){console.error("Error creating mission notification:",r)}}async function I5(t,e){try{const{data:r}=await Te.from("street_missions").select("*").eq("id",e).single(),{data:s}=await Te.from("street_mission_progress").select("*").eq("mission_id",e).eq("user_id",t).single();if(!r||!s)return{success:!1,xpAwarded:0,error:"Mission or progress not found"};if(!s.is_completed)return{success:!1,xpAwarded:0,error:"Mission not completed yet"};if(s.xp_awarded)return{success:!1,xpAwarded:0,error:"Reward already claimed"};const{awardXP:o}=await Ph(async()=>{const{awardXP:u}=await Promise.resolve().then(()=>A5);return{awardXP:u}},void 0),a=await o({userId:t,amount:r.xp_reward,source:"mission",sourceId:e,pointsAmount:r.point_reward});return a.success?(await Te.from("street_mission_progress").update({xp_awarded:!0}).eq("id",s.id),{success:!0,xpAwarded:r.xp_reward}):{success:!1,xpAwarded:0,error:a.error}}catch(r){return console.error("Unexpected error claiming mission:",r),{success:!1,xpAwarded:0,error:"Unexpected error"}}}function L5({runId:t,onBack:e,onAddQuickLead:r,onAddFullLead:s,onEndRun:o}){const[a,u]=k.useState(null),[d,f]=k.useState(0),[p,y]=k.useState([]),[g,x]=k.useState(!1),[b,w]=k.useState(!1),F=k.useRef(null),_=k.useRef(null);k.useEffect(()=>{j();const te=setInterval(()=>{f(fe=>fe+1),d%30===0&&A()},1e3);return()=>{clearInterval(te),T()}},[t]);async function j(){const{data:te}=await Te.from("street_runs").select("*").eq("id",t).single();if(te){u(te);const fe=new Date(te.start_time).getTime(),pe=Date.now();f(Math.floor((pe-fe)/1e3)),A(te)}}async function A(te=a){if(!te)return;const{data:fe}=await Te.from("street_venue_leads").select("*").eq("created_by_user_id",te.user_id).gte("created_at",te.start_time).order("created_at",{ascending:!1});y(fe||[])}async function S(){try{const te=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});F.current&&(F.current.srcObject=te,_.current=te,w(!0))}catch(te){console.error("Camera access denied:",te),Le.error("Camera access required for photos")}}function T(){_.current&&(_.current.getTracks().forEach(te=>te.stop()),_.current=null),w(!1)}async function D(){if(!F.current)return;const te=document.createElement("canvas");te.width=F.current.videoWidth,te.height=F.current.videoHeight;const fe=te.getContext("2d");fe&&(fe.drawImage(F.current,0,0),te.toBlob(async pe=>{pe&&(Le.success("Photo captured!",{description:"Add venue details to attach photo"}),T(),s())},"image/jpeg",.9))}const M=async()=>{if(!a)return;await Te.from("street_runs").update({end_time:new Date().toISOString(),actual_venue_count:p.length,status:"completed"}).eq("id",t);const te=50,fe=p.length*10,pe=d>3600?25:0,Se=te+fe+pe,Q=await vc({userId:a.user_id,amount:Se,source:"run_completed",sourceId:t,pointsAmount:5+p.length});Q.success&&(Le.success(`Run completed  +${Se} XP earned!`,{description:Q.rankUp?` Promoted to ${Q.newRank}!`:`${p.length} venues logged`}),await Cf(a.user_id,"run_completed")),o()};if(!a)return l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block border-4 border-[#8A4FFF] p-6 mb-4 bg-[#151515] animate-pulse",children:l.jsx(Pt,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading Run..."})]})});const B=Math.floor(d/3600),O=Math.floor(d%3600/60),X=d%60,he=a.target_venue_count||10,_e=Math.min(p.length/he*100,100);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505] relative overflow-hidden",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]",style:{backgroundSize:"200% 100%"}}),l.jsxs("div",{className:"relative border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-[#F6F2EE]",children:a.title}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(Vr,{className:"w-3 h-3 text-[#8A4FFF]"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:a.neighborhood})]})]}),l.jsx(U.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"px-3 py-1 bg-[#FF7A59] border-2 border-[#F6F2EE]",children:l.jsx("span",{className:"text-[#F6F2EE] text-xs font-bold uppercase tracking-wider",children:"LIVE"})})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"p-6 bg-gradient-to-br from-[#8A4FFF] to-[#7A3FEF] border-4 border-[#F6F2EE] relative overflow-hidden",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[l.jsx(Jo,{className:"w-5 h-5 text-[#F6F2EE]"}),l.jsx("span",{className:"text-[#F6F2EE] text-xs uppercase tracking-widest",children:"Time Active"})]}),l.jsxs("p",{className:"text-5xl font-bold text-[#F6F2EE] font-mono text-center tracking-wider",children:[String(B).padStart(2,"0"),":",String(O).padStart(2,"0"),":",String(X).padStart(2,"0")]})]}),l.jsx(U.div,{animate:{scale:[1,1.5,1],opacity:[.3,0,.3]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 bg-[#FF7A59]"})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:[l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"p-5 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zt,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE] uppercase tracking-wide font-bold",children:"Progress"})]}),l.jsxs("span",{className:"text-[#A0A0A0] text-sm",children:[p.length," / ",he," venues"]})]}),l.jsxs("div",{className:"h-4 bg-[#050505] border-2 border-[#F6F2EE] overflow-hidden relative",children:[l.jsx(U.div,{initial:{width:0},animate:{width:`${_e}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-[#8A4FFF] to-[#FF7A59]"}),_e>=100&&l.jsx(U.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"absolute right-1 top-1/2 -translate-y-1/2",children:l.jsx(In,{className:"w-5 h-5 text-[#FFD700]"})})]}),_e>=100&&l.jsx(U.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-[#FFD700] text-sm mt-2 font-bold uppercase tracking-wide",children:" Goal Crushed!"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(U.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:l.jsxs(Oe,{onClick:r,className:"w-full h-24 flex flex-col items-center justify-center gap-2 bg-[#8A4FFF] hover:bg-[#7A3FEF] border-4 border-[#F6F2EE] text-[#F6F2EE] relative overflow-hidden group",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx(Vl,{className:"w-8 h-8"}),l.jsx("span",{className:"text-sm uppercase tracking-wide font-bold",children:"Add Lead"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 transform -skew-x-12 group-hover:translate-x-full transition-transform duration-700"})]})}),l.jsx(U.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:l.jsxs(Oe,{onClick:b?D:S,className:"w-full h-24 flex flex-col items-center justify-center gap-2 bg-[#FF7A59] hover:bg-[#EE6A49] border-4 border-[#F6F2EE] text-[#F6F2EE] relative overflow-hidden",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx(GC,{className:"w-8 h-8"}),l.jsx("span",{className:"text-sm uppercase tracking-wide font-bold",children:b?"Capture":"Camera"})]})})]}),l.jsx(Yo,{children:b&&l.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative border-4 border-[#FF7A59] overflow-hidden",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx("video",{ref:F,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover bg-black"}),l.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-[#FF7A59] m-4 pointer-events-none"}),l.jsx("button",{onClick:T,className:"absolute top-2 right-2 p-2 bg-[#050505] border-2 border-[#F6F2EE] hover:bg-[#FF4444] transition-colors",children:l.jsx("span",{className:"text-[#F6F2EE] text-xs font-bold",children:""})})]})}),p.length>0&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"text-[#F6F2EE] uppercase tracking-wide flex items-center gap-2",children:[l.jsx(Wn,{className:"w-5 h-5 text-[#FF7A59]"}),"Venues Logged"]}),l.jsx("span",{className:"text-[#8A4FFF] font-bold",children:p.length})]}),l.jsx("div",{className:"space-y-2",children:p.map((te,fe)=>l.jsx(U.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:fe*.05},className:"p-4 bg-[#151515] border-3 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:te.venue_name}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#A0A0A0]",children:[l.jsx(Vr,{className:"w-3 h-3"}),l.jsx("span",{children:te.address})]})]}),l.jsx("div",{className:`px-2 py-1 border-2 text-xs font-bold uppercase tracking-wider ${te.status==="new"?"border-[#A0A0A0] text-[#A0A0A0]":te.status==="contacted"?"border-[#8A4FFF] text-[#8A4FFF]":te.status==="verbal_yes"?"border-[#FF7A59] text-[#FF7A59]":te.status==="signed_pending"?"border-[#FFD700] text-[#FFD700]":"border-[#00FF00] text-[#00FF00]"}`,children:te.status.replace("_"," ")})]})},te.id))})]}),p.length===0&&l.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[l.jsx("div",{className:"inline-block p-8 bg-[#151515] border-3 border-[#F6F2EE] mb-4",children:l.jsx(zt,{className:"w-16 h-16 text-[#A0A0A0]"})}),l.jsx("p",{className:"text-[#A0A0A0] mb-2",children:"No venues logged yet"}),l.jsx("p",{className:"text-[#8A4FFF] text-sm",children:"Hit the streets and start adding leads!"})]}),l.jsx(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:g?l.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},className:"p-5 bg-[#151515] border-4 border-[#FF4444] space-y-3",children:[l.jsx("p",{className:"text-[#F6F2EE] text-center font-bold",children:"End this run?"}),l.jsxs("p",{className:"text-[#A0A0A0] text-sm text-center",children:["You logged ",p.length," venues in ",Math.floor(d/60)," minutes"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(Oe,{onClick:()=>x(!1),variant:"outline",className:"border-2 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515]",children:"Cancel"}),l.jsx(Oe,{onClick:M,className:"bg-[#FF4444] hover:bg-[#EE3333] border-2 border-[#F6F2EE] text-[#F6F2EE]",children:"Confirm"})]})]}):l.jsxs(Oe,{onClick:()=>x(!0),variant:"outline",className:"w-full h-14 border-3 border-[#FF4444] text-[#FF4444] hover:bg-[#FF4444] hover:text-[#F6F2EE] uppercase tracking-wider font-bold transition-all",children:[l.jsx($T,{className:"w-5 h-5 mr-2"}),"End Run"]})})]})]})}const _y=[{id:"new",label:"New",color:"#A0A0A0",emoji:""},{id:"contacted",label:"Contacted",color:"#8A4FFF",emoji:""},{id:"follow_up",label:"Follow Up",color:"#8A4FFF",emoji:""},{id:"demo_scheduled",label:"Demo",color:"#FF7A59",emoji:""},{id:"verbal_yes",label:"Verbal Yes",color:"#FF7A59",emoji:""},{id:"signed_pending",label:"Signed",color:"#FFD700",emoji:""},{id:"live",label:"Live",color:"#00FF00",emoji:""}];function M5({user:t,onBack:e,onAddLead:r,onViewLead:s}){const[o,a]=k.useState([]),[u,d]=k.useState("new"),[f,p]=k.useState(!0),[y,g]=k.useState("");k.useEffect(()=>{x()},[t.id]);async function x(){const S=ot(),{data:T}=await S.from("street_venue_leads").select("*").eq("created_by_user_id",t.id).order("created_at",{ascending:!1});a(T||[]),p(!1)}const b=o.filter(S=>{const T=S.status===u,D=y===""||S.venue_name.toLowerCase().includes(y.toLowerCase())||S.address.toLowerCase().includes(y.toLowerCase());return T&&D}),w=_y.find(S=>S.id===u),F=_y.map(S=>({...S,count:o.filter(T=>T.status===S.id).length})),_=o.length,j=o.filter(S=>S.status==="live").length,A=_>0?(j/_*100).toFixed(0):0;return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]"}),l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("h3",{className:"text-[#F6F2EE] flex-1",children:"Lead Pipeline"}),l.jsx("button",{onClick:r,className:"p-2 border-2 border-[#8A4FFF] bg-[#8A4FFF] hover:bg-[#7A3FEF] transition-colors active:scale-95",children:l.jsx(Vl,{className:"w-5 h-5 text-[#F6F2EE]"})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[l.jsxs("div",{className:"p-3 bg-[#050505] border-2 border-[#8A4FFF] text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-[#8A4FFF]",children:_}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase",children:"Total"})]}),l.jsxs("div",{className:"p-3 bg-[#050505] border-2 border-[#00FF00] text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-[#00FF00]",children:j}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase",children:"Live"})]}),l.jsxs("div",{className:"p-3 bg-[#050505] border-2 border-[#FF7A59] text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-[#FF7A59]",children:[A,"%"]}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase",children:"Rate"})]})]}),l.jsx("div",{className:"relative mb-4",children:l.jsx("input",{type:"text",value:y,onChange:S=>g(S.target.value),placeholder:"Search venues...",className:"w-full h-12 bg-[#050505] border-3 border-[#F6F2EE] text-[#F6F2EE] px-4 focus:border-[#8A4FFF] transition-colors placeholder:text-[#A0A0A0]"})}),l.jsx("div",{className:"overflow-x-auto -mx-6 px-6",children:l.jsx("div",{className:"flex gap-2 min-w-max pb-2",children:F.map(S=>{const T=u===S.id;return l.jsxs(U.button,{onClick:()=>d(S.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:`px-4 py-3 border-3 uppercase text-xs tracking-wider whitespace-nowrap transition-all relative overflow-hidden ${T?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-[#151515] border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,style:T?{boxShadow:"3px 3px 0px rgba(0, 0, 0, 0.8)"}:{},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:S.emoji}),l.jsx("span",{className:"font-bold",children:S.label}),l.jsxs("span",{className:`ml-1 ${T?"text-[#F6F2EE]":"text-[#8A4FFF]"}`,children:["(",S.count,")"]})]}),T&&l.jsx(U.div,{layoutId:"activeStage",className:"absolute bottom-0 left-0 right-0 h-1 bg-[#FF7A59]"})]},S.id)})})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:f?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(U.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"inline-block p-6 bg-[#151515] border-3 border-[#8A4FFF] mb-4",children:l.jsx(Br,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading leads..."})]}):b.length===0?l.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[l.jsx("div",{className:"inline-block p-8 bg-[#151515] border-4 border-[#F6F2EE] mb-4",children:l.jsx("span",{className:"text-6xl",children:w?.emoji})}),l.jsxs("h3",{className:"text-[#F6F2EE] mb-2",children:["No leads in ",w?.label]}),l.jsx("p",{className:"text-[#A0A0A0] mb-6 text-sm",children:y?"Try different search terms":"Start adding venues to build your pipeline"}),l.jsxs(Oe,{onClick:r,className:"bg-[#8A4FFF] hover:bg-[#7A3FEF] border-3 border-[#F6F2EE] text-[#F6F2EE] uppercase tracking-wider",children:[l.jsx(Vl,{className:"w-5 h-5 mr-2"}),"Add Lead"]})]}):l.jsx("div",{className:"space-y-3 pb-6",children:l.jsx(Yo,{mode:"popLayout",children:b.map((S,T)=>{const D=Math.floor((Date.now()-new Date(S.created_at).getTime())/864e5);return l.jsxs(U.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:T*.03},onClick:()=>s(S.id),whileHover:{scale:1.01,x:4},whileTap:{scale:.99},className:"p-5 bg-[#151515] border-3 border-[#F6F2EE] hover:border-[#8A4FFF] cursor-pointer transition-all relative overflow-hidden group",style:{boxShadow:"3px 3px 0px rgba(0, 0, 0, 0.6)"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#8A4FFF]/5 to-[#FF7A59]/5 opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h4",{className:"text-[#F6F2EE] font-bold mb-1 flex items-center gap-2",children:[S.venue_name,S.venue_type&&l.jsxs("span",{className:"text-xs text-[#A0A0A0] font-normal uppercase",children:[" ",S.venue_type]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#A0A0A0] mb-2",children:[l.jsx(Vr,{className:"w-3 h-3"}),l.jsx("span",{className:"text-xs",children:S.address})]})]}),l.jsxs("div",{className:"px-3 py-1 border-2 text-xs font-bold uppercase tracking-wider whitespace-nowrap",style:{borderColor:w?.color||"#A0A0A0",color:w?.color||"#A0A0A0"},children:[w?.emoji," ",w?.label]})]}),(S.contact_name||S.contact_phone||S.contact_email)&&l.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-[#A0A0A0] mb-3",children:[S.contact_name&&l.jsxs("span",{className:"flex items-center gap-1",children:[" ",S.contact_name,S.contact_role&&l.jsxs("span",{className:"opacity-75",children:["(",S.contact_role,")"]})]}),S.contact_phone&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(fc,{className:"w-3 h-3"}),S.contact_phone]}),S.contact_email&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Fi,{className:"w-3 h-3"}),S.contact_email]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-[#F6F2EE]/20",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#A0A0A0]",children:[l.jsx(Jo,{className:"w-3 h-3"}),l.jsx("span",{children:D===0?"Today":D===1?"Yesterday":`${D} days ago`})]}),S.estimated_revenue&&l.jsxs("div",{className:"flex items-center gap-1 text-xs text-[#8A4FFF] font-bold",children:[l.jsx($r,{className:"w-3 h-3"}),l.jsxs("span",{children:["$",S.estimated_revenue,"/mo"]})]})]}),S.notes&&l.jsx("div",{className:"mt-2 pt-2 border-t border-[#F6F2EE]/20",children:l.jsxs("p",{className:"text-xs text-[#A0A0A0] italic line-clamp-1",children:['"',S.notes,'"']})})]}),l.jsx(U.div,{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0},children:l.jsx("span",{className:"text-[#8A4FFF] text-xl",children:""})})]},S.id)})})})}),l.jsx(U.button,{onClick:r,whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-24 right-6 w-16 h-16 bg-[#8A4FFF] hover:bg-[#7A3FEF] border-4 border-[#F6F2EE] flex items-center justify-center z-50 shadow-lg",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:l.jsx(Vl,{className:"w-8 h-8 text-[#F6F2EE]"})})]})}const $5=[{value:"restaurant",label:" Restaurant",emoji:""},{value:"bar",label:" Bar",emoji:""},{value:"caf",label:" Caf",emoji:""},{value:"bakery",label:" Bakery",emoji:""},{value:"brewery",label:" Brewery",emoji:""},{value:"nightclub",label:" Nightclub",emoji:""},{value:"lounge",label:" Lounge",emoji:""},{value:"other",label:" Other",emoji:""}],V5=[{id:"cold_walk_in",label:"Cold Walk-In",icon:""},{id:"friend_intro",label:"Friend Intro",icon:""},{id:"referral",label:"Referral",icon:""},{id:"event",label:"Event",icon:""},{id:"social_media",label:"Social Media",icon:""}];function B5({user:t,runId:e,onBack:r,onSuccess:s}){const[o,a]=k.useState({venue_name:"",address:"",venue_type:"",contact_name:"",contact_role:"",contact_phone:"",contact_email:"",relationship_strength:3,lead_source:"cold_walk_in",notes:""}),[u,d]=k.useState(!1),[f,p]=k.useState(1),y=async b=>{b.preventDefault(),d(!0);try{const w=Math.min(100,30+(o.contact_name?15:0)+(o.contact_phone?15:0)+(o.contact_email?15:0)+o.relationship_strength*5),{error:F}=await Te.from("street_venue_leads").insert({...o,created_by_user_id:t.id,city:t.city,heat_score:w,status:"new"});if(F)throw F;const _=25,j=await vc({userId:t.id,amount:_,source:"lead_added",pointsAmount:2});await Cf(t.id,"lead_added"),Le.success("Lead added successfully!",{description:`+${_} XP earned! `}),s()}catch(w){console.error("Error adding lead:",w),Le.error("Failed to add lead",{description:w.message})}finally{d(!1)}},g=o.venue_name&&o.address&&o.venue_type,x=Math.min(100,30+(o.contact_name?15:0)+(o.contact_phone?15:0)+(o.contact_email?15:0)+o.relationship_strength*5);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]"}),l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:r,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("h3",{className:"text-[#F6F2EE] flex-1",children:"Add New Lead"}),e&&l.jsx("div",{className:"px-3 py-1 bg-[#FF7A59] border-2 border-[#F6F2EE]",children:l.jsx("span",{className:"text-[#F6F2EE] text-xs font-bold uppercase",children:"On Run"})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`flex-1 h-2 border-2 ${f>=1?"bg-[#8A4FFF] border-[#8A4FFF]":"bg-transparent border-[#F6F2EE]"}`}),l.jsx("div",{className:`flex-1 h-2 border-2 ${f>=2?"bg-[#8A4FFF] border-[#8A4FFF]":"bg-transparent border-[#F6F2EE]"}`}),l.jsx("div",{className:`flex-1 h-2 border-2 ${f>=3?"bg-[#8A4FFF] border-[#8A4FFF]":"bg-transparent border-[#F6F2EE]"}`})]}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsx("span",{className:`text-xs uppercase tracking-wider ${f>=1?"text-[#8A4FFF]":"text-[#A0A0A0]"}`,children:"Venue"}),l.jsx("span",{className:`text-xs uppercase tracking-wider ${f>=2?"text-[#8A4FFF]":"text-[#A0A0A0]"}`,children:"Contact"}),l.jsx("span",{className:`text-xs uppercase tracking-wider ${f>=3?"text-[#8A4FFF]":"text-[#A0A0A0]"}`,children:"Details"})]})]}),l.jsxs("form",{onSubmit:y,className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:[f===1&&l.jsxs(U.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-[#8A4FFF] border-3 border-[#F6F2EE] mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Vr,{className:"w-5 h-5 text-[#F6F2EE]"}),l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wide font-bold",children:"Venue Information"})]}),l.jsx("p",{className:"text-[#F6F2EE] text-sm opacity-90",children:"Start with the basics - where is this venue?"})]}),l.jsxs("div",{children:[l.jsxs(Ie,{className:"text-[#F6F2EE] mb-2 flex items-center gap-2",children:["Venue Name ",l.jsx("span",{className:"text-[#FF7A59]",children:"*"})]}),l.jsx(it,{type:"text",value:o.venue_name,onChange:b=>a({...o,venue_name:b.target.value}),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"The Night Owl"})]}),l.jsxs("div",{children:[l.jsxs(Ie,{className:"text-[#F6F2EE] mb-2 flex items-center gap-2",children:["Address ",l.jsx("span",{className:"text-[#FF7A59]",children:"*"})]}),l.jsx(it,{type:"text",value:o.address,onChange:b=>a({...o,address:b.target.value}),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"123 Main St, Downtown"})]}),l.jsxs("div",{children:[l.jsxs(Ie,{className:"text-[#F6F2EE] mb-2 flex items-center gap-2",children:["Venue Type ",l.jsx("span",{className:"text-[#FF7A59]",children:"*"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:$5.map(b=>l.jsxs(U.button,{type:"button",onClick:()=>a({...o,venue_type:b.value}),whileTap:{scale:.95},className:`p-3 border-3 transition-all ${o.venue_type===b.value?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-[#151515] border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:[l.jsx("span",{className:"text-lg mr-2",children:b.emoji}),l.jsx("span",{className:"text-sm uppercase tracking-wider font-bold",children:b.label.split(" ")[1]||b.label})]},b.value))})]}),l.jsx(Oe,{type:"button",onClick:()=>p(2),disabled:!g,className:"w-full h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] border-3 border-[#F6F2EE] text-[#F6F2EE] uppercase tracking-wider font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue to Contact Info "})]}),f===2&&l.jsxs(U.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-[#8A4FFF] border-3 border-[#F6F2EE] mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(jf,{className:"w-5 h-5 text-[#F6F2EE]"}),l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wide font-bold",children:"Contact Information"})]}),l.jsx("p",{className:"text-[#F6F2EE] text-sm opacity-90",children:"Who did you talk to? (Optional but recommended)"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] mb-2",children:"Contact Name"}),l.jsx(it,{type:"text",value:o.contact_name,onChange:b=>a({...o,contact_name:b.target.value}),className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"Alex Johnson"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] mb-2",children:"Role / Title"}),l.jsx(it,{type:"text",value:o.contact_role,onChange:b=>a({...o,contact_role:b.target.value}),className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"Owner, Manager, etc."})]}),l.jsxs("div",{children:[l.jsxs(Ie,{className:"text-[#F6F2EE] mb-2 flex items-center gap-2",children:[l.jsx(fc,{className:"w-4 h-4"}),"Phone Number"]}),l.jsx(it,{type:"tel",value:o.contact_phone,onChange:b=>a({...o,contact_phone:b.target.value}),className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"+1 (555) 123-4567"})]}),l.jsxs("div",{children:[l.jsxs(Ie,{className:"text-[#F6F2EE] mb-2 flex items-center gap-2",children:[l.jsx(Fi,{className:"w-4 h-4"}),"Email Address"]}),l.jsx(it,{type:"email",value:o.contact_email,onChange:b=>a({...o,contact_email:b.target.value}),className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"alex@venue.com"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Oe,{type:"button",onClick:()=>p(1),variant:"outline",className:"flex-1 h-12 border-3 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515]",children:" Back"}),l.jsx(Oe,{type:"button",onClick:()=>p(3),className:"flex-1 h-12 bg-[#8A4FFF] hover:bg-[#7A3FEF] border-3 border-[#F6F2EE] text-[#F6F2EE] uppercase tracking-wider font-bold",children:"Continue "})]})]}),f===3&&l.jsxs(U.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-[#8A4FFF] border-3 border-[#F6F2EE] mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Pt,{className:"w-5 h-5 text-[#F6F2EE]"}),l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wide font-bold",children:"Additional Details"})]}),l.jsx("p",{className:"text-[#F6F2EE] text-sm opacity-90",children:"Help us understand the context"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs(Ie,{className:"text-[#F6F2EE] flex items-center gap-2",children:[l.jsx(Wn,{className:"w-4 h-4 text-[#FF7A59]"}),"Relationship Strength"]}),l.jsxs("span",{className:"text-[#8A4FFF] font-bold",children:[o.relationship_strength,"/5"]})]}),l.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(b=>l.jsx("button",{type:"button",onClick:()=>a({...o,relationship_strength:b}),className:`flex-1 h-12 border-3 transition-all ${o.relationship_strength>=b?"bg-[#FF7A59] border-[#F6F2EE]":"bg-[#151515] border-[#F6F2EE] hover:border-[#FF7A59]"}`,children:l.jsx("span",{className:"text-2xl",children:o.relationship_strength>=b?"":""})},b))}),l.jsx("p",{className:"text-[#A0A0A0] text-xs mt-2",children:o.relationship_strength===1?"Just met":o.relationship_strength===2?"Friendly chat":o.relationship_strength===3?"Good conversation":o.relationship_strength===4?"Strong interest":"Very interested / Ready to sign"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] mb-2",children:"How did you connect?"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:V5.map(b=>l.jsxs("button",{type:"button",onClick:()=>a({...o,lead_source:b.id}),className:`p-3 border-3 transition-all ${o.lead_source===b.id?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-[#151515] border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:[l.jsx("span",{className:"text-lg mr-2",children:b.icon}),l.jsx("span",{className:"text-xs uppercase tracking-wider font-bold",children:b.label})]},b.id))})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] mb-2",children:"Notes"}),l.jsx(pc,{value:o.notes,onChange:b=>a({...o,notes:b.target.value}),rows:4,className:"bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] resize-none focus:border-[#8A4FFF]",placeholder:"Conversation highlights, follow-up items, next steps..."})]}),l.jsxs("div",{className:"p-4 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-[#F6F2EE] text-sm uppercase tracking-wide",children:"Lead Heat Score"}),l.jsxs("span",{className:"text-[#FF7A59] font-bold text-lg",children:[x,"/100"]})]}),l.jsx("div",{className:"h-2 bg-[#050505] border-2 border-[#F6F2EE] overflow-hidden",children:l.jsx(U.div,{initial:{width:0},animate:{width:`${x}%`},className:"h-full bg-gradient-to-r from-[#8A4FFF] to-[#FF7A59]"})}),l.jsx("p",{className:"text-[#A0A0A0] text-xs mt-2",children:"Based on contact info completeness & relationship strength"})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(Oe,{type:"button",onClick:()=>p(2),variant:"outline",className:"flex-1 h-14 border-3 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515]",children:" Back"}),l.jsx(Oe,{type:"submit",disabled:u,className:"flex-1 h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] border-3 border-[#F6F2EE] text-[#F6F2EE] uppercase tracking-wider font-bold disabled:opacity-50 relative overflow-hidden group",children:u?l.jsx(U.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:l.jsx(Pt,{className:"w-5 h-5"})}):l.jsxs(l.Fragment,{children:[l.jsx(Rb,{className:"w-5 h-5 mr-2"}),"Save Lead (+25 XP)",l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 transform -skew-x-12 group-hover:translate-x-full transition-transform duration-700"})]})})]})]})]})]})}let Eo={checked:!1,exists:!1,checkedAt:0};async function Tf(){const t=Date.now(),e=t-Eo.checkedAt;if(Eo.checked&&e<300*1e3)return Eo.exists;try{const{error:r}=await Te.from("website_partnership_inquiries").select("id").limit(1),s=!r||!r.message.includes("does not exist");return Eo={checked:!0,exists:s,checkedAt:t},s}catch(r){return console.log("Website tables check error (this is OK if not set up yet):",r),Eo={checked:!0,exists:!1,checkedAt:t},!1}}async function Kb(t){try{if(!await Tf())return console.log(" Skipping website sync - website tables not yet set up"),{success:!0,skipped:!0,error:"Website tables not yet configured (this is OK)"};if(t.status!=="signed_pending"&&t.status!=="live")return{success:!1,error:"Lead must be signed_pending or live to sync to website CRM"};const{data:r}=await Te.from("website_partnership_inquiries").eq("street_team_lead_id",t.id).select("id").single();if(r){const{data:u,error:d}=await Te.from("website_partnership_inquiries").update({venue_name:t.venue_name,contact_name:t.contact_name,contact_email:t.contact_email,contact_phone:t.contact_phone,city:t.city,status:t.status==="live"?"active":"pending",updated_at:new Date().toISOString()}).eq("id",r.id).select("id").single();if(d)throw d;return await Te.from("street_venue_leads").update({website_inquiry_id:r.id}).eq("id",t.id),{success:!0,websiteInquiryId:r.id}}const{data:s,error:o}=await Te.from("website_partnership_inquiries").insert({venue_name:t.venue_name,contact_name:t.contact_name,contact_email:t.contact_email,contact_phone:t.contact_phone,city:t.city,source:"street_team",status:t.status==="live"?"active":"pending",street_team_lead_id:t.id,street_team_agent_id:t.user_id,notes:t.notes||""}).select("id").single();if(o)throw o;const{error:a}=await Te.from("street_venue_leads").update({website_inquiry_id:s.id}).eq("id",t.id);if(a)throw a;return{success:!0,websiteInquiryId:s.id}}catch(e){return console.error("Error syncing lead to website CRM:",e),{success:!1,error:e.message}}}async function U5(){try{if(!await Tf())return console.log(" Skipping bulk sync - website tables not yet set up"),{success:!0,syncedCount:0,errors:["Website tables not yet configured (this is OK)"]};const{data:e,error:r}=await Te.from("street_venue_leads").select("*").in("status",["signed_pending","live"]).is("website_inquiry_id",null);if(r)throw r;if(!e||e.length===0)return{success:!0,syncedCount:0,errors:[]};let s=0;const o=[];for(const a of e){const u=await Kb(a);u.success&&!u.skipped?s++:u.success||o.push(`${a.venue_name}: ${u.error}`)}return{success:!0,syncedCount:s,errors:o}}catch(t){return console.error("Error in bulk sync:",t),{success:!1,syncedCount:0,errors:[t.message]}}}async function z5(t){try{const r=await Tf()?"hq_unified_leads":"hq_unified_leads_lite";let s=Te.from(r).select("*");t?.city,t?.status,t?.agentId;const{data:o,error:a}=await s.order("lead_updated_at",{ascending:!1});if(a)throw a;return o||[]}catch(e){return console.error("Error getting unified leads:",e),[]}}async function W5(){try{const{data:t}=await Te.from("street_venue_leads").select("status, estimated_monthly_revenue, actual_monthly_revenue, user_id");if(!t)return{totalLeads:0,liveVenues:0,activeAgents:0,estimatedRevenue:0,actualRevenue:0,conversionRate:0};const e=t.filter(u=>u.status==="live").length,r=new Set(t.map(u=>u.user_id)).size,s=t.filter(u=>u.status==="live").reduce((u,d)=>u+(d.estimated_monthly_revenue||150),0),o=t.filter(u=>u.status==="live").reduce((u,d)=>u+(d.actual_monthly_revenue||d.estimated_monthly_revenue||150),0),a=t.length>0?e/t.length*100:0;return{totalLeads:t.length,liveVenues:e,activeAgents:r,estimatedRevenue:s,actualRevenue:o,conversionRate:a}}catch(t){return console.error("Error getting HQ metrics:",t),{totalLeads:0,liveVenues:0,activeAgents:0,estimatedRevenue:0,actualRevenue:0,conversionRate:0}}}const ky=[{id:"new",label:"New",color:"#A0A0A0"},{id:"contacted",label:"Contacted",color:"#8A4FFF"},{id:"follow_up",label:"Follow Up",color:"#8A4FFF"},{id:"demo_scheduled",label:"Demo Scheduled",color:"#FF7A59"},{id:"verbal_yes",label:"Verbal Yes",color:"#FF7A59"},{id:"signed_pending",label:"Signed Pending",color:"#FFD700"},{id:"live",label:"Live",color:"#00FF00"}];function q5({leadId:t,user:e,onBack:r,onLeadUpdated:s}){const[o,a]=k.useState(null),[u,d]=k.useState(!0),[f,p]=k.useState(!1),[y,g]=k.useState(!1),[x,b]=k.useState({});k.useEffect(()=>{w()},[t]);async function w(){d(!0);try{const{data:A,error:S}=await Te.from("street_venue_leads").select("*").eq("id",t).single();if(S)throw S;a(A),b(A)}catch(A){console.error("Error loading lead:",A),Le.error("Failed to load lead details")}finally{d(!1)}}async function F(A){if(!o)return;const S=o.status;p(!0);try{const{error:T}=await Te.from("street_venue_leads").update({status:A,...A==="live"&&!o.first_membership_date&&{first_membership_date:new Date().toISOString()}}).eq("id",t);if(T)throw T;let D=0,M=null;if(A==="contacted"&&S==="new"?(D=10,M="lead_to_contacted"):A==="follow_up"?(D=15,M="lead_to_follow_up"):A==="demo_scheduled"?(D=25,M="lead_to_demo"):A==="verbal_yes"?(D=50,M="lead_to_verbal_yes"):A==="signed_pending"?(D=100,M="lead_to_signed_pending"):A==="live"&&(D=200,M="lead_to_live"),D>0){const B=await vc({userId:e.id,amount:D,source:"venue_status_change",sourceId:t});B.success&&(Le.success(`Lead updated  +${D} XP earned!`,{description:B.rankUp?` Promoted to ${B.newRank}!`:void 0}),M&&await Cf(e.id,M))}else Le.success("Lead status updated");(A==="signed_pending"||A==="live")&&(await Kb({...o,status:A})).success&&Le.success("Lead synced to website CRM! "),await w(),s?.()}catch(T){console.error("Error updating status:",T),Le.error("Failed to update lead status")}finally{p(!1)}}async function _(){if(o){p(!0);try{const{error:A}=await Te.from("street_venue_leads").update({contact_name:x.contact_name,contact_role:x.contact_role,contact_phone:x.contact_phone,contact_email:x.contact_email,notes:x.notes,relationship_strength:x.relationship_strength}).eq("id",t);if(A)throw A;Le.success("Lead details updated"),g(!1),await w(),s?.()}catch(A){console.error("Error saving edits:",A),Le.error("Failed to save changes")}finally{p(!1)}}}if(u)return l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsx("p",{className:"text-[#F6F2EE]",children:"Loading lead..."})});if(!o)return l.jsxs("div",{className:"min-h-screen bg-[#050505] flex flex-col items-center justify-center px-6",children:[l.jsx("p",{className:"text-[#A0A0A0] mb-6",children:"Lead not found"}),l.jsx(Oe,{onClick:r,variant:"outline",className:"border-2 border-[#F6F2EE]",children:"Go Back"})]});const j=ky.findIndex(A=>A.id===o.status);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:r,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE]",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-[#F6F2EE]",children:o.venue_name}),l.jsx("p",{className:"text-[#A0A0A0] text-sm capitalize",children:o.venue_type})]}),!y&&l.jsx("button",{onClick:()=>g(!0),className:"p-2 border-2 border-[#F6F2EE] hover:bg-[#8A4FFF] transition-colors",children:l.jsx(_T,{className:"w-5 h-5 text-[#F6F2EE]"})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-[#A0A0A0] text-sm uppercase tracking-wide",children:"Heat Score"}),l.jsx("div",{className:"flex-1 h-3 bg-[#050505] border-2 border-[#F6F2EE] overflow-hidden",children:l.jsx("div",{className:"h-full bg-[#FF7A59] transition-all",style:{width:`${o.heat_score}%`}})}),l.jsxs("span",{className:"text-[#F6F2EE] font-bold",children:[o.heat_score,"/100"]})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-4",children:"Status"}),l.jsx("div",{className:"space-y-2",children:ky.map((A,S)=>{const T=A.id===o.status,D=S<j;return l.jsx("button",{onClick:()=>!f&&F(A.id),disabled:f,className:`w-full p-4 border-3 text-left transition-all ${T?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":D?"bg-[#151515] border-[#8A4FFF] text-[#8A4FFF]":"bg-[#0A0A0A] border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"} ${f?"opacity-50 cursor-not-allowed":""}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-bold uppercase tracking-wide",children:A.label}),D&&l.jsx("span",{className:"text-sm",children:""})]})},A.id)})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3",children:"Location"}),l.jsx("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE]",children:l.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[l.jsx(Vr,{className:"w-5 h-5 text-[#8A4FFF] mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-[#F6F2EE]",children:o.address}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:o.city})]})]})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3",children:"Contact Details"}),y?l.jsxs("div",{className:"space-y-4 p-4 bg-[#151515] border-2 border-[#8A4FFF]",children:[l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] text-xs mb-2 block",children:"Contact Name"}),l.jsx(it,{value:x.contact_name||"",onChange:A=>b({...x,contact_name:A.target.value}),className:"bg-[#050505] border-2 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"Owner / Manager name"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] text-xs mb-2 block",children:"Role"}),l.jsx(it,{value:x.contact_role||"",onChange:A=>b({...x,contact_role:A.target.value}),className:"bg-[#050505] border-2 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"Owner, Manager, etc."})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] text-xs mb-2 block",children:"Phone"}),l.jsx(it,{value:x.contact_phone||"",onChange:A=>b({...x,contact_phone:A.target.value}),className:"bg-[#050505] border-2 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"+1-555-0123"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] text-xs mb-2 block",children:"Email"}),l.jsx(it,{value:x.contact_email||"",onChange:A=>b({...x,contact_email:A.target.value}),className:"bg-[#050505] border-2 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"owner@venue.com"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] text-xs mb-2 block",children:"Relationship (0-5)"}),l.jsx(it,{type:"number",min:"0",max:"5",value:x.relationship_strength||0,onChange:A=>b({...x,relationship_strength:parseInt(A.target.value)||0}),className:"bg-[#050505] border-2 border-[#F6F2EE] text-[#F6F2EE]"})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsxs(Oe,{onClick:_,disabled:f,className:"flex-1 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-3 border-[#F6F2EE]",children:[l.jsx(Rb,{className:"w-4 h-4 mr-2"}),"Save Changes"]}),l.jsx(Oe,{onClick:()=>{g(!1),b(o)},variant:"outline",className:"border-2 border-[#F6F2EE] text-[#F6F2EE]",children:l.jsx(Sf,{className:"w-4 h-4"})})]})]}):l.jsxs("div",{className:"space-y-3",children:[o.contact_name&&l.jsxs("div",{className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(jf,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F6F2EE]",children:o.contact_name}),o.contact_role&&l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:o.contact_role})]})]}),o.contact_phone&&l.jsxs("div",{className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(fc,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("a",{href:`tel:${o.contact_phone}`,className:"text-[#F6F2EE] hover:text-[#8A4FFF]",children:o.contact_phone})]}),o.contact_email&&l.jsxs("div",{className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(Fi,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("a",{href:`mailto:${o.contact_email}`,className:"text-[#F6F2EE] hover:text-[#8A4FFF]",children:o.contact_email})]}),!o.contact_name&&!o.contact_phone&&!o.contact_email&&l.jsx("p",{className:"text-[#A0A0A0] text-center py-4",children:"No contact details yet"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3",children:"Relationship Strength"}),l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE]",children:[l.jsxs("div",{className:"text-2xl text-[#F6F2EE]",children:["".repeat(o.relationship_strength),"".repeat(5-o.relationship_strength)]}),l.jsxs("p",{className:"text-[#A0A0A0] text-sm mt-2",children:[o.relationship_strength===0&&"No relationship yet",o.relationship_strength===1&&"Cold contact",o.relationship_strength===2&&"Initial conversation",o.relationship_strength===3&&"Building rapport",o.relationship_strength===4&&"Strong connection",o.relationship_strength===5&&"Close relationship"]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3",children:"Notes"}),y?l.jsx(pc,{value:x.notes||"",onChange:A=>b({...x,notes:A.target.value}),className:"bg-[#151515] border-3 border-[#8A4FFF] text-[#F6F2EE] min-h-32",placeholder:"Add notes about this lead..."}):l.jsx("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE] min-h-24",children:l.jsx("p",{className:"text-[#F6F2EE] whitespace-pre-wrap",children:o.notes||"No notes yet"})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3",children:"Details"}),l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE] space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"Lead Source"}),l.jsx("span",{className:"text-[#F6F2EE] capitalize",children:o.lead_source.replace(/_/g," ")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"Added"}),l.jsx("span",{className:"text-[#F6F2EE]",children:new Date(o.created_at).toLocaleDateString()})]}),o.first_membership_date&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"Went Live"}),l.jsx("span",{className:"text-[#F6F2EE]",children:new Date(o.first_membership_date).toLocaleDateString()})]})]})]})]})]})}function H5({user:t,onBack:e}){const[r,s]=k.useState([]),[o,a]=k.useState("daily"),[u,d]=k.useState(!0),[f,p]=k.useState(null);k.useEffect(()=>{y()},[t.id]);async function y(){const j=new Date().toISOString(),{data:A}=await Te.from("street_missions").select(`
        *,
        street_mission_progress(*)
      `).or(`scope.eq.global,city.eq.${t.city}`).lte("valid_from",j).gte("valid_to",j);s(A||[]),d(!1)}async function g(j){p(j);const A=await I5(t.id,j);A.success?(Le.success("Mission claimed!",{description:`+${A.xpAwarded} XP earned! `}),await y()):Le.error(A.error||"Failed to claim mission"),p(null)}const x=r.filter(j=>j.type===o),b=x.length,w=x.filter(j=>j.street_mission_progress?.[0]?.is_completed).length,F=x.reduce((j,A)=>j+A.xp_reward,0),_=x.reduce((j,A)=>{const S=A.street_mission_progress?.[0];return j+(S?.xp_awarded||0)},0);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]",style:{backgroundSize:"200% 100%"}}),l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("h3",{className:"text-[#F6F2EE] flex-1 flex items-center gap-2",children:[l.jsx(zt,{className:"w-6 h-6 text-[#8A4FFF]"}),"Missions"]}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[#050505] border-2 border-[#8A4FFF]",children:[l.jsx(yr,{className:"w-4 h-4 text-[#FFD700]"}),l.jsxs("span",{className:"text-[#8A4FFF] font-bold text-sm",children:[w,"/",b]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[l.jsxs("div",{className:"p-3 bg-[#050505] border-2 border-[#8A4FFF] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#8A4FFF]",children:_}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase",children:"XP Earned"})]}),l.jsxs("div",{className:"p-3 bg-[#050505] border-2 border-[#FF7A59] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#FF7A59]",children:F-_}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase",children:"Available"})]})]}),l.jsx("div",{className:"flex gap-2",children:["daily","weekly","special"].map(j=>{const A=r.filter(S=>S.type===j).length;return l.jsxs(U.button,{onClick:()=>a(j),whileTap:{scale:.95},className:`flex-1 py-3 border-3 uppercase text-sm tracking-wider transition-all relative ${o===j?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-transparent border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,style:o===j?{boxShadow:"3px 3px 0px rgba(0, 0, 0, 0.8)"}:{},children:[j,A>0&&l.jsxs("span",{className:`ml-2 ${o===j?"text-[#FFD700]":"text-[#8A4FFF]"}`,children:["(",A,")"]}),o===j&&l.jsx(U.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-1 bg-[#FF7A59]"})]},j)})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:u?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(U.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"inline-block p-6 bg-[#151515] border-3 border-[#8A4FFF] mb-4",children:l.jsx(zt,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading missions..."})]}):x.length===0?l.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[l.jsx("div",{className:"inline-block p-8 bg-[#151515] border-4 border-[#F6F2EE] mb-4",children:l.jsx(zt,{className:"w-16 h-16 text-[#A0A0A0]"})}),l.jsxs("p",{className:"text-[#A0A0A0] mb-2",children:["No ",o," missions available"]}),l.jsx("p",{className:"text-[#8A4FFF] text-sm",children:"Check back tomorrow for new challenges!"})]}):l.jsx("div",{className:"space-y-4 pb-6",children:l.jsx(Yo,{mode:"popLayout",children:x.map((j,A)=>{const S=j.street_mission_progress?.[0],T=S?.current_count||0,D=S?.is_completed||!1,M=S?.xp_awarded||!1,B=Math.min(T/j.required_count*100,100),O=D&&!M;return l.jsxs(U.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:A*.05},className:`relative p-5 border-4 overflow-hidden ${M?"bg-[#050505] border-[#A0A0A0] opacity-75":O?"bg-gradient-to-br from-[#8A4FFF] to-[#7A3FEF] border-[#FFD700]":"bg-[#151515] border-[#F6F2EE] hover:border-[#8A4FFF]"} transition-all cursor-pointer`,style:O?{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"}:{},children:[O&&l.jsx(U.div,{animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:3,repeat:1/0,repeatType:"reverse"},className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255, 215, 0, 0.3) 10px, rgba(255, 215, 0, 0.3) 20px)",backgroundSize:"200% 200%"}}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:`p-2 border-2 ${M?"bg-[#050505] border-[#A0A0A0]":O?"bg-[#FFD700] border-[#F6F2EE]":"bg-[#8A4FFF] border-[#F6F2EE]"}`,children:M?l.jsx(In,{className:"w-5 h-5 text-[#00FF00]"}):O?l.jsx(dT,{className:"w-5 h-5 text-[#050505]"}):l.jsx(zt,{className:"w-5 h-5 text-[#F6F2EE]"})}),j.type==="daily"&&l.jsx("div",{className:"px-2 py-1 bg-[#FF7A59] border-2 border-[#F6F2EE]",children:l.jsx(Jo,{className:"w-3 h-3 text-[#F6F2EE]"})}),j.type==="special"&&l.jsx("div",{className:"px-2 py-1 bg-[#FFD700] border-2 border-[#F6F2EE]",children:l.jsx(Bl,{className:"w-3 h-3 text-[#050505]"})})]}),l.jsx("h4",{className:"font-bold mb-1 text-[#F6F2EE]",children:j.title}),l.jsx("p",{className:`text-sm ${M?"text-[#A0A0A0]":O?"text-[#F6F2EE] opacity-90":"text-[#A0A0A0]"}`,children:j.description})]}),l.jsx("div",{className:"text-right ml-4",children:M?l.jsxs("div",{className:"flex items-center gap-1 text-[#00FF00]",children:[l.jsx(In,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-bold",children:"Claimed"})]}):O?l.jsx(U.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:l.jsx("div",{className:"px-3 py-2 bg-[#FFD700] border-2 border-[#F6F2EE]",children:l.jsxs("span",{className:"text-[#050505] font-bold text-lg",children:["+",j.xp_reward," XP"]})})}):l.jsxs("span",{className:"text-[#8A4FFF] font-bold text-sm",children:["+",j.xp_reward," XP"]})})]}),!M&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:`text-xs ${O?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:"Progress"}),l.jsxs("span",{className:`text-sm font-bold ${O?"text-[#FFD700]":"text-[#F6F2EE]"}`,children:[T," / ",j.required_count]})]}),l.jsxs("div",{className:"h-3 border-2 overflow-hidden relative bg-[#050505] border-[#F6F2EE]",children:[l.jsx(U.div,{initial:{width:0},animate:{width:`${B}%`},transition:{duration:.5,delay:A*.05},className:`h-full ${O?"bg-[#FFD700]":"bg-gradient-to-r from-[#8A4FFF] to-[#FF7A59]"}`}),B>=100&&l.jsx(U.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"absolute right-1 top-1/2 -translate-y-1/2",children:l.jsx(Pt,{className:"w-4 h-4 text-[#FFD700]"})})]})]}),O&&l.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4",children:l.jsx(Oe,{onClick:()=>g(j.id),disabled:f===j.id,className:"w-full h-12 bg-[#FFD700] hover:bg-[#FFA500] border-3 border-[#F6F2EE] text-[#050505] uppercase tracking-wider font-bold transition-all relative overflow-hidden group",children:f===j.id?l.jsx(U.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:l.jsx(Pt,{className:"w-5 h-5"})}):l.jsxs(l.Fragment,{children:[l.jsx(yr,{className:"w-5 h-5 mr-2"}),"Claim Reward",l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-40 transform -skew-x-12 group-hover:translate-x-full transition-transform duration-700"})]})})}),M&&l.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2 p-2 bg-[#00FF00]/10 border-2 border-[#00FF00]",children:[l.jsx(In,{className:"w-4 h-4 text-[#00FF00]"}),l.jsx("span",{className:"text-[#00FF00] text-sm font-bold uppercase",children:"Completed & Claimed"})]})]}),O&&l.jsxs(l.Fragment,{children:[l.jsx(U.div,{animate:{y:[-5,-15,-5],opacity:[1,0,1]},transition:{duration:2,repeat:1/0,delay:0},className:"absolute top-2 right-2",children:l.jsx(Bl,{className:"w-4 h-4 text-[#FFD700]",fill:"#FFD700"})}),l.jsx(U.div,{animate:{y:[-5,-15,-5],opacity:[1,0,1]},transition:{duration:2,repeat:1/0,delay:.5},className:"absolute top-4 right-8",children:l.jsx(Bl,{className:"w-3 h-3 text-[#FFD700]",fill:"#FFD700"})})]})]},j.id)})})})})]})}function K5({user:t,onBack:e}){const[r,s]=k.useState([]),[o,a]=k.useState("all_time"),[u,d]=k.useState(!0),[f,p]=k.useState(null);k.useEffect(()=>{y();const w=ot().channel("public:street_users").on("postgres_changes",{event:"*",schema:"public",table:"street_users"},F=>{y()}).subscribe();return()=>{w.unsubscribe()}},[o]);async function y(){const b=ot();d(!0);try{const{data:w,error:F}=await b.from("street_users").select("*").eq("status","active").order("total_xp",{ascending:!1}).limit(100);if(F)throw F;const _=await Promise.all((w||[]).map(async(A,S)=>{const{data:T}=await b.from("street_venue_leads").select("id").eq("created_by_user_id",A.id).eq("status","live"),D=await yc(A.id);return{id:A.id,full_name:A.full_name,city:A.city,total_xp:A.total_xp,current_rank:A.current_rank,avatar_url:A.avatar_url,venues_live:T?.length||0,streak:D.currentStreak,position:S+1}}));s(_);const j=_.findIndex(A=>A.id===t.id);p(j!==-1?j+1:null)}catch(w){console.error("Error loading leaderboard:",w)}finally{d(!1)}}const g=r.slice(0,3),x=r.slice(3);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#FFD700] via-[#8A4FFF] to-[#FF7A59]",style:{backgroundSize:"200% 100%"}}),l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("div",{className:"flex-1",children:l.jsxs("h3",{className:"text-[#F6F2EE] flex items-center gap-2",children:[l.jsx(yr,{className:"w-6 h-6 text-[#FFD700]"}),"Leaderboard"]})}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[#050505] border-2 border-[#8A4FFF]",children:[l.jsx(Br,{className:"w-4 h-4 text-[#8A4FFF]"}),l.jsxs("span",{className:"text-[#8A4FFF] font-bold text-sm",children:["#",f||"--"]})]})]}),l.jsx("div",{className:"flex gap-2",children:[{id:"all_time",label:"All Time"},{id:"this_month",label:"This Month"},{id:"this_week",label:"This Week"}].map(b=>l.jsx(U.button,{onClick:()=>a(b.id),whileTap:{scale:.95},className:`flex-1 py-2 border-3 uppercase text-xs tracking-wider transition-all ${o===b.id?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-transparent border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:b.label},b.id))})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:u?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(U.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"inline-block p-6 bg-[#151515] border-3 border-[#FFD700] mb-4",children:l.jsx(yr,{className:"w-12 h-12 text-[#FFD700]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading rankings..."})]}):l.jsxs(l.Fragment,{children:[g.length>0&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"mb-8",children:[l.jsxs("h4",{className:"text-[#F6F2EE] mb-4 text-center uppercase tracking-wider flex items-center justify-center gap-2",children:[l.jsx(Vn,{className:"w-5 h-5 text-[#FFD700]"}),"Top Performers"]}),l.jsxs("div",{className:"flex items-end justify-center gap-2 mb-6",children:[g[1]&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"flex-1 flex flex-col items-center",children:[l.jsx(Dd,{user:g[1],position:2}),l.jsx("div",{className:"w-full h-24 bg-gradient-to-b from-[#C0C0C0] to-[#A0A0A0] border-4 border-[#F6F2EE] flex items-center justify-center",children:l.jsx("span",{className:"text-4xl font-bold text-[#F6F2EE]",children:"2"})})]}),g[0]&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"flex-1 flex flex-col items-center",children:[l.jsx(Dd,{user:g[0],position:1}),l.jsxs("div",{className:"w-full h-32 bg-gradient-to-b from-[#FFD700] to-[#FFA500] border-4 border-[#F6F2EE] flex items-center justify-center relative overflow-hidden",children:[l.jsx(U.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-20"}),l.jsx(Vn,{className:"absolute top-2 w-8 h-8 text-[#F6F2EE]"}),l.jsx("span",{className:"text-5xl font-bold text-[#F6F2EE] relative z-10",children:"1"})]})]}),g[2]&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"flex-1 flex flex-col items-center",children:[l.jsx(Dd,{user:g[2],position:3}),l.jsx("div",{className:"w-full h-16 bg-gradient-to-b from-[#CD7F32] to-[#8B4513] border-4 border-[#F6F2EE] flex items-center justify-center",children:l.jsx("span",{className:"text-3xl font-bold text-[#F6F2EE]",children:"3"})})]})]})]}),x.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-[#F6F2EE] mb-3 uppercase tracking-wider text-sm",children:"Rankings"}),x.map((b,w)=>{const F=b.id===t.id,_=w+4;return l.jsx(U.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:w*.03},className:`p-4 border-3 transition-all ${F?"bg-[#8A4FFF] border-[#FF7A59]":"bg-[#151515] border-[#F6F2EE] hover:border-[#8A4FFF]"}`,style:F?{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"}:{},children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-10 h-10 border-2 flex items-center justify-center ${F?"border-[#F6F2EE] bg-[#FF7A59]":"border-[#F6F2EE] bg-[#050505]"}`,children:l.jsx("span",{className:`font-bold ${F?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:_})}),l.jsx("div",{className:`w-12 h-12 border-3 flex items-center justify-center ${F?"bg-[#FF7A59] border-[#F6F2EE]":"bg-[#8A4FFF] border-[#F6F2EE]"}`,children:l.jsx("span",{className:"text-[#F6F2EE] font-bold text-lg",children:b.full_name.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-center gap-2 mb-1",children:l.jsxs("p",{className:"font-bold truncate text-[#F6F2EE]",children:[b.full_name,F&&l.jsx("span",{className:"ml-2 text-[#FFD700]",children:""})]})}),l.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[l.jsxs("span",{className:`flex items-center gap-1 ${F?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:[l.jsx(_s,{className:"w-3 h-3"}),b.current_rank]}),b.streak>0&&l.jsxs("span",{className:`flex items-center gap-1 ${F?"text-[#FFD700]":"text-[#FF7A59]"}`,children:[l.jsx(Wn,{className:"w-3 h-3"}),b.streak,"d"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:`font-bold ${F?"text-[#FFD700]":"text-[#8A4FFF]"}`,children:(b.total_xp||0).toLocaleString()}),l.jsx("p",{className:`text-xs ${F?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:"XP"})]})]})},b.id)})]}),r.length===0&&!u&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block p-8 bg-[#151515] border-4 border-[#F6F2EE] mb-4",children:l.jsx(yr,{className:"w-16 h-16 text-[#A0A0A0]"})}),l.jsx("p",{className:"text-[#A0A0A0]",children:"No rankings yet"})]})]})})]})}function Dd({user:t,position:e}){const s={1:{bg:"#FFD700",border:"#FFA500",icon:Vn},2:{bg:"#C0C0C0",border:"#A0A0A0",icon:rc},3:{bg:"#CD7F32",border:"#8B4513",icon:rc}}[e],o=s.icon;return l.jsxs(U.div,{whileHover:{scale:1.05,y:-5},className:"w-full mb-3 p-3 bg-[#151515] border-4 border-[#F6F2EE] relative",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 border-3 border-[#F6F2EE] flex items-center justify-center",style:{backgroundColor:s.bg},children:l.jsx(o,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("div",{className:"flex flex-col items-center mb-2",children:[l.jsx("div",{className:"w-14 h-14 border-3 border-[#F6F2EE] flex items-center justify-center mb-2",style:{backgroundColor:s.bg},children:l.jsx("span",{className:"text-[#F6F2EE] font-bold text-xl",children:t.full_name.charAt(0).toUpperCase()})}),l.jsx("p",{className:"text-[#F6F2EE] font-bold text-sm text-center truncate w-full",children:t.full_name})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"XP"}),l.jsx("span",{className:"text-[#8A4FFF] font-bold",children:(t?.total_xp||0).toLocaleString()})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"Live"}),l.jsx("span",{className:"text-[#00FF00] font-bold",children:t.venues_live})]}),t.streak>0&&l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("span",{className:"text-[#A0A0A0] flex items-center gap-1",children:[l.jsx(Wn,{className:"w-3 h-3"}),"Streak"]}),l.jsxs("span",{className:"text-[#FF7A59] font-bold",children:[t.streak,"d"]})]})]})]})}function G5({user:t,onBack:e}){const[r,s]=k.useState([]),[o,a]=k.useState("all_time"),[u,d]=k.useState(!0),[f,p]=k.useState(null);k.useEffect(()=>{y();const w=ot().channel("public:street_users").on("postgres_changes",{event:"*",schema:"public",table:"street_users"},F=>{y()}).subscribe();return()=>{w.unsubscribe()}},[o]);async function y(){const b=ot();d(!0);try{const{data:w,error:F}=await b.from("street_users").select("*").eq("status","active").order("total_xp",{ascending:!1}).limit(100);if(F)throw F;const _=await Promise.all((w||[]).map(async(A,S)=>{const{data:T}=await b.from("street_venue_leads").select("id").eq("created_by_user_id",A.id).eq("status","live"),D=await yc(A.id);return{id:A.id,full_name:A.full_name,city:A.city,total_xp:A.total_xp,current_rank:A.current_rank,avatar_url:A.avatar_url,venues_live:T?.length||0,streak:D.currentStreak,position:S+1}}));s(_);const j=_.findIndex(A=>A.id===t.id);p(j!==-1?j+1:null)}catch(w){console.error("Error loading leaderboard:",w)}finally{d(!1)}}const g=r.slice(0,3),x=r.slice(3);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#FFD700] via-[#8A4FFF] to-[#FF7A59]",style:{backgroundSize:"200% 100%"}}),l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("div",{className:"flex-1",children:l.jsxs("h3",{className:"text-[#F6F2EE] flex items-center gap-2",children:[l.jsx(yr,{className:"w-6 h-6 text-[#FFD700]"}),"Leaderboard"]})}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[#050505] border-2 border-[#8A4FFF]",children:[l.jsx(Br,{className:"w-4 h-4 text-[#8A4FFF]"}),l.jsxs("span",{className:"text-[#8A4FFF] font-bold text-sm",children:["#",f||"--"]})]})]}),l.jsx("div",{className:"flex gap-2",children:[{id:"all_time",label:"All Time"},{id:"this_month",label:"This Month"},{id:"this_week",label:"This Week"}].map(b=>l.jsx(U.button,{onClick:()=>a(b.id),whileTap:{scale:.95},className:`flex-1 py-2 border-3 uppercase text-xs tracking-wider transition-all ${o===b.id?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-transparent border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:b.label},b.id))})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:u?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(U.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"inline-block p-6 bg-[#151515] border-3 border-[#FFD700] mb-4",children:l.jsx(yr,{className:"w-12 h-12 text-[#FFD700]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading rankings..."})]}):l.jsxs(l.Fragment,{children:[g.length>0&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"mb-8",children:[l.jsxs("h4",{className:"text-[#F6F2EE] mb-4 text-center uppercase tracking-wider flex items-center justify-center gap-2",children:[l.jsx(Vn,{className:"w-5 h-5 text-[#FFD700]"}),"Top Performers"]}),l.jsxs("div",{className:"flex items-end justify-center gap-2 mb-6",children:[g[1]&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"flex-1 flex flex-col items-center",children:[l.jsx(Id,{user:g[1],position:2}),l.jsx("div",{className:"w-full h-24 bg-gradient-to-b from-[#C0C0C0] to-[#A0A0A0] border-4 border-[#F6F2EE] flex items-center justify-center",children:l.jsx("span",{className:"text-4xl font-bold text-[#F6F2EE]",children:"2"})})]}),g[0]&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"flex-1 flex flex-col items-center",children:[l.jsx(Id,{user:g[0],position:1}),l.jsxs("div",{className:"w-full h-32 bg-gradient-to-b from-[#FFD700] to-[#FFA500] border-4 border-[#F6F2EE] flex items-center justify-center relative overflow-hidden",children:[l.jsx(U.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-20"}),l.jsx(Vn,{className:"absolute top-2 w-8 h-8 text-[#F6F2EE]"}),l.jsx("span",{className:"text-5xl font-bold text-[#F6F2EE] relative z-10",children:"1"})]})]}),g[2]&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"flex-1 flex flex-col items-center",children:[l.jsx(Id,{user:g[2],position:3}),l.jsx("div",{className:"w-full h-16 bg-gradient-to-b from-[#CD7F32] to-[#8B4513] border-4 border-[#F6F2EE] flex items-center justify-center",children:l.jsx("span",{className:"text-3xl font-bold text-[#F6F2EE]",children:"3"})})]})]})]}),x.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-[#F6F2EE] mb-3 uppercase tracking-wider text-sm",children:"Rankings"}),x.map((b,w)=>{const F=b.id===t.id,_=w+4;return l.jsx(U.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:w*.03},className:`p-4 border-3 transition-all ${F?"bg-[#8A4FFF] border-[#FF7A59]":"bg-[#151515] border-[#F6F2EE] hover:border-[#8A4FFF]"}`,style:F?{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"}:{},children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-10 h-10 border-2 flex items-center justify-center ${F?"border-[#F6F2EE] bg-[#FF7A59]":"border-[#F6F2EE] bg-[#050505]"}`,children:l.jsx("span",{className:`font-bold ${F?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:_})}),l.jsx("div",{className:`w-12 h-12 border-3 flex items-center justify-center ${F?"bg-[#FF7A59] border-[#F6F2EE]":"bg-[#8A4FFF] border-[#F6F2EE]"}`,children:l.jsx("span",{className:"text-[#F6F2EE] font-bold text-lg",children:b.full_name.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-center gap-2 mb-1",children:l.jsxs("p",{className:"font-bold truncate text-[#F6F2EE]",children:[b.full_name,F&&l.jsx("span",{className:"ml-2 text-[#FFD700]",children:""})]})}),l.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[l.jsxs("span",{className:`flex items-center gap-1 ${F?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:[l.jsx(_s,{className:"w-3 h-3"}),b.current_rank]}),b.streak>0&&l.jsxs("span",{className:`flex items-center gap-1 ${F?"text-[#FFD700]":"text-[#FF7A59]"}`,children:[l.jsx(Wn,{className:"w-3 h-3"}),b.streak,"d"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:`font-bold ${F?"text-[#FFD700]":"text-[#8A4FFF]"}`,children:(b?.total_xp||0).toLocaleString()}),l.jsx("p",{className:`text-xs ${F?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:"XP"})]})]})},b.id)})]}),r.length===0&&!u&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block p-8 bg-[#151515] border-4 border-[#F6F2EE] mb-4",children:l.jsx(yr,{className:"w-16 h-16 text-[#A0A0A0]"})}),l.jsx("p",{className:"text-[#A0A0A0]",children:"No rankings yet"})]})]})})]})}function Id({user:t,position:e}){const s={1:{bg:"#FFD700",border:"#FFA500",icon:Vn},2:{bg:"#C0C0C0",border:"#A0A0A0",icon:rc},3:{bg:"#CD7F32",border:"#8B4513",icon:rc}}[e],o=s.icon;return l.jsxs(U.div,{whileHover:{scale:1.05,y:-5},className:"w-full mb-3 p-3 bg-[#151515] border-4 border-[#F6F2EE] relative",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 border-3 border-[#F6F2EE] flex items-center justify-center",style:{backgroundColor:s.bg},children:l.jsx(o,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("div",{className:"flex flex-col items-center mb-2",children:[l.jsx("div",{className:"w-14 h-14 border-3 border-[#F6F2EE] flex items-center justify-center mb-2",style:{backgroundColor:s.bg},children:l.jsx("span",{className:"text-[#F6F2EE] font-bold text-xl",children:t.full_name.charAt(0).toUpperCase()})}),l.jsx("p",{className:"text-[#F6F2EE] font-bold text-sm text-center truncate w-full",children:t.full_name})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"XP"}),l.jsx("span",{className:"text-[#8A4FFF] font-bold",children:t.total_xp.toLocaleString()})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"Live"}),l.jsx("span",{className:"text-[#00FF00] font-bold",children:t.venues_live})]}),t.streak>0&&l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("span",{className:"text-[#A0A0A0] flex items-center gap-1",children:[l.jsx(Wn,{className:"w-3 h-3"}),"Streak"]}),l.jsxs("span",{className:"text-[#FF7A59] font-bold",children:[t.streak,"d"]})]})]})]})}function Y5({user:t,onBack:e,onSettings:r,onLogout:s}){const[o,a]=k.useState({streak:0,longestStreak:0,liveVenues:0,totalLeads:0,conversionRate:0,estimatedMonthlyEarnings:0,totalMissionsCompleted:0,position:0}),[u,d]=k.useState(!0),[f,p]=k.useState(!1),y=`PATRON-${t.id.slice(0,8).toUpperCase()}`;k.useEffect(()=>{g()},[t.id]);async function g(){const w=ot();try{const[F,_,j,A,S]=await Promise.all([yc(t.id),w.from("street_venue_leads").select("id").eq("created_by_user_id",t.id).eq("status","live"),w.from("street_venue_leads").select("id").eq("created_by_user_id",t.id),w.from("street_mission_progress").select("id").eq("user_id",t.id).eq("is_completed",!0),w.from("street_users").select("total_xp").eq("status","active").order("total_xp",{ascending:!1})]),T=_.data?.length||0,D=j.data?.length||0,M=D>0?T/D*100:0,B=zo(t.current_rank),X=T*150*B,he=(S.data?.findIndex(_e=>_e.total_xp<=t.total_xp)||-1)+1;a({streak:F.currentStreak,longestStreak:F.longestStreak,liveVenues:T,totalLeads:D,conversionRate:M,estimatedMonthlyEarnings:X,totalMissionsCompleted:A.data?.length||0,position:he})}catch(F){console.error("Error loading profile stats:",F)}finally{d(!1)}}function x(){navigator.clipboard.writeText(y),p(!0),Le.success("Referral code copied!"),setTimeout(()=>p(!1),2e3)}function b(){const w=`Join me on Patron Pass Street Team! Use my code: ${y}`;navigator.share?navigator.share({title:"Patron Pass Street Team",text:w}):(navigator.clipboard.writeText(w),Le.success("Share text copied!"))}return u?l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block border-4 border-[#8A4FFF] p-6 mb-4 bg-[#151515] animate-pulse",children:l.jsx(_s,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading Profile..."})]})}):l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]"}),l.jsx("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("h3",{className:"text-[#F6F2EE] flex-1",children:"Profile"}),l.jsx("button",{onClick:r,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Ob,{className:"w-5 h-5 text-[#F6F2EE]"})})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:[l.jsx(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"relative",children:l.jsxs("div",{className:"p-6 bg-gradient-to-br from-[#8A4FFF] to-[#7A3FEF] border-4 border-[#F6F2EE] relative overflow-hidden",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-[#FF7A59] opacity-20 rotate-45"}),l.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-[#FFD700] opacity-20 rounded-full"}),l.jsxs("div",{className:"relative z-10 text-center",children:[l.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-block mb-4",children:l.jsxs("div",{className:"w-24 h-24 bg-[#FF7A59] border-4 border-[#F6F2EE] flex items-center justify-center relative",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx("span",{className:"text-5xl font-bold text-[#F6F2EE]",children:t.full_name.charAt(0).toUpperCase()}),l.jsx("div",{className:"absolute -bottom-2 -right-2 px-2 py-1 bg-[#FFD700] border-2 border-[#F6F2EE]",children:l.jsx(_s,{className:"w-4 h-4 text-[#050505]"})})]})}),l.jsx("h2",{className:"text-[#F6F2EE] mb-2",children:t.full_name}),l.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-[#151515] border-3 border-[#FFD700]",children:[l.jsx(_s,{className:"w-5 h-5 text-[#FFD700]"}),l.jsx("span",{className:"text-[#FFD700] uppercase tracking-wider font-bold",children:t.current_rank})]}),o.position>0&&l.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-3",children:l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-[#050505]/50 border-2 border-[#F6F2EE]",children:[l.jsx(Br,{className:"w-4 h-4 text-[#F6F2EE]"}),l.jsxs("span",{className:"text-[#F6F2EE] text-sm",children:["Ranked #",o.position]})]})})]})]})}),l.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5},className:"col-span-2 p-4 bg-[#151515] border-3 border-[#8A4FFF] text-center",children:[l.jsx(yr,{className:"w-6 h-6 text-[#8A4FFF] mx-auto mb-2"}),l.jsx("p",{className:"text-2xl font-bold text-[#8A4FFF] mb-1",children:t.total_xp.toLocaleString()}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase tracking-wide",children:"Total XP"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.55},className:"col-span-2 p-4 bg-[#151515] border-3 border-[#00FF00] text-center",children:[l.jsx(zt,{className:"w-6 h-6 text-[#00FF00] mx-auto mb-2"}),l.jsx("p",{className:"text-2xl font-bold text-[#00FF00] mb-1",children:o.liveVenues}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase tracking-wide",children:"Live Venues"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.6},className:"col-span-2 p-4 bg-[#151515] border-3 border-[#FF7A59] text-center",children:[l.jsx(Wn,{className:"w-6 h-6 text-[#FF7A59] mx-auto mb-2"}),l.jsx("p",{className:"text-2xl font-bold text-[#FF7A59] mb-1",children:o.streak}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase tracking-wide",children:"Day Streak"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.65},className:"col-span-3 p-4 bg-[#151515] border-2 border-[#F6F2EE] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#8A4FFF] mb-1",children:o.totalMissionsCompleted}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase tracking-wide",children:"Missions Done"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.7},className:"col-span-3 p-4 bg-[#151515] border-2 border-[#F6F2EE] text-center",children:[l.jsxs("p",{className:"text-xl font-bold text-[#FF7A59] mb-1",children:[o.conversionRate.toFixed(0),"%"]}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase tracking-wide",children:"Conversion"})]})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.75},className:"p-5 bg-gradient-to-br from-[#FF7A59] to-[#EE6A49] border-4 border-[#F6F2EE]",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx($r,{className:"w-6 h-6 text-[#F6F2EE]"}),l.jsx("span",{className:"text-[#F6F2EE] uppercase tracking-wide font-bold",children:"Monthly Rev"})]}),l.jsx(Pt,{className:"w-5 h-5 text-[#FFD700]"})]}),l.jsxs("h1",{className:"text-[#F6F2EE] mb-2",children:["$",Math.floor(o.estimatedMonthlyEarnings)]}),l.jsxs("p",{className:"text-[#F6F2EE] text-sm opacity-90",children:[zo(t.current_rank)*100,"% commission rate  ",t.current_rank," rank"]})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"p-5 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsxs("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3 flex items-center gap-2",children:[l.jsx(RT,{className:"w-4 h-4 text-[#8A4FFF]"}),"Referral Code"]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"flex-1 p-3 bg-[#050505] border-2 border-[#8A4FFF] font-mono text-[#8A4FFF] text-center font-bold",children:y}),l.jsx("button",{onClick:x,className:"p-3 border-2 border-[#F6F2EE] hover:bg-[#8A4FFF] transition-all active:scale-95",children:f?l.jsx(In,{className:"w-5 h-5 text-[#00FF00]"}):l.jsx(nT,{className:"w-5 h-5 text-[#F6F2EE]"})})]}),l.jsx(Oe,{onClick:b,variant:"outline",className:"w-full border-2 border-[#8A4FFF] text-[#8A4FFF] hover:bg-[#8A4FFF] hover:text-[#F6F2EE] uppercase text-xs tracking-wider",children:"Share Referral"})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.85},className:"space-y-3",children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm",children:"Contact"}),l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(Vr,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE]",children:t.city})]}),l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(Fi,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE] text-sm break-all",children:t.email})]}),t.phone&&l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(fc,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE]",children:t.phone})]}),t.instagram_handle&&l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(mT,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE]",children:t.instagram_handle})]})]}),l.jsx(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},children:l.jsxs(Oe,{onClick:s,variant:"outline",className:"w-full h-14 border-3 border-[#FF4444] text-[#FF4444] hover:bg-[#FF4444] hover:text-[#F6F2EE] uppercase tracking-wider font-bold transition-all",children:[l.jsx(xT,{className:"w-5 h-5 mr-2"}),"Sign Out"]})})]})]})}const X5={xp_awarded:yr,rank_up:Br,mission_complete:zt,lead_status_change:Pt,earnings_update:$r,system:ws},J5={xp_awarded:"#8A4FFF",rank_up:"#FFD700",mission_complete:"#00FF00",lead_status_change:"#FF7A59",earnings_update:"#FFD700",system:"#A0A0A0"};function Q5({user:t,onBack:e,onNavigate:r}){const[s,o]=k.useState([]),[a,u]=k.useState(!0),[d,f]=k.useState("all");k.useEffect(()=>{y()},[t.id]);async function p(_){_.is_read||await g(_.id),_.deep_link&&r(_.deep_link)}async function y(){let _=Te.from("street_notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);d==="unread"&&(_=_.eq("is_read",!1));const{data:j}=await _;o(j||[]),u(!1)}async function g(_){await Te.from("street_notifications").update({is_read:!0}).eq("id",_),o(j=>j.map(A=>A.id===_?{...A,is_read:!0}:A))}async function x(){await Te.from("street_notifications").update({is_read:!0}).eq("user_id",t.id).eq("is_read",!1),o(_=>_.map(j=>({...j,is_read:!0}))),Le.success("All notifications marked as read")}async function b(_){await Te.from("street_notifications").delete().eq("id",_),o(j=>j.filter(A=>A.id!==_)),Le.success("Notification deleted")}const w=s.filter(_=>!_.is_read).length,F=d==="unread"?s.filter(_=>!_.is_read):s;return a?l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block border-4 border-[#8A4FFF] p-6 mb-4 bg-[#151515] animate-pulse",children:l.jsx(ws,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading..."})]})}):l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]",style:{backgroundSize:"200% 100%"}}),l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("h3",{className:"text-[#F6F2EE] flex-1 flex items-center gap-2",children:[l.jsx(ws,{className:"w-6 h-6 text-[#8A4FFF]"}),"Notifications"]}),w>0&&l.jsx("div",{className:"flex items-center gap-2 px-3 py-2 bg-[#FF7A59] border-2 border-[#F6F2EE]",children:l.jsxs("span",{className:"text-[#F6F2EE] font-bold text-sm",children:[w," new"]})})]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsxs("button",{onClick:()=>f("all"),className:`flex-1 py-2 border-3 uppercase text-xs tracking-wider transition-all ${d==="all"?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-transparent border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:["All (",s.length,")"]}),l.jsxs("button",{onClick:()=>f("unread"),className:`flex-1 py-2 border-3 uppercase text-xs tracking-wider transition-all ${d==="unread"?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-transparent border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:["Unread (",w,")"]})]}),w>0&&l.jsxs(Oe,{onClick:x,variant:"outline",className:"w-full border-2 border-[#8A4FFF] text-[#8A4FFF] hover:bg-[#8A4FFF] hover:text-[#F6F2EE] uppercase text-xs tracking-wider",children:[l.jsx(In,{className:"w-4 h-4 mr-2"}),"Mark All as Read"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 pb-24",children:F.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block p-8 bg-[#151515] border-4 border-[#F6F2EE] mb-4",children:l.jsx(ws,{className:"w-16 h-16 text-[#A0A0A0]"})}),l.jsx("p",{className:"text-[#A0A0A0] mb-2",children:d==="unread"?"No unread notifications":"No notifications yet"}),l.jsx("p",{className:"text-[#8A4FFF] text-sm",children:d==="unread"?"You're all caught up!":"Activity updates will appear here"})]}):l.jsx("div",{className:"space-y-3",children:l.jsx(Yo,{mode:"popLayout",children:F.map((_,j)=>{const A=X5[_.type]||ws,S=J5[_.type]||"#A0A0A0",T=!_.is_read,D=Z5(_.created_at);return l.jsx(U.div,{layout:!0,initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:20,opacity:0},transition:{delay:j*.03},onClick:()=>p(_),className:`relative p-4 border-3 cursor-pointer transition-all ${T?"bg-[#151515] border-[#8A4FFF]":"bg-[#0A0A0A] border-[#F6F2EE] opacity-75"}`,style:T?{boxShadow:"3px 3px 0px rgba(0, 0, 0, 0.8)"}:{},children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 border-3 border-[#F6F2EE] flex items-center justify-center flex-shrink-0",style:{backgroundColor:T?S:"#050505"},children:l.jsx(A,{className:`w-6 h-6 ${T?"text-[#F6F2EE]":"text-[#A0A0A0]"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:`font-bold mb-1 ${T?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:_.title}),l.jsx("p",{className:`text-sm mb-2 ${T?"text-[#A0A0A0]":"text-[#666]"}`,children:_.message}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-xs ${T?"text-[#8A4FFF]":"text-[#666]"}`,children:D}),T&&l.jsx("div",{className:"w-2 h-2 bg-[#8A4FFF] rounded-full"})]})]}),l.jsx("button",{onClick:M=>{M.stopPropagation(),b(_.id)},className:"p-2 hover:bg-[#FF4444] border-2 border-[#F6F2EE] transition-colors active:scale-95",children:l.jsx(Sf,{className:"w-4 h-4 text-[#F6F2EE]"})})]})},_.id)})})})})]})}function Z5(t){const e=new Date,r=new Date(t),s=Math.floor((e.getTime()-r.getTime())/1e3);return s<60?"Just now":s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:s<604800?`${Math.floor(s/86400)}d ago`:`${Math.floor(s/604800)}w ago`}function eP({user:t,onBack:e}){const[r,s]=k.useState([]),[o,a]=k.useState(!0);k.useEffect(()=>{u()},[t.id]);async function u(){const{data:w}=await Te.from("street_venue_leads").select("*").eq("created_by_user_id",t.id).in("status",["signed_pending","live"]).order("created_at",{ascending:!1});s(w||[]),a(!1)}const d=zo(t.current_rank),f=r.filter(w=>w.status==="live"),p=r.filter(w=>w.status==="signed_pending"),y=150,g=f.length*y*d,x=(f.length+p.length)*y*d;p.length*y*d;const b=g*12;return o?l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block border-4 border-[#8A4FFF] p-6 mb-4 bg-[#151515] animate-pulse",children:l.jsx($r,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading Earnings..."})]})}):l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#FFD700] via-[#8A4FFF] to-[#FF7A59]",style:{backgroundSize:"200% 100%"}}),l.jsx("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("h3",{className:"text-[#F6F2EE] flex-1 flex items-center gap-2",children:[l.jsx($r,{className:"w-6 h-6 text-[#FFD700]"}),"Earnings & Rev-Share"]}),l.jsx("div",{className:"flex items-center gap-2 px-3 py-2 bg-[#050505] border-2 border-[#FFD700]",children:l.jsxs("span",{className:"text-[#FFD700] font-bold text-sm",children:[d*100,"%"]})})]})}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"px-6 py-6 bg-gradient-to-br from-[#8A4FFF] to-[#7A3FEF] border-b-4 border-[#F6F2EE] relative overflow-hidden",children:[l.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-[#FFD700] opacity-20 rotate-45"}),l.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-[#FF7A59] opacity-20 rounded-full"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("p",{className:"text-[#F6F2EE] text-xs uppercase tracking-widest mb-3 opacity-90",children:"Monthly Recurring Revenue"}),l.jsxs(U.h1,{initial:{scale:.9},animate:{scale:1},className:"text-[#F6F2EE] mb-4",children:["$",Math.floor(g),l.jsx("span",{className:"text-2xl opacity-75",children:"/mo"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"p-3 bg-[#050505]/50 border-2 border-[#F6F2EE]",children:[l.jsx("p",{className:"text-[#F6F2EE] text-xs uppercase tracking-wide mb-1 opacity-75",children:"Annual"}),l.jsxs("p",{className:"text-[#FFD700] font-bold text-lg",children:["$",Math.floor(b)]})]}),l.jsxs("div",{className:"p-3 bg-[#050505]/50 border-2 border-[#F6F2EE]",children:[l.jsx("p",{className:"text-[#F6F2EE] text-xs uppercase tracking-wide mb-1 opacity-75",children:"Potential"}),l.jsxs("p",{className:"text-[#FF7A59] font-bold text-lg",children:["$",Math.floor(x)]})]})]})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:[l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"p-5 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 flex items-center gap-2",children:[l.jsx(_s,{className:"w-5 h-5 text-[#8A4FFF]"}),"Your Commission Rate"]}),l.jsxs("p",{className:"text-[#A0A0A0] text-xs",children:["Based on ",t.current_rank," rank"]})]}),l.jsx("div",{className:"text-right",children:l.jsxs(U.p,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"text-4xl font-bold text-[#8A4FFF]",children:[d*100,"%"]})})]}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Upgrade your rank to unlock higher commission rates and longer rev-share periods."})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"p-5 bg-[#151515] border-3 border-[#8A4FFF]",children:[l.jsxs("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-4 flex items-center gap-2",children:[l.jsx(Pt,{className:"w-5 h-5 text-[#8A4FFF]"}),"How Rev-Share Works"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-[#8A4FFF] border-2 border-[#F6F2EE] flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-[#F6F2EE] font-bold",children:"1"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:"Sign Venues"}),l.jsxs("p",{className:"text-[#A0A0A0] text-sm",children:["You earn ",d*100,"% of platform fees from venues you sign"]})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-[#8A4FFF] border-2 border-[#F6F2EE] flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-[#F6F2EE] font-bold",children:"2"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:"Recurring Revenue"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Earn monthly as long as venues stay active on the platform"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-[#8A4FFF] border-2 border-[#F6F2EE] flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-[#F6F2EE] font-bold",children:"3"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:"Get Paid"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Payments made monthly, net 30 days via direct deposit"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-[#FFD700] border-2 border-[#F6F2EE] flex items-center justify-center flex-shrink-0",children:l.jsx(Pt,{className:"w-5 h-5 text-[#050505]"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[#FFD700] font-bold mb-1",children:"Rank Up for More"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Higher ranks = higher commission rates & longer rev-share periods"})]})]})]})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[l.jsxs("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3 flex items-center gap-2",children:[l.jsx(zt,{className:"w-5 h-5 text-[#8A4FFF]"}),"Active Venues"]}),r.length===0?l.jsxs("div",{className:"text-center py-12 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsx($r,{className:"w-16 h-16 text-[#A0A0A0] mx-auto mb-4"}),l.jsx("p",{className:"text-[#A0A0A0] mb-2",children:"No venues generating revenue yet"}),l.jsx("p",{className:"text-[#8A4FFF] text-sm",children:"Start signing venues to build your income!"})]}):l.jsx("div",{className:"space-y-2",children:r.map((w,F)=>{const _=w.status==="live",j=y*d;return l.jsxs(U.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4+F*.05},className:`p-4 border-3 ${_?"bg-[#151515] border-[#00FF00]":"bg-[#0A0A0A] border-[#FFD700]"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"text-[#F6F2EE] font-bold",children:w.venue_name}),_?l.jsx("div",{className:"px-2 py-0.5 bg-[#00FF00] border-2 border-[#F6F2EE]",children:l.jsx("span",{className:"text-[#050505] text-xs font-bold uppercase",children:"Live"})}):l.jsx("div",{className:"px-2 py-0.5 bg-[#FFD700] border-2 border-[#F6F2EE]",children:l.jsx("span",{className:"text-[#050505] text-xs font-bold uppercase",children:"Pending"})})]}),l.jsx("p",{className:"text-[#A0A0A0] text-xs",children:w.address})]}),l.jsxs("div",{className:"text-right ml-4",children:[l.jsxs("p",{className:`font-bold ${_?"text-[#00FF00]":"text-[#FFD700]"}`,children:["$",Math.floor(j)]}),l.jsx("p",{className:"text-[#A0A0A0] text-xs",children:"/month"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#A0A0A0] mt-2",children:[l.jsx(Jo,{className:"w-3 h-3"}),l.jsxs("span",{children:["Added ",Math.floor((Date.now()-new Date(w.created_at).getTime())/(1e3*60*60*24))," days ago"]})]})]},w.id)})})]}),l.jsx(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"p-4 bg-[#0A0A0A] border-2 border-[#F6F2EE]",children:l.jsxs("p",{className:"text-[#A0A0A0] text-xs",children:[l.jsx("strong",{className:"text-[#F6F2EE]",children:"Note:"})," Earnings shown are estimates based on average platform fees. Actual earnings may vary based on venue subscription tier and activity. Final payments calculated from actual billing data."]})})]})]})}var xc="Switch",[tP]=mc(xc),[rP,nP]=tP(xc),Gb=k.forwardRef((t,e)=>{const{__scopeSwitch:r,name:s,checked:o,defaultChecked:a,required:u,disabled:d,value:f="on",onCheckedChange:p,form:y,...g}=t,[x,b]=k.useState(null),w=rr(e,S=>b(S)),F=k.useRef(!1),_=x?y||!!x.closest("form"):!0,[j,A]=Af({prop:o,defaultProp:a??!1,onChange:p,caller:xc});return l.jsxs(rP,{scope:r,checked:j,disabled:d,children:[l.jsx(qt.button,{type:"button",role:"switch","aria-checked":j,"aria-required":u,"data-state":Qb(j),"data-disabled":d?"":void 0,disabled:d,value:f,...g,ref:w,onClick:vr(t.onClick,S=>{A(T=>!T),_&&(F.current=S.isPropagationStopped(),F.current||S.stopPropagation())})}),_&&l.jsx(Jb,{control:x,bubbles:!F.current,name:s,value:f,checked:j,required:u,disabled:d,form:y,style:{transform:"translateX(-100%)"}})]})});Gb.displayName=xc;var Yb="SwitchThumb",Xb=k.forwardRef((t,e)=>{const{__scopeSwitch:r,...s}=t,o=nP(Yb,r);return l.jsx(qt.span,{"data-state":Qb(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})});Xb.displayName=Yb;var sP="SwitchBubbleInput",Jb=k.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:s=!0,...o},a)=>{const u=k.useRef(null),d=rr(u,a),f=Ib(r),p=Lb(e);return k.useEffect(()=>{const y=u.current;if(!y)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&b){const w=new Event("click",{bubbles:s});b.call(y,r),y.dispatchEvent(w)}},[f,r,s]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:d,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Jb.displayName=sP;function Qb(t){return t?"checked":"unchecked"}var iP=Gb,oP=Xb;function jy({className:t,...e}){return l.jsx(iP,{"data-slot":"switch",className:Rt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(oP,{"data-slot":"switch-thumb",className:Rt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var aP=Rh[" useId ".trim().toString()]||(()=>{}),lP=0;function Ld(t){const[e,r]=k.useState(aP());return _i(()=>{r(s=>s??String(lP++))},[t]),t||(e?`radix-${e}`:"")}function Wo(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...r)=>e.current?.(...r),[])}function cP(t,e=globalThis?.document){const r=Wo(t);k.useEffect(()=>{const s=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var uP="DismissableLayer",Ah="dismissableLayer.update",dP="dismissableLayer.pointerDownOutside",hP="dismissableLayer.focusOutside",Sy,Zb=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ew=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...f}=t,p=k.useContext(Zb),[y,g]=k.useState(null),x=y?.ownerDocument??globalThis?.document,[,b]=k.useState({}),w=rr(e,B=>g(B)),F=Array.from(p.layers),[_]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=F.indexOf(_),A=y?F.indexOf(y):-1,S=p.layersWithOutsidePointerEventsDisabled.size>0,T=A>=j,D=mP(B=>{const O=B.target,X=[...p.branches].some(he=>he.contains(O));!T||X||(o?.(B),u?.(B),B.defaultPrevented||d?.())},x),M=gP(B=>{const O=B.target;[...p.branches].some(he=>he.contains(O))||(a?.(B),u?.(B),B.defaultPrevented||d?.())},x);return cP(B=>{A===p.layers.size-1&&(s?.(B),!B.defaultPrevented&&d&&(B.preventDefault(),d()))},x),k.useEffect(()=>{if(y)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Sy=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Ay(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Sy)}},[y,x,r,p]),k.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Ay())},[y,p]),k.useEffect(()=>{const B=()=>b({});return document.addEventListener(Ah,B),()=>document.removeEventListener(Ah,B)},[]),l.jsx(qt.div,{...f,ref:w,style:{pointerEvents:S?T?"auto":"none":void 0,...t.style},onFocusCapture:vr(t.onFocusCapture,M.onFocusCapture),onBlurCapture:vr(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:vr(t.onPointerDownCapture,D.onPointerDownCapture)})});ew.displayName=uP;var fP="DismissableLayerBranch",pP=k.forwardRef((t,e)=>{const r=k.useContext(Zb),s=k.useRef(null),o=rr(e,s);return k.useEffect(()=>{const a=s.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),l.jsx(qt.div,{...t,ref:o})});pP.displayName=fP;function mP(t,e=globalThis?.document){const r=Wo(t),s=k.useRef(!1),o=k.useRef(()=>{});return k.useEffect(()=>{const a=d=>{if(d.target&&!s.current){let f=function(){tw(dP,r,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function gP(t,e=globalThis?.document){const r=Wo(t),s=k.useRef(!1);return k.useEffect(()=>{const o=a=>{a.target&&!s.current&&tw(hP,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ay(){const t=new CustomEvent(Ah);document.dispatchEvent(t)}function tw(t,e,r,{discrete:s}){const o=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),s?x5(o,a):o.dispatchEvent(a)}var Md="focusScope.autoFocusOnMount",$d="focusScope.autoFocusOnUnmount",Ny={bubbles:!1,cancelable:!0},yP="FocusScope",rw=k.forwardRef((t,e)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...u}=t,[d,f]=k.useState(null),p=Wo(o),y=Wo(a),g=k.useRef(null),x=rr(e,F=>f(F)),b=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(s){let F=function(S){if(b.paused||!d)return;const T=S.target;d.contains(T)?g.current=T:On(g.current,{select:!0})},_=function(S){if(b.paused||!d)return;const T=S.relatedTarget;T!==null&&(d.contains(T)||On(g.current,{select:!0}))},j=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&On(d)};document.addEventListener("focusin",F),document.addEventListener("focusout",_);const A=new MutationObserver(j);return d&&A.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",F),document.removeEventListener("focusout",_),A.disconnect()}}},[s,d,b.paused]),k.useEffect(()=>{if(d){Ty.add(b);const F=document.activeElement;if(!d.contains(F)){const j=new CustomEvent(Md,Ny);d.addEventListener(Md,p),d.dispatchEvent(j),j.defaultPrevented||(vP(FP(nw(d)),{select:!0}),document.activeElement===F&&On(d))}return()=>{d.removeEventListener(Md,p),setTimeout(()=>{const j=new CustomEvent($d,Ny);d.addEventListener($d,y),d.dispatchEvent(j),j.defaultPrevented||On(F??document.body,{select:!0}),d.removeEventListener($d,y),Ty.remove(b)},0)}}},[d,p,y,b]);const w=k.useCallback(F=>{if(!r&&!s||b.paused)return;const _=F.key==="Tab"&&!F.altKey&&!F.ctrlKey&&!F.metaKey,j=document.activeElement;if(_&&j){const A=F.currentTarget,[S,T]=xP(A);S&&T?!F.shiftKey&&j===T?(F.preventDefault(),r&&On(S,{select:!0})):F.shiftKey&&j===S&&(F.preventDefault(),r&&On(T,{select:!0})):j===A&&F.preventDefault()}},[r,s,b.paused]);return l.jsx(qt.div,{tabIndex:-1,...u,ref:x,onKeyDown:w})});rw.displayName=yP;function vP(t,{select:e=!1}={}){const r=document.activeElement;for(const s of t)if(On(s,{select:e}),document.activeElement!==r)return}function xP(t){const e=nw(t),r=Cy(e,t),s=Cy(e.reverse(),t);return[r,s]}function nw(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Cy(t,e){for(const r of t)if(!bP(r,{upTo:e}))return r}function bP(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wP(t){return t instanceof HTMLInputElement&&"select"in t}function On(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&wP(t)&&e&&t.select()}}var Ty=EP();function EP(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=Py(t,e),t.unshift(e)},remove(e){t=Py(t,e),t[0]?.resume()}}}function Py(t,e){const r=[...t],s=r.indexOf(e);return s!==-1&&r.splice(s,1),r}function FP(t){return t.filter(e=>e.tagName!=="A")}var _P="Portal",sw=k.forwardRef((t,e)=>{const{container:r,...s}=t,[o,a]=k.useState(!1);_i(()=>a(!0),[]);const u=r||o&&globalThis?.document?.body;return u?Dv.createPortal(l.jsx(qt.div,{...s,ref:e}),u):null});sw.displayName=_P;var Vd=0;function kP(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ry()),document.body.insertAdjacentElement("beforeend",t[1]??Ry()),Vd++,()=>{Vd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Vd--}},[])}function Ry(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ul="right-scroll-bar-position",zl="width-before-scroll-bar",jP="with-scroll-bars-hidden",SP="--removed-body-scroll-bar-size";function Bd(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function AP(t,e){var r=k.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(s){var o=r.value;o!==s&&(r.value=s,r.callback(s,o))}}}})[0];return r.callback=e,r.facade}var NP=typeof window<"u"?k.useLayoutEffect:k.useEffect,Oy=new WeakMap;function CP(t,e){var r=AP(null,function(s){return t.forEach(function(o){return Bd(o,s)})});return NP(function(){var s=Oy.get(r);if(s){var o=new Set(s),a=new Set(t),u=r.current;o.forEach(function(d){a.has(d)||Bd(d,null)}),a.forEach(function(d){o.has(d)||Bd(d,u)})}Oy.set(r,t)},[t]),r}function TP(t){return t}function PP(t,e){e===void 0&&(e=TP);var r=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var u=e(a,s);return r.push(u),function(){r=r.filter(function(d){return d!==u})}},assignSyncMedium:function(a){for(s=!0;r.length;){var u=r;r=[],u.forEach(a)}r={push:function(d){return a(d)},filter:function(){return r}}},assignMedium:function(a){s=!0;var u=[];if(r.length){var d=r;r=[],d.forEach(a),u=r}var f=function(){var y=u;u=[],y.forEach(a)},p=function(){return Promise.resolve().then(f)};p(),r={push:function(y){u.push(y),p()},filter:function(y){return u=u.filter(y),r}}}};return o}function RP(t){t===void 0&&(t={});var e=PP(null);return e.options=pr({async:!0,ssr:!1},t),e}var iw=function(t){var e=t.sideCar,r=Bn(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return k.createElement(s,pr({},r))};iw.isSideCarExport=!0;function OP(t,e){return t.useMedium(e),iw}var ow=RP(),Ud=function(){},bc=k.forwardRef(function(t,e){var r=k.useRef(null),s=k.useState({onScrollCapture:Ud,onWheelCapture:Ud,onTouchMoveCapture:Ud}),o=s[0],a=s[1],u=t.forwardProps,d=t.children,f=t.className,p=t.removeScrollBar,y=t.enabled,g=t.shards,x=t.sideCar,b=t.noRelative,w=t.noIsolation,F=t.inert,_=t.allowPinchZoom,j=t.as,A=j===void 0?"div":j,S=t.gapMode,T=Bn(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=x,M=CP([r,e]),B=pr(pr({},T),o);return k.createElement(k.Fragment,null,y&&k.createElement(D,{sideCar:ow,removeScrollBar:p,shards:g,noRelative:b,noIsolation:w,inert:F,setCallbacks:a,allowPinchZoom:!!_,lockRef:r,gapMode:S}),u?k.cloneElement(k.Children.only(d),pr(pr({},B),{ref:M})):k.createElement(A,pr({},B,{className:f,ref:M}),d))});bc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bc.classNames={fullWidth:zl,zeroRight:Ul};var DP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IP(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=DP();return e&&t.setAttribute("nonce",e),t}function LP(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function MP(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $P=function(){var t=0,e=null;return{add:function(r){t==0&&(e=IP())&&(LP(e,r),MP(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},VP=function(){var t=$P();return function(e,r){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},aw=function(){var t=VP(),e=function(r){var s=r.styles,o=r.dynamic;return t(s,o),null};return e},BP={left:0,top:0,right:0,gap:0},zd=function(t){return parseInt(t||"",10)||0},UP=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[zd(r),zd(s),zd(o)]},zP=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return BP;var e=UP(t),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-r+e[2]-e[0])}},WP=aw(),yi="data-scroll-locked",qP=function(t,e,r,s){var o=t.left,a=t.top,u=t.right,d=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(jP,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(yi,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ul,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(zl,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Ul," .").concat(Ul,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(zl," .").concat(zl,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(yi,`] {
    `).concat(SP,": ").concat(d,`px;
  }
`)},Dy=function(){var t=parseInt(document.body.getAttribute(yi)||"0",10);return isFinite(t)?t:0},HP=function(){k.useEffect(function(){return document.body.setAttribute(yi,(Dy()+1).toString()),function(){var t=Dy()-1;t<=0?document.body.removeAttribute(yi):document.body.setAttribute(yi,t.toString())}},[])},KP=function(t){var e=t.noRelative,r=t.noImportant,s=t.gapMode,o=s===void 0?"margin":s;HP();var a=k.useMemo(function(){return zP(o)},[o]);return k.createElement(WP,{styles:qP(a,!e,o,r?"":"!important")})},Nh=!1;if(typeof window<"u")try{var Tl=Object.defineProperty({},"passive",{get:function(){return Nh=!0,!0}});window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Nh=!1}var ii=Nh?{passive:!1}:!1,GP=function(t){return t.tagName==="TEXTAREA"},lw=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!GP(t)&&r[e]==="visible")},YP=function(t){return lw(t,"overflowY")},XP=function(t){return lw(t,"overflowX")},Iy=function(t,e){var r=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=cw(t,s);if(o){var a=uw(t,s),u=a[1],d=a[2];if(u>d)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},JP=function(t){var e=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;return[e,r,s]},QP=function(t){var e=t.scrollLeft,r=t.scrollWidth,s=t.clientWidth;return[e,r,s]},cw=function(t,e){return t==="v"?YP(e):XP(e)},uw=function(t,e){return t==="v"?JP(e):QP(e)},ZP=function(t,e){return t==="h"&&e==="rtl"?-1:1},eR=function(t,e,r,s,o){var a=ZP(t,window.getComputedStyle(e).direction),u=a*s,d=r.target,f=e.contains(d),p=!1,y=u>0,g=0,x=0;do{if(!d)break;var b=uw(t,d),w=b[0],F=b[1],_=b[2],j=F-_-a*w;(w||j)&&cw(t,d)&&(g+=j,x+=w);var A=d.parentNode;d=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(y&&Math.abs(g)<1||!y&&Math.abs(x)<1)&&(p=!0),p},Pl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ly=function(t){return[t.deltaX,t.deltaY]},My=function(t){return t&&"current"in t?t.current:t},tR=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rR=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nR=0,oi=[];function sR(t){var e=k.useRef([]),r=k.useRef([0,0]),s=k.useRef(),o=k.useState(nR++)[0],a=k.useState(aw)[0],u=k.useRef(t);k.useEffect(function(){u.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var F=Dh([t.lockRef.current],(t.shards||[]).map(My),!0).filter(Boolean);return F.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),F.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var d=k.useCallback(function(F,_){if("touches"in F&&F.touches.length===2||F.type==="wheel"&&F.ctrlKey)return!u.current.allowPinchZoom;var j=Pl(F),A=r.current,S="deltaX"in F?F.deltaX:A[0]-j[0],T="deltaY"in F?F.deltaY:A[1]-j[1],D,M=F.target,B=Math.abs(S)>Math.abs(T)?"h":"v";if("touches"in F&&B==="h"&&M.type==="range")return!1;var O=Iy(B,M);if(!O)return!0;if(O?D=B:(D=B==="v"?"h":"v",O=Iy(B,M)),!O)return!1;if(!s.current&&"changedTouches"in F&&(S||T)&&(s.current=D),!D)return!0;var X=s.current||D;return eR(X,_,F,X==="h"?S:T)},[]),f=k.useCallback(function(F){var _=F;if(!(!oi.length||oi[oi.length-1]!==a)){var j="deltaY"in _?Ly(_):Pl(_),A=e.current.filter(function(D){return D.name===_.type&&(D.target===_.target||_.target===D.shadowParent)&&tR(D.delta,j)})[0];if(A&&A.should){_.cancelable&&_.preventDefault();return}if(!A){var S=(u.current.shards||[]).map(My).filter(Boolean).filter(function(D){return D.contains(_.target)}),T=S.length>0?d(_,S[0]):!u.current.noIsolation;T&&_.cancelable&&_.preventDefault()}}},[]),p=k.useCallback(function(F,_,j,A){var S={name:F,delta:_,target:j,should:A,shadowParent:iR(j)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(T){return T!==S})},1)},[]),y=k.useCallback(function(F){r.current=Pl(F),s.current=void 0},[]),g=k.useCallback(function(F){p(F.type,Ly(F),F.target,d(F,t.lockRef.current))},[]),x=k.useCallback(function(F){p(F.type,Pl(F),F.target,d(F,t.lockRef.current))},[]);k.useEffect(function(){return oi.push(a),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",f,ii),document.addEventListener("touchmove",f,ii),document.addEventListener("touchstart",y,ii),function(){oi=oi.filter(function(F){return F!==a}),document.removeEventListener("wheel",f,ii),document.removeEventListener("touchmove",f,ii),document.removeEventListener("touchstart",y,ii)}},[]);var b=t.removeScrollBar,w=t.inert;return k.createElement(k.Fragment,null,w?k.createElement(a,{styles:rR(o)}):null,b?k.createElement(KP,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function iR(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const oR=OP(ow,sR);var dw=k.forwardRef(function(t,e){return k.createElement(bc,pr({},t,{ref:e,sideCar:oR}))});dw.classNames=bc.classNames;var aR=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ai=new WeakMap,Rl=new WeakMap,Ol={},Wd=0,hw=function(t){return t&&(t.host||hw(t.parentNode))},lR=function(t,e){return e.map(function(r){if(t.contains(r))return r;var s=hw(r);return s&&t.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},cR=function(t,e,r,s){var o=lR(e,Array.isArray(t)?t:[t]);Ol[r]||(Ol[r]=new WeakMap);var a=Ol[r],u=[],d=new Set,f=new Set(o),p=function(g){!g||d.has(g)||(d.add(g),p(g.parentNode))};o.forEach(p);var y=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(x){if(d.has(x))y(x);else try{var b=x.getAttribute(s),w=b!==null&&b!=="false",F=(ai.get(x)||0)+1,_=(a.get(x)||0)+1;ai.set(x,F),a.set(x,_),u.push(x),F===1&&w&&Rl.set(x,!0),_===1&&x.setAttribute(r,"true"),w||x.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",x,j)}})};return y(e),d.clear(),Wd++,function(){u.forEach(function(g){var x=ai.get(g)-1,b=a.get(g)-1;ai.set(g,x),a.set(g,b),x||(Rl.has(g)||g.removeAttribute(s),Rl.delete(g)),b||g.removeAttribute(r)}),Wd--,Wd||(ai=new WeakMap,ai=new WeakMap,Rl=new WeakMap,Ol={})}},uR=function(t,e,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),o=aR(t);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),cR(s,o,r,"aria-hidden")):function(){return null}};function dR(t){const e=hR(t),r=k.forwardRef((s,o)=>{const{children:a,...u}=s,d=k.Children.toArray(a),f=d.find(pR);if(f){const p=f.props.children,y=d.map(g=>g===f?k.Children.count(p)>1?k.Children.only(null):k.isValidElement(p)?p.props.children:null:g);return l.jsx(e,{...u,ref:o,children:k.isValidElement(p)?k.cloneElement(p,void 0,y):null})}return l.jsx(e,{...u,ref:o,children:a})});return r.displayName=`${t}.Slot`,r}function hR(t){const e=k.forwardRef((r,s)=>{const{children:o,...a}=r;if(k.isValidElement(o)){const u=gR(o),d=mR(a,o.props);return o.type!==k.Fragment&&(d.ref=s?lc(s,u):u),k.cloneElement(o,d)}return k.Children.count(o)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fR=Symbol("radix.slottable");function pR(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fR}function mR(t,e){const r={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?r[s]=(...d)=>{const f=a(...d);return o(...d),f}:o&&(r[s]=o):s==="style"?r[s]={...o,...a}:s==="className"&&(r[s]=[o,a].filter(Boolean).join(" "))}return{...t,...r}}function gR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var wc="Dialog",[fw,pw]=mc(wc),[yR,Cr]=fw(wc),mw=t=>{const{__scopeDialog:e,children:r,open:s,defaultOpen:o,onOpenChange:a,modal:u=!0}=t,d=k.useRef(null),f=k.useRef(null),[p,y]=Af({prop:s,defaultProp:o??!1,onChange:a,caller:wc});return l.jsx(yR,{scope:e,triggerRef:d,contentRef:f,contentId:Ld(),titleId:Ld(),descriptionId:Ld(),open:p,onOpenChange:y,onOpenToggle:k.useCallback(()=>y(g=>!g),[y]),modal:u,children:r})};mw.displayName=wc;var gw="DialogTrigger",yw=k.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,o=Cr(gw,r),a=rr(e,o.triggerRef);return l.jsx(qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Of(o.open),...s,ref:a,onClick:vr(t.onClick,o.onOpenToggle)})});yw.displayName=gw;var Pf="DialogPortal",[vR,vw]=fw(Pf,{forceMount:void 0}),xw=t=>{const{__scopeDialog:e,forceMount:r,children:s,container:o}=t,a=Cr(Pf,e);return l.jsx(vR,{scope:e,forceMount:r,children:k.Children.map(s,u=>l.jsx(Qo,{present:r||a.open,children:l.jsx(sw,{asChild:!0,container:o,children:u})}))})};xw.displayName=Pf;var nc="DialogOverlay",bw=k.forwardRef((t,e)=>{const r=vw(nc,t.__scopeDialog),{forceMount:s=r.forceMount,...o}=t,a=Cr(nc,t.__scopeDialog);return a.modal?l.jsx(Qo,{present:s||a.open,children:l.jsx(bR,{...o,ref:e})}):null});bw.displayName=nc;var xR=dR("DialogOverlay.RemoveScroll"),bR=k.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,o=Cr(nc,r);return l.jsx(dw,{as:xR,allowPinchZoom:!0,shards:[o.contentRef],children:l.jsx(qt.div,{"data-state":Of(o.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),ks="DialogContent",ww=k.forwardRef((t,e)=>{const r=vw(ks,t.__scopeDialog),{forceMount:s=r.forceMount,...o}=t,a=Cr(ks,t.__scopeDialog);return l.jsx(Qo,{present:s||a.open,children:a.modal?l.jsx(wR,{...o,ref:e}):l.jsx(ER,{...o,ref:e})})});ww.displayName=ks;var wR=k.forwardRef((t,e)=>{const r=Cr(ks,t.__scopeDialog),s=k.useRef(null),o=rr(e,r.contentRef,s);return k.useEffect(()=>{const a=s.current;if(a)return uR(a)},[]),l.jsx(Ew,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vr(t.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:vr(t.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&a.preventDefault()}),onFocusOutside:vr(t.onFocusOutside,a=>a.preventDefault())})}),ER=k.forwardRef((t,e)=>{const r=Cr(ks,t.__scopeDialog),s=k.useRef(!1),o=k.useRef(!1);return l.jsx(Ew,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||r.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=a.target;r.triggerRef.current?.contains(u)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Ew=k.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,...u}=t,d=Cr(ks,r),f=k.useRef(null),p=rr(e,f);return kP(),l.jsxs(l.Fragment,{children:[l.jsx(rw,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a,children:l.jsx(ew,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Of(d.open),...u,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(_R,{titleId:d.titleId}),l.jsx(jR,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Rf="DialogTitle",Fw=k.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,o=Cr(Rf,r);return l.jsx(qt.h2,{id:o.titleId,...s,ref:e})});Fw.displayName=Rf;var _w="DialogDescription",kw=k.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,o=Cr(_w,r);return l.jsx(qt.p,{id:o.descriptionId,...s,ref:e})});kw.displayName=_w;var jw="DialogClose",Sw=k.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,o=Cr(jw,r);return l.jsx(qt.button,{type:"button",...s,ref:e,onClick:vr(t.onClick,()=>o.onOpenChange(!1))})});Sw.displayName=jw;function Of(t){return t?"open":"closed"}var Aw="DialogTitleWarning",[FR,Nw]=s5(Aw,{contentName:ks,titleName:Rf,docsSlug:"dialog"}),_R=({titleId:t})=>{const e=Nw(Aw),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},kR="DialogDescriptionWarning",jR=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Nw(kR).contentName}}.`;return k.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},SR=mw,AR=yw,NR=xw,CR=bw,TR=ww,PR=Fw,RR=kw,Cw=Sw,OR=Symbol("radix.slottable");function DR(t){const e=({children:r})=>l.jsx(l.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=OR,e}var Tw="AlertDialog",[IR]=mc(Tw,[pw]),nn=pw(),Pw=t=>{const{__scopeAlertDialog:e,...r}=t,s=nn(e);return l.jsx(SR,{...s,...r,modal:!0})};Pw.displayName=Tw;var LR="AlertDialogTrigger",Rw=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,o=nn(r);return l.jsx(AR,{...o,...s,ref:e})});Rw.displayName=LR;var MR="AlertDialogPortal",Ow=t=>{const{__scopeAlertDialog:e,...r}=t,s=nn(e);return l.jsx(NR,{...s,...r})};Ow.displayName=MR;var $R="AlertDialogOverlay",Dw=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,o=nn(r);return l.jsx(CR,{...o,...s,ref:e})});Dw.displayName=$R;var vi="AlertDialogContent",[VR,BR]=IR(vi),UR=DR("AlertDialogContent"),Iw=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:s,...o}=t,a=nn(r),u=k.useRef(null),d=rr(e,u),f=k.useRef(null);return l.jsx(FR,{contentName:vi,titleName:Lw,docsSlug:"alert-dialog",children:l.jsx(VR,{scope:r,cancelRef:f,children:l.jsxs(TR,{role:"alertdialog",...a,...o,ref:d,onOpenAutoFocus:vr(o.onOpenAutoFocus,p=>{p.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[l.jsx(UR,{children:s}),l.jsx(WR,{contentRef:u})]})})})});Iw.displayName=vi;var Lw="AlertDialogTitle",Mw=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,o=nn(r);return l.jsx(PR,{...o,...s,ref:e})});Mw.displayName=Lw;var $w="AlertDialogDescription",Vw=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,o=nn(r);return l.jsx(RR,{...o,...s,ref:e})});Vw.displayName=$w;var zR="AlertDialogAction",Bw=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,o=nn(r);return l.jsx(Cw,{...o,...s,ref:e})});Bw.displayName=zR;var Uw="AlertDialogCancel",zw=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,{cancelRef:o}=BR(Uw,r),a=nn(r),u=rr(e,o);return l.jsx(Cw,{...a,...s,ref:u})});zw.displayName=Uw;var WR=({contentRef:t})=>{const e=`\`${vi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${vi}\` by passing a \`${$w}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${vi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return k.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},qR=Pw,HR=Rw,KR=Ow,GR=Dw,YR=Iw,XR=Bw,JR=zw,QR=Mw,ZR=Vw;function e4({...t}){return l.jsx(qR,{"data-slot":"alert-dialog",...t})}function t4({...t}){return l.jsx(HR,{"data-slot":"alert-dialog-trigger",...t})}function r4({...t}){return l.jsx(KR,{"data-slot":"alert-dialog-portal",...t})}function n4({className:t,...e}){return l.jsx(GR,{"data-slot":"alert-dialog-overlay",className:Rt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function s4({className:t,...e}){return l.jsxs(r4,{children:[l.jsx(n4,{}),l.jsx(YR,{"data-slot":"alert-dialog-content",className:Rt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function i4({className:t,...e}){return l.jsx("div",{"data-slot":"alert-dialog-header",className:Rt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function o4({className:t,...e}){return l.jsx("div",{"data-slot":"alert-dialog-footer",className:Rt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function a4({className:t,...e}){return l.jsx(QR,{"data-slot":"alert-dialog-title",className:Rt("text-lg font-semibold",t),...e})}function l4({className:t,...e}){return l.jsx(ZR,{"data-slot":"alert-dialog-description",className:Rt("text-muted-foreground text-sm",t),...e})}function c4({className:t,...e}){return l.jsx(XR,{className:Rt(Wh(),t),...e})}function u4({className:t,...e}){return l.jsx(JR,{className:Rt(Wh({variant:"outline"}),t),...e})}const qd=ac("Browser",{web:()=>Ph(()=>import("./web-CU9PqZ5p.js"),[]).then(t=>new t.BrowserWeb)});function d4({user:t,onBack:e,onNavigate:r}){const[s,o]=k.useState(t.preferences?.email_notifications??!0),[a,u]=k.useState(t.preferences?.push_notifications??!0),[d,f]=k.useState(!1),[p,y]=k.useState("");async function g(){try{await qd.open({url:"https://patronpass.com/privacy"})}catch{window.open("https://patronpass.com/privacy","_blank")}}async function x(){try{await qd.open({url:"https://patronpass.com/terms"})}catch{window.open("https://patronpass.com/terms","_blank")}}async function b(){try{await qd.open({url:"https://patronpass.com/support"})}catch{window.open("https://patronpass.com/support","_blank")}}async function w(){const S="support@patronpass.com";window.location.href=`mailto:${S}`}async function F(){f(!0);try{const{error:S}=await Te.from("street_users").update({preferences:{email_notifications:s,push_notifications:a}}).eq("id",t.id);if(S)throw S;Le.success("Locked in!",{description:"Your preferences have been saved"})}catch(S){console.error("Error saving preferences:",S),Le.error("Failed to save preferences")}finally{f(!1)}}async function _(){try{const{error:S}=await Te.auth.resetPasswordForEmail(t.email,{redirectTo:window.location.origin});if(S)throw S;Le.success("Reset email sent",{description:"Check your inbox for the password reset link"})}catch(S){console.error("Error sending reset email:",S),Le.error("Failed to send reset email")}}async function j(){try{const{error:S}=await Te.from("street_account_deletion_requests").insert({user_id:t.id,reason:p||null,status:"pending"});if(S){console.error("Deletion request error:",S),Le.info("Account deletion requested",{description:"Contact support to complete deletion"});return}Le.success("Deletion request submitted",{description:"Your account will be reviewed within 48 hours"})}catch(S){console.error("Error requesting deletion:",S),Le.error("Failed to submit deletion request")}}const A=s!==(t.preferences?.email_notifications??!0)||a!==(t.preferences?.push_notifications??!0);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]"}),l.jsx("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("h3",{className:"text-[#F6F2EE] flex-1 flex items-center gap-2",children:[l.jsx(Ob,{className:"w-6 h-6 text-[#8A4FFF]"}),"Settings"]})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:[l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(ws,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm",children:"Notifications"})]}),l.jsxs("div",{className:"p-5 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-[#F6F2EE]/20",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:"Email Notifications"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Get notified about rank ups, missions, and earnings via email"})]}),l.jsx(jy,{checked:s,onCheckedChange:o,className:"ml-4"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:"Push Notifications"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Receive real-time updates on your device"})]}),l.jsx(jy,{checked:a,onCheckedChange:u,className:"ml-4"})]})]}),A&&l.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:l.jsx(Oe,{onClick:F,disabled:d,className:"w-full h-12 bg-[#8A4FFF] hover:bg-[#7A3FEF] border-3 border-[#F6F2EE] text-[#F6F2EE] uppercase tracking-wider font-bold",children:d?l.jsx(U.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:l.jsx(Pt,{className:"w-5 h-5"})}):l.jsxs(l.Fragment,{children:[l.jsx(In,{className:"w-5 h-5 mr-2"}),"Save Preferences"]})})})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(DT,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm",children:"Security"})]}),l.jsx("div",{className:"p-5 bg-[#151515] border-3 border-[#F6F2EE]",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(yT,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("p",{className:"text-[#F6F2EE] font-bold",children:"Password"})]}),l.jsx("p",{className:"text-[#A0A0A0] text-sm mb-3",children:"Change your password via email reset link"}),l.jsxs(Oe,{onClick:_,variant:"outline",className:"border-2 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515] uppercase text-xs tracking-wider",children:[l.jsx(Fi,{className:"w-4 h-4 mr-2"}),"Send Reset Email"]})]})})})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Nl,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm",children:"Legal & Support"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:g,className:"w-full p-4 bg-[#151515] border-2 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors text-left",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[#F6F2EE]",children:"Privacy Policy"}),l.jsx(Nl,{className:"w-4 h-4 text-[#A0A0A0]"})]})}),l.jsx("button",{onClick:x,className:"w-full p-4 bg-[#151515] border-2 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors text-left",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[#F6F2EE]",children:"Terms of Service"}),l.jsx(Nl,{className:"w-4 h-4 text-[#A0A0A0]"})]})}),l.jsx("button",{onClick:b,className:"w-full p-4 bg-[#151515] border-2 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors text-left",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[#F6F2EE]",children:"Help & Support"}),l.jsx(Nl,{className:"w-4 h-4 text-[#A0A0A0]"})]})}),l.jsx("button",{onClick:w,className:"w-full p-4 bg-[#151515] border-2 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors text-left",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[#F6F2EE]",children:"Contact Us"}),l.jsx(Fi,{className:"w-4 h-4 text-[#A0A0A0]"})]})})]})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"p-4 bg-[#0A0A0A] border-2 border-[#F6F2EE]",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"App Version"}),l.jsx("span",{className:"text-[#F6F2EE] font-bold",children:"1.0.0"})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"User ID"}),l.jsxs("span",{className:"text-[#8A4FFF] font-mono text-xs",children:[t.id.slice(0,8),"..."]})]})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Fy,{className:"w-5 h-5 text-[#FF4444]"}),l.jsx("h4",{className:"text-[#FF4444] uppercase tracking-wider text-sm",children:"Danger Zone"})]}),l.jsxs("div",{className:"p-5 bg-[#151515] border-3 border-[#FF4444]",children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-2",children:"Delete Account"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),l.jsxs(e4,{children:[l.jsx(t4,{asChild:!0,children:l.jsxs(Oe,{variant:"outline",className:"w-full border-2 border-[#FF4444] text-[#FF4444] hover:bg-[#FF4444] hover:text-[#F6F2EE] uppercase text-xs tracking-wider",children:[l.jsx(Fy,{className:"w-4 h-4 mr-2"}),"Request Account Deletion"]})}),l.jsxs(s4,{className:"bg-[#151515] border-4 border-[#FF4444]",children:[l.jsxs(i4,{children:[l.jsx(a4,{className:"text-[#F6F2EE]",children:"Delete Your Account?"}),l.jsx(l4,{className:"text-[#A0A0A0]",children:"This will permanently delete your account, all your leads, earnings history, and progress. This action cannot be undone."})]}),l.jsxs("div",{className:"my-4",children:[l.jsx(Label,{className:"text-[#F6F2EE] mb-2",children:"Why are you leaving? (optional)"}),l.jsx(pc,{value:p,onChange:S=>y(S.target.value),placeholder:"Help us improve...",className:"bg-[#050505] border-2 border-[#F6F2EE] text-[#F6F2EE]",rows:3})]}),l.jsxs(o4,{children:[l.jsx(u4,{className:"border-2 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515]",children:"Cancel"}),l.jsx(c4,{onClick:j,className:"bg-[#FF4444] hover:bg-[#EE3333] border-2 border-[#F6F2EE] text-[#F6F2EE]",children:"Delete Account"})]})]})]})]})]})]})]})}function h4(){const[t,e]=k.useState(!0),[r,s]=k.useState(!1),[o,a]=k.useState({totalLeads:0,liveVenues:0,activeAgents:0,totalRevenue:0,averageConversionRate:0}),[u,d]=k.useState([]),[f,p]=k.useState([]),[y,g]=k.useState({city:"",status:"",agentId:""});k.useEffect(()=>{x()},[]);async function x(){e(!0);try{const w=await W5(),{data:F}=await Te.from("street_applications").select("*").eq("status","pending").order("created_at",{ascending:!1}),_=await z5();a({totalLeads:w.totalLeads,liveVenues:w.liveVenues,activeAgents:w.activeAgents,totalRevenue:w.actualRevenue||w.estimatedRevenue,averageConversionRate:w.conversionRate}),d(F||[]),p(_)}catch(w){console.error("Error loading dashboard:",w),Le.error("Failed to load dashboard data")}finally{e(!1)}}async function b(){s(!0);try{const w=await U5();w.success?Le.success(`Successfully synced ${w.syncedCount} leads to website CRM`):Le.error(`Sync completed with errors. ${w.syncedCount} synced, ${w.errors.length} failed.`)}catch(w){console.error("Error syncing:",w),Le.error("Failed to sync leads")}finally{s(!1)}}return t?l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsx("div",{className:"text-[#8A4FFF] animate-pulse",children:"Loading HQ Dashboard..."})}):l.jsxs("div",{className:"min-h-screen bg-[#050505] text-white p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-black text-[#8A4FFF] uppercase tracking-tight mb-2",children:"HQ Admin Dashboard"}),l.jsx("p",{className:"text-white/60",children:"Manage street team operations and performance"})]}),l.jsxs("div",{className:"flex gap-3 mb-8 flex-wrap",children:[l.jsxs("button",{onClick:x,className:"bg-[#8A4FFF] hover:bg-[#7a3fee] text-white px-4 py-2 border-4 border-black font-bold uppercase flex items-center gap-2 transition-colors",children:[l.jsx(NT,{className:"w-4 h-4"}),"Refresh"]}),l.jsxs("button",{onClick:b,disabled:r,className:"bg-[#FF7A59] hover:bg-[#ff6847] disabled:opacity-50 text-white px-4 py-2 border-4 border-black font-bold uppercase flex items-center gap-2 transition-colors",children:[l.jsx(aT,{className:"w-4 h-4"}),r?"Syncing...":"Sync to Website CRM"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[l.jsx(Dl,{title:"Total Leads",value:o.totalLeads,icon:l.jsx(zt,{className:"w-6 h-6"}),color:"#8A4FFF"}),l.jsx(Dl,{title:"Live Venues",value:o.liveVenues,icon:l.jsx(ZC,{className:"w-6 h-6"}),color:"#00FF00"}),l.jsx(Dl,{title:"Active Agents",value:o.activeAgents,icon:l.jsx(KT,{className:"w-6 h-6"}),color:"#FF7A59"}),l.jsx(Dl,{title:"Monthly Revenue",value:`$${o.totalRevenue.toLocaleString()}`,icon:l.jsx($r,{className:"w-6 h-6"}),color:"#FFD700"})]}),l.jsx("div",{className:"bg-black border-4 border-[#8A4FFF] p-6 mb-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-white/60 uppercase tracking-wider mb-1",children:"Avg Conversion Rate"}),l.jsxs("div",{className:"text-4xl font-black text-[#8A4FFF]",children:[o.averageConversionRate,"%"]})]}),l.jsx(Br,{className:"w-12 h-12 text-[#8A4FFF]"})]})}),u.length>0&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"text-2xl font-black text-[#FF7A59] uppercase tracking-tight mb-4",children:["Pending Applications (",u.length,")"]}),l.jsx("div",{className:"space-y-3",children:u.map(w=>l.jsx("div",{className:"bg-black border-4 border-[#FF7A59] p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg",children:w.full_name}),l.jsx("div",{className:"text-white/60",children:w.email}),l.jsxs("div",{className:"text-white/60 text-sm",children:[w.city,"  ",w.instagram_handle]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 border-2 border-black font-bold text-sm transition-colors",children:"Approve"}),l.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 border-2 border-black font-bold text-sm transition-colors",children:"Reject"})]})]})},w.id))})]}),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-black text-[#8A4FFF] uppercase tracking-tight mb-4",children:["All Leads (",f.length,")"]}),l.jsxs("div",{className:"flex gap-3 mb-4 flex-wrap",children:[l.jsxs("select",{value:y.status,onChange:w=>g({...y,status:w.target.value}),className:"bg-black border-2 border-[#8A4FFF] text-white px-3 py-2 font-bold",children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"new",children:"New"}),l.jsx("option",{value:"contacted",children:"Contacted"}),l.jsx("option",{value:"follow_up",children:"Follow Up"}),l.jsx("option",{value:"demo_scheduled",children:"Demo"}),l.jsx("option",{value:"verbal_yes",children:"Verbal Yes"}),l.jsx("option",{value:"signed_pending",children:"Signed Pending"}),l.jsx("option",{value:"live",children:"Live"})]}),l.jsx("input",{type:"text",placeholder:"Filter by city...",value:y.city,onChange:w=>g({...y,city:w.target.value}),className:"bg-black border-2 border-[#8A4FFF] text-white px-3 py-2 font-bold"})]}),l.jsx("div",{className:"bg-black border-4 border-[#8A4FFF] overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b-4 border-[#8A4FFF]",children:[l.jsx("th",{className:"text-left p-3 text-[#8A4FFF] uppercase tracking-wider",children:"Venue"}),l.jsx("th",{className:"text-left p-3 text-[#8A4FFF] uppercase tracking-wider",children:"Contact"}),l.jsx("th",{className:"text-left p-3 text-[#8A4FFF] uppercase tracking-wider",children:"Agent"}),l.jsx("th",{className:"text-left p-3 text-[#8A4FFF] uppercase tracking-wider",children:"City"}),l.jsx("th",{className:"text-left p-3 text-[#8A4FFF] uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"text-left p-3 text-[#8A4FFF] uppercase tracking-wider",children:"Heat"})]})}),l.jsx("tbody",{children:f.filter(w=>!(y.status&&w.status!==y.status||y.city&&!w.city?.toLowerCase().includes(y.city.toLowerCase()))).map(w=>l.jsxs("tr",{className:"border-b-2 border-white/10 hover:bg-white/5",children:[l.jsx("td",{className:"p-3 font-bold",children:w.venue_name}),l.jsx("td",{className:"p-3 text-white/80",children:w.contact_name}),l.jsxs("td",{className:"p-3 text-white/80",children:[w.agent?.full_name||"Unknown",l.jsxs("span",{className:"ml-2 text-xs text-[#8A4FFF]",children:["(",w.agent?.current_rank,")"]})]}),l.jsx("td",{className:"p-3 text-white/80",children:w.city}),l.jsx("td",{className:"p-3",children:l.jsx("span",{className:`px-2 py-1 text-xs font-bold uppercase ${f4(w.status)}`,children:w.status?.replace("_"," ")})}),l.jsx("td",{className:"p-3",children:l.jsx("span",{className:`text-2xl ${$y(w.heat_score)}`,children:$y(w.heat_score)})})]},w.id))})]})})]})]})}function Dl({title:t,value:e,icon:r,color:s}){return l.jsxs("div",{className:"bg-black border-4 p-4",style:{borderColor:s},children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-white/60 uppercase tracking-wider text-sm",children:t}),l.jsx("div",{style:{color:s},children:r})]}),l.jsx("div",{className:"text-3xl font-black",style:{color:s},children:e})]})}function f4(t){return{new:"bg-blue-600 text-white",contacted:"bg-purple-600 text-white",follow_up:"bg-yellow-600 text-black",demo_scheduled:"bg-orange-600 text-white",verbal_yes:"bg-pink-600 text-white",signed_pending:"bg-green-600 text-white",live:"bg-green-400 text-black"}[t]||"bg-gray-600 text-white"}function $y(t){return t?t>=8?"":t>=5?"":"":""}function p4({activeScreen:t,onNavigate:e}){const r=[{id:"dashboard",icon:fT,label:"Home"},{id:"pipeline",icon:Vr,label:"Leads"},{id:"missions",icon:zt,label:"Missions"},{id:"leaderboard",icon:Br,label:"Ranks"},{id:"profile",icon:jf,label:"Profile"}];return l.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-[#151515] border-t-4 border-[#F6F2EE] safe-area-bottom",children:l.jsx("div",{className:"flex items-center justify-around px-2 py-2",children:r.map(s=>{const o=s.icon,a=t===s.id;return l.jsxs("button",{onClick:()=>e(s.id),className:`flex-1 flex flex-col items-center gap-1 py-2 transition-all ${a?"scale-105":""}`,children:[l.jsx("div",{className:`p-2 border-2 transition-colors ${a?"bg-[#8A4FFF] border-[#F6F2EE]":"bg-transparent border-[#F6F2EE] hover:border-[#8A4FFF]"}`,children:l.jsx(o,{className:`w-5 h-5 ${a?"text-[#F6F2EE]":"text-[#A0A0A0]"}`})}),l.jsx("span",{className:`text-xs uppercase tracking-widest ${a?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:s.label})]},s.id)})})})}const m4={Bronze:Bl,Silver:LT,Gold:yr,Platinum:Vn,Diamond:Pt,"Black Key":Vn},Fo={Bronze:"#CD7F32",Silver:"#C0C0C0",Gold:"#FFD700",Platinum:"#E5E4E2",Diamond:"#B9F2FF","Black Key":"#1A1A1A"};function g4({isOpen:t,previousRank:e,newRank:r,totalXP:s,onClose:o}){const[a,u]=k.useState(!1),d=m4[r]||yr;return k.useEffect(()=>{if(t){u(!0);const f=setTimeout(()=>{o()},5e3);return()=>clearTimeout(f)}else u(!1)},[t,o]),l.jsx(Yo,{children:t&&l.jsxs(l.Fragment,{children:[a&&l.jsx(y4,{}),l.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:o,className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:l.jsxs(U.div,{initial:{scale:.5,opacity:0,rotateY:-180},animate:{scale:1,opacity:1,rotateY:0},exit:{scale:.5,opacity:0,rotateY:180},transition:{type:"spring",duration:.8,bounce:.4},onClick:f=>f.stopPropagation(),className:"relative bg-black border-4 border-[#8A4FFF] max-w-md w-full p-8 shadow-2xl",style:{boxShadow:"0 0 40px rgba(138, 79, 255, 0.5), 0 0 80px rgba(138, 79, 255, 0.3)"},children:[l.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors",children:l.jsx(Sf,{className:"w-6 h-6"})}),l.jsxs("div",{className:"text-center space-y-6",children:[l.jsx(U.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.3,type:"spring",duration:1},className:"flex justify-center",children:l.jsxs("div",{className:"w-32 h-32 border-4 flex items-center justify-center relative",style:{borderColor:Fo[r],backgroundColor:`${Fo[r]}20`},children:[l.jsx(d,{className:"w-16 h-16",style:{color:Fo[r]}}),l.jsx(U.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{repeat:1/0,duration:2},className:"absolute inset-0 border-4",style:{borderColor:Fo[r],filter:"blur(8px)"}})]})}),l.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-2",children:[l.jsx("h2",{className:"text-[#FF7A59] uppercase tracking-wider",children:"Rank Up!"}),l.jsx("div",{className:"space-y-1",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("span",{className:"text-white/60 line-through",children:e}),l.jsx("span",{className:"text-[#8A4FFF]",children:""}),l.jsx("span",{className:"text-2xl font-black uppercase tracking-tight",style:{color:Fo[r]},children:r})]})})]}),l.jsxs(U.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7},className:"bg-[#8A4FFF]/10 border-2 border-[#8A4FFF] p-4",children:[l.jsx("div",{className:"text-white/60 uppercase tracking-wider mb-1",children:"Total XP"}),l.jsx("div",{className:"text-3xl font-black text-[#8A4FFF]",children:s.toLocaleString()})]}),l.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},className:"text-white/80",children:"You're moving up! Keep hustling to unlock more perks and higher commissions."}),l.jsx(U.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},onClick:o,className:"w-full bg-[#8A4FFF] hover:bg-[#7a3fee] text-white py-3 px-6 border-4 border-black font-black uppercase tracking-tight transition-colors",children:"Let's Go!"})]})]})})]})})}function y4(){const t=Array.from({length:50}),e=["#8A4FFF","#FF7A59","#FFD700","#00FF00","#00FFFF","#FF00FF"];return l.jsx("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:t.map((r,s)=>l.jsx(U.div,{initial:{x:typeof window<"u"?Math.random()*window.innerWidth:0,y:-20,rotate:0,opacity:1},animate:{y:typeof window<"u"?window.innerHeight+20:1e3,x:typeof window<"u"?Math.random()*window.innerWidth+(Math.random()-.5)*200:0,rotate:Math.random()*720-360,opacity:[1,1,0]},transition:{duration:Math.random()*2+2,delay:Math.random()*.5,ease:"easeIn"},className:"absolute w-3 h-3",style:{backgroundColor:e[Math.floor(Math.random()*e.length)],transform:`rotate(${Math.random()*360}deg)`}},s))})}function v4(){const{user:t,streetUser:e,loading:r,error:s,needsContract:o,needsOnboarding:a,signIn:u,signOut:d,markOnboardingComplete:f}=k2(),[p,y]=k.useState("welcome"),[g,x]=k.useState(null),[b,w]=k.useState(null),[F,_]=k.useState(!1),[j,A]=k.useState(!1),[S,T]=k.useState(null);k.useEffect(()=>{D()},[]),k.useEffect(()=>{e&&M()},[e]),k.useEffect(()=>{const pe=Se=>{const{previousRank:Q,newRank:ee,totalXP:V}=Se.detail;T({previousRank:Q,newRank:ee,totalXP:V}),A(!0)};return window.addEventListener("rank-up",pe),()=>window.removeEventListener("rank-up",pe)},[]),k.useEffect(()=>{r||(t?o&&e?y("contract"):a?y("onboarding"):e&&(p==="welcome"||p==="login"||p==="contract"||p==="onboarding")&&y("dashboard"):y("welcome"))},[t,e,r,o,a]);async function D(){try{await j2(),_(!0)}catch(pe){console.error("Failed to initialize app:",pe),_(!0)}}async function M(){try{if(!Gl.isNativePlatform()){console.log("Push notifications not available on web");return}let pe=await ni.checkPermissions();if(pe.receive==="prompt"&&(pe=await ni.requestPermissions()),pe.receive!=="granted")throw new Error("User denied push notifications permission");await ni.register();const Se=await ni.getDeliveryTokens();if(Se.tokens.length>0){const Q=Se.tokens[0];if(console.log("Push token:",Q),e){const{createClient:ee}=await Ph(async()=>{const{createClient:re}=await Promise.resolve().then(()=>_2);return{createClient:re}},void 0);await ee().from("street_users").update({push_token:Q}).eq("id",e.id)}}ni.addListener("pushNotificationReceived",Q=>{if(console.log("Push received:",Q),Q.title){const{toast:ee}=require("sonner");ee.info(`${Q.title}: ${Q.body}`)}Q.data?.route&&y(Q.data.route)}),ni.addListener("pushNotificationActionPerformed",Q=>{console.log("Push action performed:",Q),Q.notification.data?.route&&y(Q.notification.data.route)})}catch(pe){console.error("Error initializing push notifications:",pe)}}async function B(pe,Se){console.log("handleLogin called with email:",pe);const{error:Q}=await u(pe,Se);if(console.log("signIn result - error:",Q),Q)throw console.error("Login error in handleLogin:",Q),Q}function O(pe){y(pe)}function X(){f(),y("dashboard")}function he(pe){x(pe),y("active-run")}function _e(){x(null),y("dashboard")}function te(){y(g?"active-run":"pipeline")}const fe=e&&!r&&["dashboard","pipeline","missions","leaderboard","profile"].includes(p);return!F||r?l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsxs("div",{className:"text-center px-6",children:[l.jsx("div",{className:"inline-block border-4 border-[#F6F2EE] p-8 mb-4 bg-[#151515] animate-pulse",children:l.jsx("h1",{className:"text-5xl font-black text-[#8A4FFF] tracking-tight",children:"PP"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm mb-4",children:"Loading..."}),s&&l.jsxs("div",{className:"mt-4 p-4 bg-[#FF4444] border-3 border-[#F6F2EE] text-[#F6F2EE] max-w-md mx-auto",children:[l.jsx("p",{className:"text-sm font-bold mb-2",children:"Error"}),l.jsx("p",{className:"text-xs",children:s}),l.jsx("button",{onClick:()=>window.location.reload(),className:"mt-3 px-4 py-2 bg-[#F6F2EE] text-[#050505] text-xs uppercase font-bold",children:"Retry"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsx(Z2,{position:"top-center",toastOptions:{style:{background:"#151515",color:"#F6F2EE",border:"3px solid #8A4FFF"}}}),l.jsxs("div",{className:"min-h-screen bg-[#050505]",children:[p==="welcome"&&l.jsx(XT,{onNavigateToLogin:()=>y("login"),onNavigateToApply:()=>y("apply")}),p==="login"&&l.jsx(t5,{onBack:()=>y("welcome"),onLogin:B}),p==="apply"&&l.jsx(n5,{onBack:()=>y("welcome")}),p==="contract"&&e&&l.jsx(j5,{userId:e.id,onComplete:()=>y("onboarding")}),p==="onboarding"&&l.jsx(S5,{onComplete:X}),e&&l.jsxs(l.Fragment,{children:[p==="dashboard"&&l.jsx(N5,{user:e,onNavigate:O}),p==="start-run"&&l.jsx(R5,{user:e,onBack:()=>y("dashboard"),onRunStarted:he}),p==="active-run"&&g&&l.jsx(L5,{runId:g,onBack:()=>y("dashboard"),onAddQuickLead:()=>y("add-lead"),onAddFullLead:()=>y("add-lead"),onEndRun:_e}),p==="pipeline"&&l.jsx(M5,{user:e,onBack:()=>y("dashboard"),onAddLead:()=>y("add-lead"),onViewLead:pe=>{w(pe),y("lead-details")}}),p==="lead-details"&&b&&l.jsx(q5,{leadId:b,user:e,onBack:()=>y("pipeline"),onLeadUpdated:()=>{}}),p==="add-lead"&&l.jsx(B5,{user:e,runId:g||void 0,onBack:()=>{y(g?"active-run":"pipeline")},onSuccess:te}),p==="missions"&&l.jsx(H5,{user:e,onBack:()=>y("dashboard")}),p==="leaderboard"&&l.jsx(K5,{user:e,onBack:()=>y("dashboard")}),p==="ranks"&&l.jsx(G5,{user:e,onBack:()=>y("dashboard")}),p==="profile"&&l.jsx(Y5,{user:e,onBack:()=>y("dashboard"),onSettings:()=>y("settings"),onLogout:async()=>{await d(),y("welcome")}}),p==="settings"&&l.jsx(d4,{user:e,onBack:()=>y("profile"),onNavigate:pe=>y(pe)}),p==="notifications"&&l.jsx(Q5,{user:e,onBack:()=>y("dashboard")}),p==="earnings"&&l.jsx(eP,{user:e,onBack:()=>y("dashboard")}),p==="hq-admin"&&e?.role==="hq_admin"&&l.jsx(h4,{})]}),fe&&l.jsx("div",{className:"pb-20",children:l.jsx(p4,{activeScreen:p,onNavigate:O})})]}),S&&l.jsx(g4,{isOpen:j,previousRank:S.previousRank,newRank:S.newRank,totalXP:S.totalXP,onClose:()=>{A(!1),T(null)}})]})}qE.createRoot(document.getElementById("root")).render(l.jsx(v4,{}));export{Iv as W};
