function Wv(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();function Th(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zE(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),r}var sd={exports:{}},xo={},id={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function WE(){if(pg)return Ne;pg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=g&&P[g]||P["@@iterator"],typeof P=="function"?P:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,F={};function _(P,z,K){this.props=P,this.context=z,this.refs=F,this.updater=K||b}_.prototype.isReactComponent={},_.prototype.setState=function(P,z){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,z,"setState")},_.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function j(){}j.prototype=_.prototype;function S(P,z,K){this.props=P,this.context=z,this.refs=F,this.updater=K||b}var A=S.prototype=new j;A.constructor=S,w(A,_.prototype),A.isPureReactComponent=!0;var T=Array.isArray,I=Object.prototype.hasOwnProperty,V={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function O(P,z,K){var J,ne={},ye=null,ge=null;if(z!=null)for(J in z.ref!==void 0&&(ge=z.ref),z.key!==void 0&&(ye=""+z.key),z)I.call(z,J)&&!M.hasOwnProperty(J)&&(ne[J]=z[J]);var ve=arguments.length-2;if(ve===1)ne.children=K;else if(1<ve){for(var Ce=Array(ve),We=0;We<ve;We++)Ce[We]=arguments[We+2];ne.children=Ce}if(P&&P.defaultProps)for(J in ve=P.defaultProps,ve)ne[J]===void 0&&(ne[J]=ve[J]);return{$$typeof:t,type:P,key:ye,ref:ge,props:ne,_owner:V.current}}function X(P,z){return{$$typeof:t,type:P.type,key:z,ref:P.ref,props:P.props,_owner:P._owner}}function le(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function Ee(P){var z={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(K){return z[K]})}var Z=/\/+/g;function ee(P,z){return typeof P=="object"&&P!==null&&P.key!=null?Ee(""+P.key):z.toString(36)}function je(P,z,K,J,ne){var ye=typeof P;(ye==="undefined"||ye==="boolean")&&(P=null);var ge=!1;if(P===null)ge=!0;else switch(ye){case"string":case"number":ge=!0;break;case"object":switch(P.$$typeof){case t:case e:ge=!0}}if(ge)return ge=P,ne=ne(ge),P=J===""?"."+ee(ge,0):J,T(ne)?(K="",P!=null&&(K=P.replace(Z,"$&/")+"/"),je(ne,z,K,"",function(We){return We})):ne!=null&&(le(ne)&&(ne=X(ne,K+(!ne.key||ge&&ge.key===ne.key?"":(""+ne.key).replace(Z,"$&/")+"/")+P)),z.push(ne)),1;if(ge=0,J=J===""?".":J+":",T(P))for(var ve=0;ve<P.length;ve++){ye=P[ve];var Ce=J+ee(ye,ve);ge+=je(ye,z,K,Ce,ne)}else if(Ce=x(P),typeof Ce=="function")for(P=Ce.call(P),ve=0;!(ye=P.next()).done;)ye=ye.value,Ce=J+ee(ye,ve++),ge+=je(ye,z,K,Ce,ne);else if(ye==="object")throw z=String(P),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return ge}function pe(P,z,K){if(P==null)return P;var J=[],ne=0;return je(P,J,"","",function(ye){return z.call(K,ye,ne++)}),J}function oe(P){if(P._status===-1){var z=P._result;z=z(),z.then(function(K){(P._status===0||P._status===-1)&&(P._status=1,P._result=K)},function(K){(P._status===0||P._status===-1)&&(P._status=2,P._result=K)}),P._status===-1&&(P._status=0,P._result=z)}if(P._status===1)return P._result.default;throw P._result}var te={current:null},$={transition:null},re={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:$,ReactCurrentOwner:V};function W(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:pe,forEach:function(P,z,K){pe(P,function(){z.apply(this,arguments)},K)},count:function(P){var z=0;return pe(P,function(){z++}),z},toArray:function(P){return pe(P,function(z){return z})||[]},only:function(P){if(!le(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ne.Component=_,Ne.Fragment=r,Ne.Profiler=o,Ne.PureComponent=S,Ne.StrictMode=s,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Ne.act=W,Ne.cloneElement=function(P,z,K){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var J=w({},P.props),ne=P.key,ye=P.ref,ge=P._owner;if(z!=null){if(z.ref!==void 0&&(ye=z.ref,ge=V.current),z.key!==void 0&&(ne=""+z.key),P.type&&P.type.defaultProps)var ve=P.type.defaultProps;for(Ce in z)I.call(z,Ce)&&!M.hasOwnProperty(Ce)&&(J[Ce]=z[Ce]===void 0&&ve!==void 0?ve[Ce]:z[Ce])}var Ce=arguments.length-2;if(Ce===1)J.children=K;else if(1<Ce){ve=Array(Ce);for(var We=0;We<Ce;We++)ve[We]=arguments[We+2];J.children=ve}return{$$typeof:t,type:P.type,key:ne,ref:ye,props:J,_owner:ge}},Ne.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:a,_context:P},P.Consumer=P},Ne.createElement=O,Ne.createFactory=function(P){var z=O.bind(null,P);return z.type=P,z},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(P){return{$$typeof:d,render:P}},Ne.isValidElement=le,Ne.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:oe}},Ne.memo=function(P,z){return{$$typeof:p,type:P,compare:z===void 0?null:z}},Ne.startTransition=function(P){var z=$.transition;$.transition={};try{P()}finally{$.transition=z}},Ne.unstable_act=W,Ne.useCallback=function(P,z){return te.current.useCallback(P,z)},Ne.useContext=function(P){return te.current.useContext(P)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(P){return te.current.useDeferredValue(P)},Ne.useEffect=function(P,z){return te.current.useEffect(P,z)},Ne.useId=function(){return te.current.useId()},Ne.useImperativeHandle=function(P,z,K){return te.current.useImperativeHandle(P,z,K)},Ne.useInsertionEffect=function(P,z){return te.current.useInsertionEffect(P,z)},Ne.useLayoutEffect=function(P,z){return te.current.useLayoutEffect(P,z)},Ne.useMemo=function(P,z){return te.current.useMemo(P,z)},Ne.useReducer=function(P,z,K){return te.current.useReducer(P,z,K)},Ne.useRef=function(P){return te.current.useRef(P)},Ne.useState=function(P){return te.current.useState(P)},Ne.useSyncExternalStore=function(P,z,K){return te.current.useSyncExternalStore(P,z,K)},Ne.useTransition=function(){return te.current.useTransition()},Ne.version="18.3.1",Ne}var mg;function Ph(){return mg||(mg=1,id.exports=WE()),id.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function HE(){if(gg)return xo;gg=1;var t=Ph(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var v,g={},x=null,b=null;p!==void 0&&(x=""+p),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(b=f.ref);for(v in f)s.call(f,v)&&!a.hasOwnProperty(v)&&(g[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)g[v]===void 0&&(g[v]=f[v]);return{$$typeof:e,type:d,key:x,ref:b,props:g,_owner:o.current}}return xo.Fragment=r,xo.jsx=u,xo.jsxs=u,xo}var vg;function qE(){return vg||(vg=1,sd.exports=HE()),sd.exports}var l=qE(),fl={},od={exports:{}},Bt={},ad={exports:{}},ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function KE(){return yg||(yg=1,(function(t){function e($,re){var W=$.length;$.push(re);e:for(;0<W;){var P=W-1>>>1,z=$[P];if(0<o(z,re))$[P]=re,$[W]=z,W=P;else break e}}function r($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var re=$[0],W=$.pop();if(W!==re){$[0]=W;e:for(var P=0,z=$.length,K=z>>>1;P<K;){var J=2*(P+1)-1,ne=$[J],ye=J+1,ge=$[ye];if(0>o(ne,W))ye<z&&0>o(ge,ne)?($[P]=ge,$[ye]=W,P=ye):($[P]=ne,$[J]=W,P=J);else if(ye<z&&0>o(ge,W))$[P]=ge,$[ye]=W,P=ye;else break e}}return re}function o($,re){var W=$.sortIndex-re.sortIndex;return W!==0?W:$.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],v=1,g=null,x=3,b=!1,w=!1,F=!1,_=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A($){for(var re=r(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=$)s(p),re.sortIndex=re.expirationTime,e(f,re);else break;re=r(p)}}function T($){if(F=!1,A($),!w)if(r(f)!==null)w=!0,oe(I);else{var re=r(p);re!==null&&te(T,re.startTime-$)}}function I($,re){w=!1,F&&(F=!1,j(O),O=-1),b=!0;var W=x;try{for(A(re),g=r(f);g!==null&&(!(g.expirationTime>re)||$&&!Ee());){var P=g.callback;if(typeof P=="function"){g.callback=null,x=g.priorityLevel;var z=P(g.expirationTime<=re);re=t.unstable_now(),typeof z=="function"?g.callback=z:g===r(f)&&s(f),A(re)}else s(f);g=r(f)}if(g!==null)var K=!0;else{var J=r(p);J!==null&&te(T,J.startTime-re),K=!1}return K}finally{g=null,x=W,b=!1}}var V=!1,M=null,O=-1,X=5,le=-1;function Ee(){return!(t.unstable_now()-le<X)}function Z(){if(M!==null){var $=t.unstable_now();le=$;var re=!0;try{re=M(!0,$)}finally{re?ee():(V=!1,M=null)}}else V=!1}var ee;if(typeof S=="function")ee=function(){S(Z)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,pe=je.port2;je.port1.onmessage=Z,ee=function(){pe.postMessage(null)}}else ee=function(){_(Z,0)};function oe($){M=$,V||(V=!0,ee())}function te($,re){O=_(function(){$(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){w||b||(w=!0,oe(I))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function($){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var W=x;x=re;try{return $()}finally{x=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=x;x=$;try{return re()}finally{x=W}},t.unstable_scheduleCallback=function($,re,W){var P=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?P+W:P):W=P,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=W+z,$={id:v++,callback:re,priorityLevel:$,startTime:W,expirationTime:z,sortIndex:-1},W>P?($.sortIndex=W,e(p,$),r(f)===null&&$===r(p)&&(F?(j(O),O=-1):F=!0,te(T,W-P))):($.sortIndex=z,e(f,$),w||b||(w=!0,oe(I))),$},t.unstable_shouldYield=Ee,t.unstable_wrapCallback=function($){var re=x;return function(){var W=x;x=re;try{return $.apply(this,arguments)}finally{x=W}}}})(ld)),ld}var xg;function GE(){return xg||(xg=1,ad.exports=KE()),ad.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function YE(){if(bg)return Bt;bg=1;var t=Ph(),e=GE();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function x(n){return f.call(g,n)?!0:f.call(v,n)?!1:p.test(n)?g[n]=!0:(v[n]=!0,!1)}function b(n,i,c,h){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function w(n,i,c,h){if(i===null||typeof i>"u"||b(n,i,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function F(n,i,c,h,m,y,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=n,this.type=i,this.sanitizeURL=y,this.removeEmptyString=E}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){_[n]=new F(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];_[i]=new F(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){_[n]=new F(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){_[n]=new F(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){_[n]=new F(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){_[n]=new F(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){_[n]=new F(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){_[n]=new F(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){_[n]=new F(n,5,!1,n.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function S(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(j,S);_[i]=new F(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(j,S);_[i]=new F(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(j,S);_[i]=new F(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){_[n]=new F(n,1,!1,n.toLowerCase(),null,!1,!1)}),_.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){_[n]=new F(n,1,!1,n.toLowerCase(),null,!0,!0)});function A(n,i,c,h){var m=_.hasOwnProperty(i)?_[i]:null;(m!==null?m.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(w(i,c,m,h)&&(c=null),h||m===null?x(i)&&(c===null?n.removeAttribute(i):n.setAttribute(i,""+c)):m.mustUseProperty?n[m.propertyName]=c===null?m.type===3?!1:"":c:(i=m.attributeName,h=m.attributeNamespace,c===null?n.removeAttribute(i):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?n.setAttributeNS(h,i,c):n.setAttribute(i,c))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),V=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),Ee=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),$=Symbol.iterator;function re(n){return n===null||typeof n!="object"?null:(n=$&&n[$]||n["@@iterator"],typeof n=="function"?n:null)}var W=Object.assign,P;function z(n){if(P===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||""}return`
`+P+n}var K=!1;function J(n,i){if(!n||K)return"";K=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var h=B}Reflect.construct(n,[],i)}else{try{i.call()}catch(B){h=B}n.call(i.prototype)}else{try{throw Error()}catch(B){h=B}n()}}catch(B){if(B&&h&&typeof B.stack=="string"){for(var m=B.stack.split(`
`),y=h.stack.split(`
`),E=m.length-1,N=y.length-1;1<=E&&0<=N&&m[E]!==y[N];)N--;for(;1<=E&&0<=N;E--,N--)if(m[E]!==y[N]){if(E!==1||N!==1)do if(E--,N--,0>N||m[E]!==y[N]){var C=`
`+m[E].replace(" at new "," at ");return n.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",n.displayName)),C}while(1<=E&&0<=N);break}}}finally{K=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?z(n):""}function ne(n){switch(n.tag){case 5:return z(n.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return n=J(n.type,!1),n;case 11:return n=J(n.type.render,!1),n;case 1:return n=J(n.type,!0),n;default:return""}}function ye(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case V:return"Portal";case X:return"Profiler";case O:return"StrictMode";case ee:return"Suspense";case je:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ee:return(n.displayName||"Context")+".Consumer";case le:return(n._context.displayName||"Context")+".Provider";case Z:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case pe:return i=n.displayName||null,i!==null?i:ye(n.type)||"Memo";case oe:i=n._payload,n=n._init;try{return ye(n(i))}catch{}}return null}function ge(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(i);case 8:return i===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ve(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ce(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function We(n){var i=Ce(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),h=""+n[i];if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function qt(n){n._valueTracker||(n._valueTracker=We(n))}function Ot(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),h="";return n&&(h=Ce(n)?n.checked?"true":"false":n.value),n=h,n!==c?(i.setValue(n),!0):!1}function _s(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Wn(n,i){var c=i.checked;return W({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function ra(n,i){var c=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;c=ve(i.value!=null?i.value:c),n._wrapperState={initialChecked:h,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Pi(n,i){i=i.checked,i!=null&&A(n,"checked",i,!1)}function Ur(n,i){Pi(n,i);var c=ve(i.value),h=i.type;if(c!=null)h==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Kt(n,i.type,c):i.hasOwnProperty("defaultValue")&&Kt(n,i.type,ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Ri(n,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,c||i===n.value||(n.value=i),n.defaultValue=i}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function Kt(n,i,c){(i!=="number"||_s(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var Hn=Array.isArray;function an(n,i,c,h){if(n=n.options,i){i={};for(var m=0;m<c.length;m++)i["$"+c[m]]=!0;for(c=0;c<n.length;c++)m=i.hasOwnProperty("$"+n[c].value),n[c].selected!==m&&(n[c].selected=m),m&&h&&(n[c].defaultSelected=!0)}else{for(c=""+ve(c),i=null,m=0;m<n.length;m++){if(n[m].value===c){n[m].selected=!0,h&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function gt(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return W({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function zr(n,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(r(92));if(Hn(c)){if(1<c.length)throw Error(r(93));c=c[0]}i=c}i==null&&(i=""),c=i}n._wrapperState={initialValue:ve(c)}}function na(n,i){var c=ve(i.value),h=ve(i.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),i.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),h!=null&&(n.defaultValue=""+h)}function sa(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function qn(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oi(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?qn(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Kn,ks=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,h,m){MSApp.execUnsafeLocalFunction(function(){return n(i,c,h,m)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Kn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function sr(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cn=["Webkit","ms","Moz","O"];Object.keys(ln).forEach(function(n){cn.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),ln[i]=ln[n]})});function ia(n,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||ln.hasOwnProperty(n)&&ln[n]?(""+i).trim():i+"px"}function oa(n,i){n=n.style;for(var c in i)if(i.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=ia(c,i[c],h);c==="float"&&(c="cssFloat"),h?n.setProperty(c,m):n[c]=m}}var aa=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function js(n,i){if(i){if(aa[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Di(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gn=null;function ir(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ii=null,un=null,Wr=null;function Li(n){if(n=no(n)){if(typeof Ii!="function")throw Error(r(280));var i=n.stateNode;i&&(i=Sa(i),Ii(n.stateNode,n.type,i))}}function ke(n){un?Wr?Wr.push(n):Wr=[n]:un=n}function Je(){if(un){var n=un,i=Wr;if(Wr=un=null,Li(n),i)for(n=0;n<i.length;n++)Li(i[n])}}function ot(n,i){return n(i)}function Et(){}var dn=!1;function tt(n,i,c){if(dn)return n(i,c);dn=!0;try{return ot(n,i,c)}finally{dn=!1,(un!==null||Wr!==null)&&(Et(),Je())}}function ht(n,i){var c=n.stateNode;if(c===null)return null;var h=Sa(c);if(h===null)return null;c=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(r(231,i,typeof c));return c}var hn=!1;if(d)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){hn=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{hn=!1}function Gt(n,i,c,h,m,y,E,N,C){var B=Array.prototype.slice.call(arguments,3);try{i.apply(c,B)}catch(q){this.onError(q)}}var fn=!1,or=null,Mi=!1,Fc=null,Xw={onError:function(n){fn=!0,or=n}};function Jw(n,i,c,h,m,y,E,N,C){fn=!1,or=null,Gt.apply(Xw,arguments)}function Qw(n,i,c,h,m,y,E,N,C){if(Jw.apply(this,arguments),fn){if(fn){var B=or;fn=!1,or=null}else throw Error(r(198));Mi||(Mi=!0,Fc=B)}}function Yn(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function Lf(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Mf(n){if(Yn(n)!==n)throw Error(r(188))}function Zw(n){var i=n.alternate;if(!i){if(i=Yn(n),i===null)throw Error(r(188));return i!==n?null:n}for(var c=n,h=i;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return Mf(m),n;if(y===h)return Mf(m),i;y=y.sibling}throw Error(r(188))}if(c.return!==h.return)c=m,h=y;else{for(var E=!1,N=m.child;N;){if(N===c){E=!0,c=m,h=y;break}if(N===h){E=!0,h=m,c=y;break}N=N.sibling}if(!E){for(N=y.child;N;){if(N===c){E=!0,c=y,h=m;break}if(N===h){E=!0,h=y,c=m;break}N=N.sibling}if(!E)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?n:i}function $f(n){return n=Zw(n),n!==null?Bf(n):null}function Bf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Bf(n);if(i!==null)return i;n=n.sibling}return null}var Vf=e.unstable_scheduleCallback,Uf=e.unstable_cancelCallback,e1=e.unstable_shouldYield,t1=e.unstable_requestPaint,Qe=e.unstable_now,r1=e.unstable_getCurrentPriorityLevel,_c=e.unstable_ImmediatePriority,zf=e.unstable_UserBlockingPriority,la=e.unstable_NormalPriority,n1=e.unstable_LowPriority,Wf=e.unstable_IdlePriority,ca=null,Rr=null;function s1(n){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(ca,n,void 0,(n.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:a1,i1=Math.log,o1=Math.LN2;function a1(n){return n>>>=0,n===0?32:31-(i1(n)/o1|0)|0}var ua=64,da=4194304;function $i(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ha(n,i){var c=n.pendingLanes;if(c===0)return 0;var h=0,m=n.suspendedLanes,y=n.pingedLanes,E=c&268435455;if(E!==0){var N=E&~m;N!==0?h=$i(N):(y&=E,y!==0&&(h=$i(y)))}else E=c&~m,E!==0?h=$i(E):y!==0&&(h=$i(y));if(h===0)return 0;if(i!==0&&i!==h&&(i&m)===0&&(m=h&-h,y=i&-i,m>=y||m===16&&(y&4194240)!==0))return i;if((h&4)!==0&&(h|=c&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=h;0<i;)c=31-xr(i),m=1<<c,h|=n[c],i&=~m;return h}function l1(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c1(n,i){for(var c=n.suspendedLanes,h=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes;0<y;){var E=31-xr(y),N=1<<E,C=m[E];C===-1?((N&c)===0||(N&h)!==0)&&(m[E]=l1(N,i)):C<=i&&(n.expiredLanes|=N),y&=~N}}function kc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Hf(){var n=ua;return ua<<=1,(ua&4194240)===0&&(ua=64),n}function jc(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function Bi(n,i,c){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-xr(i),n[i]=c}function u1(n,i){var c=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<c;){var m=31-xr(c),y=1<<m;i[m]=0,h[m]=-1,n[m]=-1,c&=~y}}function Ac(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var h=31-xr(c),m=1<<h;m&i|n[h]&i&&(n[h]|=i),c&=~m}}var De=0;function qf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Kf,Sc,Gf,Yf,Xf,Nc=!1,fa=[],pn=null,mn=null,gn=null,Vi=new Map,Ui=new Map,vn=[],d1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jf(n,i){switch(n){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Vi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(i.pointerId)}}function zi(n,i,c,h,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},i!==null&&(i=no(i),i!==null&&Sc(i)),n):(n.eventSystemFlags|=h,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function h1(n,i,c,h,m){switch(i){case"focusin":return pn=zi(pn,n,i,c,h,m),!0;case"dragenter":return mn=zi(mn,n,i,c,h,m),!0;case"mouseover":return gn=zi(gn,n,i,c,h,m),!0;case"pointerover":var y=m.pointerId;return Vi.set(y,zi(Vi.get(y)||null,n,i,c,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Ui.set(y,zi(Ui.get(y)||null,n,i,c,h,m)),!0}return!1}function Qf(n){var i=Xn(n.target);if(i!==null){var c=Yn(i);if(c!==null){if(i=c.tag,i===13){if(i=Lf(c),i!==null){n.blockedOn=i,Xf(n.priority,function(){Gf(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pa(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=Tc(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var h=new c.constructor(c.type,c);Gn=h,c.target.dispatchEvent(h),Gn=null}else return i=no(c),i!==null&&Sc(i),n.blockedOn=c,!1;i.shift()}return!0}function Zf(n,i,c){pa(n)&&c.delete(i)}function f1(){Nc=!1,pn!==null&&pa(pn)&&(pn=null),mn!==null&&pa(mn)&&(mn=null),gn!==null&&pa(gn)&&(gn=null),Vi.forEach(Zf),Ui.forEach(Zf)}function Wi(n,i){n.blockedOn===i&&(n.blockedOn=null,Nc||(Nc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,f1)))}function Hi(n){function i(m){return Wi(m,n)}if(0<fa.length){Wi(fa[0],n);for(var c=1;c<fa.length;c++){var h=fa[c];h.blockedOn===n&&(h.blockedOn=null)}}for(pn!==null&&Wi(pn,n),mn!==null&&Wi(mn,n),gn!==null&&Wi(gn,n),Vi.forEach(i),Ui.forEach(i),c=0;c<vn.length;c++)h=vn[c],h.blockedOn===n&&(h.blockedOn=null);for(;0<vn.length&&(c=vn[0],c.blockedOn===null);)Qf(c),c.blockedOn===null&&vn.shift()}var As=T.ReactCurrentBatchConfig,ma=!0;function p1(n,i,c,h){var m=De,y=As.transition;As.transition=null;try{De=1,Cc(n,i,c,h)}finally{De=m,As.transition=y}}function m1(n,i,c,h){var m=De,y=As.transition;As.transition=null;try{De=4,Cc(n,i,c,h)}finally{De=m,As.transition=y}}function Cc(n,i,c,h){if(ma){var m=Tc(n,i,c,h);if(m===null)Gc(n,i,h,ga,c),Jf(n,h);else if(h1(m,n,i,c,h))h.stopPropagation();else if(Jf(n,h),i&4&&-1<d1.indexOf(n)){for(;m!==null;){var y=no(m);if(y!==null&&Kf(y),y=Tc(n,i,c,h),y===null&&Gc(n,i,h,ga,c),y===m)break;m=y}m!==null&&h.stopPropagation()}else Gc(n,i,h,null,c)}}var ga=null;function Tc(n,i,c,h){if(ga=null,n=ir(h),n=Xn(n),n!==null)if(i=Yn(n),i===null)n=null;else if(c=i.tag,c===13){if(n=Lf(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return ga=n,null}function ep(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r1()){case _c:return 1;case zf:return 4;case la:case n1:return 16;case Wf:return 536870912;default:return 16}default:return 16}}var yn=null,Pc=null,va=null;function tp(){if(va)return va;var n,i=Pc,c=i.length,h,m="value"in yn?yn.value:yn.textContent,y=m.length;for(n=0;n<c&&i[n]===m[n];n++);var E=c-n;for(h=1;h<=E&&i[c-h]===m[y-h];h++);return va=m.slice(n,1<h?1-h:void 0)}function ya(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function xa(){return!0}function rp(){return!1}function Yt(n){function i(c,h,m,y,E){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(c=n[N],this[N]=c?c(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xa:rp,this.isPropagationStopped=rp,this}return W(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),i}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rc=Yt(Ss),qi=W({},Ss,{view:0,detail:0}),g1=Yt(qi),Oc,Dc,Ki,ba=W({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ki&&(Ki&&n.type==="mousemove"?(Oc=n.screenX-Ki.screenX,Dc=n.screenY-Ki.screenY):Dc=Oc=0,Ki=n),Oc)},movementY:function(n){return"movementY"in n?n.movementY:Dc}}),np=Yt(ba),v1=W({},ba,{dataTransfer:0}),y1=Yt(v1),x1=W({},qi,{relatedTarget:0}),Ic=Yt(x1),b1=W({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),w1=Yt(b1),E1=W({},Ss,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),F1=Yt(E1),_1=W({},Ss,{data:0}),sp=Yt(_1),k1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S1(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=A1[n])?!!i[n]:!1}function Lc(){return S1}var N1=W({},qi,{key:function(n){if(n.key){var i=k1[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ya(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?j1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(n){return n.type==="keypress"?ya(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ya(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),C1=Yt(N1),T1=W({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ip=Yt(T1),P1=W({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),R1=Yt(P1),O1=W({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),D1=Yt(O1),I1=W({},ba,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),L1=Yt(I1),M1=[9,13,27,32],Mc=d&&"CompositionEvent"in window,Gi=null;d&&"documentMode"in document&&(Gi=document.documentMode);var $1=d&&"TextEvent"in window&&!Gi,op=d&&(!Mc||Gi&&8<Gi&&11>=Gi),ap=" ",lp=!1;function cp(n,i){switch(n){case"keyup":return M1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function up(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ns=!1;function B1(n,i){switch(n){case"compositionend":return up(i);case"keypress":return i.which!==32?null:(lp=!0,ap);case"textInput":return n=i.data,n===ap&&lp?null:n;default:return null}}function V1(n,i){if(Ns)return n==="compositionend"||!Mc&&cp(n,i)?(n=tp(),va=Pc=yn=null,Ns=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return op&&i.locale!=="ko"?null:i.data;default:return null}}var U1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!U1[n.type]:i==="textarea"}function hp(n,i,c,h){ke(h),i=ka(i,"onChange"),0<i.length&&(c=new Rc("onChange","change",null,c,h),n.push({event:c,listeners:i}))}var Yi=null,Xi=null;function z1(n){Cp(n,0)}function wa(n){var i=Os(n);if(Ot(i))return n}function W1(n,i){if(n==="change")return i}var fp=!1;if(d){var $c;if(d){var Bc="oninput"in document;if(!Bc){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),Bc=typeof pp.oninput=="function"}$c=Bc}else $c=!1;fp=$c&&(!document.documentMode||9<document.documentMode)}function mp(){Yi&&(Yi.detachEvent("onpropertychange",gp),Xi=Yi=null)}function gp(n){if(n.propertyName==="value"&&wa(Xi)){var i=[];hp(i,Xi,n,ir(n)),tt(z1,i)}}function H1(n,i,c){n==="focusin"?(mp(),Yi=i,Xi=c,Yi.attachEvent("onpropertychange",gp)):n==="focusout"&&mp()}function q1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return wa(Xi)}function K1(n,i){if(n==="click")return wa(i)}function G1(n,i){if(n==="input"||n==="change")return wa(i)}function Y1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var br=typeof Object.is=="function"?Object.is:Y1;function Ji(n,i){if(br(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),h=Object.keys(i);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!f.call(i,m)||!br(n[m],i[m]))return!1}return!0}function vp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function yp(n,i){var c=vp(n);n=0;for(var h;c;){if(c.nodeType===3){if(h=n+c.textContent.length,n<=i&&h>=i)return{node:c,offset:i-n};n=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=vp(c)}}function xp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?xp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function bp(){for(var n=window,i=_s();i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=_s(n.document)}return i}function Vc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function X1(n){var i=bp(),c=n.focusedElem,h=n.selectionRange;if(i!==c&&c&&c.ownerDocument&&xp(c.ownerDocument.documentElement,c)){if(h!==null&&Vc(c)){if(i=h.start,n=h.end,n===void 0&&(n=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(n,c.value.length);else if(n=(i=c.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var m=c.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!n.extend&&y>h&&(m=h,h=y,y=m),m=yp(c,y);var E=yp(c,h);m&&E&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),n.removeAllRanges(),y>h?(n.addRange(i),n.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),n.addRange(i)))}}for(i=[],n=c;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)n=i[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var J1=d&&"documentMode"in document&&11>=document.documentMode,Cs=null,Uc=null,Qi=null,zc=!1;function wp(n,i,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;zc||Cs==null||Cs!==_s(h)||(h=Cs,"selectionStart"in h&&Vc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Qi&&Ji(Qi,h)||(Qi=h,h=ka(Uc,"onSelect"),0<h.length&&(i=new Rc("onSelect","select",null,i,c),n.push({event:i,listeners:h}),i.target=Cs)))}function Ea(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Ts={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},Wc={},Ep={};d&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Fa(n){if(Wc[n])return Wc[n];if(!Ts[n])return n;var i=Ts[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in Ep)return Wc[n]=i[c];return n}var Fp=Fa("animationend"),_p=Fa("animationiteration"),kp=Fa("animationstart"),jp=Fa("transitionend"),Ap=new Map,Sp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(n,i){Ap.set(n,i),a(i,[n])}for(var Hc=0;Hc<Sp.length;Hc++){var qc=Sp[Hc],Q1=qc.toLowerCase(),Z1=qc[0].toUpperCase()+qc.slice(1);xn(Q1,"on"+Z1)}xn(Fp,"onAnimationEnd"),xn(_p,"onAnimationIteration"),xn(kp,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(jp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function Np(n,i,c){var h=n.type||"unknown-event";n.currentTarget=c,Qw(h,i,void 0,n),n.currentTarget=null}function Cp(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var h=n[c],m=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var E=h.length-1;0<=E;E--){var N=h[E],C=N.instance,B=N.currentTarget;if(N=N.listener,C!==y&&m.isPropagationStopped())break e;Np(m,N,B),y=C}else for(E=0;E<h.length;E++){if(N=h[E],C=N.instance,B=N.currentTarget,N=N.listener,C!==y&&m.isPropagationStopped())break e;Np(m,N,B),y=C}}}if(Mi)throw n=Fc,Mi=!1,Fc=null,n}function Be(n,i){var c=i[eu];c===void 0&&(c=i[eu]=new Set);var h=n+"__bubble";c.has(h)||(Tp(i,n,2,!1),c.add(h))}function Kc(n,i,c){var h=0;i&&(h|=4),Tp(c,n,h,i)}var _a="_reactListening"+Math.random().toString(36).slice(2);function eo(n){if(!n[_a]){n[_a]=!0,s.forEach(function(c){c!=="selectionchange"&&(eE.has(c)||Kc(c,!1,n),Kc(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[_a]||(i[_a]=!0,Kc("selectionchange",!1,i))}}function Tp(n,i,c,h){switch(ep(i)){case 1:var m=p1;break;case 4:m=m1;break;default:m=Cc}c=m.bind(null,i,c,n),m=void 0,!hn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),h?m!==void 0?n.addEventListener(i,c,{capture:!0,passive:m}):n.addEventListener(i,c,!0):m!==void 0?n.addEventListener(i,c,{passive:m}):n.addEventListener(i,c,!1)}function Gc(n,i,c,h,m){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var N=h.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(E===4)for(E=h.return;E!==null;){var C=E.tag;if((C===3||C===4)&&(C=E.stateNode.containerInfo,C===m||C.nodeType===8&&C.parentNode===m))return;E=E.return}for(;N!==null;){if(E=Xn(N),E===null)return;if(C=E.tag,C===5||C===6){h=y=E;continue e}N=N.parentNode}}h=h.return}tt(function(){var B=y,q=ir(c),G=[];e:{var H=Ap.get(n);if(H!==void 0){var se=Rc,ce=n;switch(n){case"keypress":if(ya(c)===0)break e;case"keydown":case"keyup":se=C1;break;case"focusin":ce="focus",se=Ic;break;case"focusout":ce="blur",se=Ic;break;case"beforeblur":case"afterblur":se=Ic;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=y1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=R1;break;case Fp:case _p:case kp:se=w1;break;case jp:se=D1;break;case"scroll":se=g1;break;case"wheel":se=L1;break;case"copy":case"cut":case"paste":se=F1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=ip}var he=(i&4)!==0,Ze=!he&&n==="scroll",D=he?H!==null?H+"Capture":null:H;he=[];for(var R=B,L;R!==null;){L=R;var Y=L.stateNode;if(L.tag===5&&Y!==null&&(L=Y,D!==null&&(Y=ht(R,D),Y!=null&&he.push(to(R,Y,L)))),Ze)break;R=R.return}0<he.length&&(H=new se(H,ce,null,c,q),G.push({event:H,listeners:he}))}}if((i&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",H&&c!==Gn&&(ce=c.relatedTarget||c.fromElement)&&(Xn(ce)||ce[Hr]))break e;if((se||H)&&(H=q.window===q?q:(H=q.ownerDocument)?H.defaultView||H.parentWindow:window,se?(ce=c.relatedTarget||c.toElement,se=B,ce=ce?Xn(ce):null,ce!==null&&(Ze=Yn(ce),ce!==Ze||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=B),se!==ce)){if(he=np,Y="onMouseLeave",D="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(he=ip,Y="onPointerLeave",D="onPointerEnter",R="pointer"),Ze=se==null?H:Os(se),L=ce==null?H:Os(ce),H=new he(Y,R+"leave",se,c,q),H.target=Ze,H.relatedTarget=L,Y=null,Xn(q)===B&&(he=new he(D,R+"enter",ce,c,q),he.target=L,he.relatedTarget=Ze,Y=he),Ze=Y,se&&ce)t:{for(he=se,D=ce,R=0,L=he;L;L=Ps(L))R++;for(L=0,Y=D;Y;Y=Ps(Y))L++;for(;0<R-L;)he=Ps(he),R--;for(;0<L-R;)D=Ps(D),L--;for(;R--;){if(he===D||D!==null&&he===D.alternate)break t;he=Ps(he),D=Ps(D)}he=null}else he=null;se!==null&&Pp(G,H,se,he,!1),ce!==null&&Ze!==null&&Pp(G,Ze,ce,he,!0)}}e:{if(H=B?Os(B):window,se=H.nodeName&&H.nodeName.toLowerCase(),se==="select"||se==="input"&&H.type==="file")var fe=W1;else if(dp(H))if(fp)fe=G1;else{fe=q1;var xe=H1}else(se=H.nodeName)&&se.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(fe=K1);if(fe&&(fe=fe(n,B))){hp(G,fe,c,q);break e}xe&&xe(n,H,B),n==="focusout"&&(xe=H._wrapperState)&&xe.controlled&&H.type==="number"&&Kt(H,"number",H.value)}switch(xe=B?Os(B):window,n){case"focusin":(dp(xe)||xe.contentEditable==="true")&&(Cs=xe,Uc=B,Qi=null);break;case"focusout":Qi=Uc=Cs=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,wp(G,c,q);break;case"selectionchange":if(J1)break;case"keydown":case"keyup":wp(G,c,q)}var be;if(Mc)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ns?cp(n,c)&&(_e="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(_e="onCompositionStart");_e&&(op&&c.locale!=="ko"&&(Ns||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ns&&(be=tp()):(yn=q,Pc="value"in yn?yn.value:yn.textContent,Ns=!0)),xe=ka(B,_e),0<xe.length&&(_e=new sp(_e,n,null,c,q),G.push({event:_e,listeners:xe}),be?_e.data=be:(be=up(c),be!==null&&(_e.data=be)))),(be=$1?B1(n,c):V1(n,c))&&(B=ka(B,"onBeforeInput"),0<B.length&&(q=new sp("onBeforeInput","beforeinput",null,c,q),G.push({event:q,listeners:B}),q.data=be))}Cp(G,i)})}function to(n,i,c){return{instance:n,listener:i,currentTarget:c}}function ka(n,i){for(var c=i+"Capture",h=[];n!==null;){var m=n,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=ht(n,c),y!=null&&h.unshift(to(n,y,m)),y=ht(n,i),y!=null&&h.push(to(n,y,m))),n=n.return}return h}function Ps(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Pp(n,i,c,h,m){for(var y=i._reactName,E=[];c!==null&&c!==h;){var N=c,C=N.alternate,B=N.stateNode;if(C!==null&&C===h)break;N.tag===5&&B!==null&&(N=B,m?(C=ht(c,y),C!=null&&E.unshift(to(c,C,N))):m||(C=ht(c,y),C!=null&&E.push(to(c,C,N)))),c=c.return}E.length!==0&&n.push({event:i,listeners:E})}var tE=/\r\n?/g,rE=/\u0000|\uFFFD/g;function Rp(n){return(typeof n=="string"?n:""+n).replace(tE,`
`).replace(rE,"")}function ja(n,i,c){if(i=Rp(i),Rp(n)!==i&&c)throw Error(r(425))}function Aa(){}var Yc=null,Xc=null;function Jc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qc=typeof setTimeout=="function"?setTimeout:void 0,nE=typeof clearTimeout=="function"?clearTimeout:void 0,Op=typeof Promise=="function"?Promise:void 0,sE=typeof queueMicrotask=="function"?queueMicrotask:typeof Op<"u"?function(n){return Op.resolve(null).then(n).catch(iE)}:Qc;function iE(n){setTimeout(function(){throw n})}function Zc(n,i){var c=i,h=0;do{var m=c.nextSibling;if(n.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){n.removeChild(m),Hi(i);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);Hi(i)}function bn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Dp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),Or="__reactFiber$"+Rs,ro="__reactProps$"+Rs,Hr="__reactContainer$"+Rs,eu="__reactEvents$"+Rs,oE="__reactListeners$"+Rs,aE="__reactHandles$"+Rs;function Xn(n){var i=n[Or];if(i)return i;for(var c=n.parentNode;c;){if(i=c[Hr]||c[Or]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=Dp(n);n!==null;){if(c=n[Or])return c;n=Dp(n)}return i}n=c,c=n.parentNode}return null}function no(n){return n=n[Or]||n[Hr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Os(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Sa(n){return n[ro]||null}var tu=[],Ds=-1;function wn(n){return{current:n}}function Ve(n){0>Ds||(n.current=tu[Ds],tu[Ds]=null,Ds--)}function Me(n,i){Ds++,tu[Ds]=n.current,n.current=i}var En={},Ft=wn(En),Dt=wn(!1),Jn=En;function Is(n,i){var c=n.type.contextTypes;if(!c)return En;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in c)m[y]=i[y];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=m),m}function It(n){return n=n.childContextTypes,n!=null}function Na(){Ve(Dt),Ve(Ft)}function Ip(n,i,c){if(Ft.current!==En)throw Error(r(168));Me(Ft,i),Me(Dt,c)}function Lp(n,i,c){var h=n.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in i))throw Error(r(108,ge(n)||"Unknown",m));return W({},c,h)}function Ca(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||En,Jn=Ft.current,Me(Ft,n),Me(Dt,Dt.current),!0}function Mp(n,i,c){var h=n.stateNode;if(!h)throw Error(r(169));c?(n=Lp(n,i,Jn),h.__reactInternalMemoizedMergedChildContext=n,Ve(Dt),Ve(Ft),Me(Ft,n)):Ve(Dt),Me(Dt,c)}var qr=null,Ta=!1,ru=!1;function $p(n){qr===null?qr=[n]:qr.push(n)}function lE(n){Ta=!0,$p(n)}function Fn(){if(!ru&&qr!==null){ru=!0;var n=0,i=De;try{var c=qr;for(De=1;n<c.length;n++){var h=c[n];do h=h(!0);while(h!==null)}qr=null,Ta=!1}catch(m){throw qr!==null&&(qr=qr.slice(n+1)),Vf(_c,Fn),m}finally{De=i,ru=!1}}return null}var Ls=[],Ms=0,Pa=null,Ra=0,ar=[],lr=0,Qn=null,Kr=1,Gr="";function Zn(n,i){Ls[Ms++]=Ra,Ls[Ms++]=Pa,Pa=n,Ra=i}function Bp(n,i,c){ar[lr++]=Kr,ar[lr++]=Gr,ar[lr++]=Qn,Qn=n;var h=Kr;n=Gr;var m=32-xr(h)-1;h&=~(1<<m),c+=1;var y=32-xr(i)+m;if(30<y){var E=m-m%5;y=(h&(1<<E)-1).toString(32),h>>=E,m-=E,Kr=1<<32-xr(i)+m|c<<m|h,Gr=y+n}else Kr=1<<y|c<<m|h,Gr=n}function nu(n){n.return!==null&&(Zn(n,1),Bp(n,1,0))}function su(n){for(;n===Pa;)Pa=Ls[--Ms],Ls[Ms]=null,Ra=Ls[--Ms],Ls[Ms]=null;for(;n===Qn;)Qn=ar[--lr],ar[lr]=null,Gr=ar[--lr],ar[lr]=null,Kr=ar[--lr],ar[lr]=null}var Xt=null,Jt=null,Ue=!1,wr=null;function Vp(n,i){var c=hr(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=n,i=n.deletions,i===null?(n.deletions=[c],n.flags|=16):i.push(c)}function Up(n,i){switch(n.tag){case 5:var c=n.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Xt=n,Jt=bn(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Xt=n,Jt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Qn!==null?{id:Kr,overflow:Gr}:null,n.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=hr(18,null,null,0),c.stateNode=i,c.return=n,n.child=c,Xt=n,Jt=null,!0):!1;default:return!1}}function iu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ou(n){if(Ue){var i=Jt;if(i){var c=i;if(!Up(n,i)){if(iu(n))throw Error(r(418));i=bn(c.nextSibling);var h=Xt;i&&Up(n,i)?Vp(h,c):(n.flags=n.flags&-4097|2,Ue=!1,Xt=n)}}else{if(iu(n))throw Error(r(418));n.flags=n.flags&-4097|2,Ue=!1,Xt=n}}}function zp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Xt=n}function Oa(n){if(n!==Xt)return!1;if(!Ue)return zp(n),Ue=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Jc(n.type,n.memoizedProps)),i&&(i=Jt)){if(iu(n))throw Wp(),Error(r(418));for(;i;)Vp(n,i),i=bn(i.nextSibling)}if(zp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(i===0){Jt=bn(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}n=n.nextSibling}Jt=null}}else Jt=Xt?bn(n.stateNode.nextSibling):null;return!0}function Wp(){for(var n=Jt;n;)n=bn(n.nextSibling)}function $s(){Jt=Xt=null,Ue=!1}function au(n){wr===null?wr=[n]:wr.push(n)}var cE=T.ReactCurrentBatchConfig;function so(n,i,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var h=c.stateNode}if(!h)throw Error(r(147,n));var m=h,y=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(E){var N=m.refs;E===null?delete N[y]:N[y]=E},i._stringRef=y,i)}if(typeof n!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,n))}return n}function Da(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Hp(n){var i=n._init;return i(n._payload)}function qp(n){function i(D,R){if(n){var L=D.deletions;L===null?(D.deletions=[R],D.flags|=16):L.push(R)}}function c(D,R){if(!n)return null;for(;R!==null;)i(D,R),R=R.sibling;return null}function h(D,R){for(D=new Map;R!==null;)R.key!==null?D.set(R.key,R):D.set(R.index,R),R=R.sibling;return D}function m(D,R){return D=Tn(D,R),D.index=0,D.sibling=null,D}function y(D,R,L){return D.index=L,n?(L=D.alternate,L!==null?(L=L.index,L<R?(D.flags|=2,R):L):(D.flags|=2,R)):(D.flags|=1048576,R)}function E(D){return n&&D.alternate===null&&(D.flags|=2),D}function N(D,R,L,Y){return R===null||R.tag!==6?(R=Qu(L,D.mode,Y),R.return=D,R):(R=m(R,L),R.return=D,R)}function C(D,R,L,Y){var fe=L.type;return fe===M?q(D,R,L.props.children,Y,L.key):R!==null&&(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===oe&&Hp(fe)===R.type)?(Y=m(R,L.props),Y.ref=so(D,R,L),Y.return=D,Y):(Y=il(L.type,L.key,L.props,null,D.mode,Y),Y.ref=so(D,R,L),Y.return=D,Y)}function B(D,R,L,Y){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=Zu(L,D.mode,Y),R.return=D,R):(R=m(R,L.children||[]),R.return=D,R)}function q(D,R,L,Y,fe){return R===null||R.tag!==7?(R=as(L,D.mode,Y,fe),R.return=D,R):(R=m(R,L),R.return=D,R)}function G(D,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return R=Qu(""+R,D.mode,L),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case I:return L=il(R.type,R.key,R.props,null,D.mode,L),L.ref=so(D,null,R),L.return=D,L;case V:return R=Zu(R,D.mode,L),R.return=D,R;case oe:var Y=R._init;return G(D,Y(R._payload),L)}if(Hn(R)||re(R))return R=as(R,D.mode,L,null),R.return=D,R;Da(D,R)}return null}function H(D,R,L,Y){var fe=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return fe!==null?null:N(D,R,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return L.key===fe?C(D,R,L,Y):null;case V:return L.key===fe?B(D,R,L,Y):null;case oe:return fe=L._init,H(D,R,fe(L._payload),Y)}if(Hn(L)||re(L))return fe!==null?null:q(D,R,L,Y,null);Da(D,L)}return null}function se(D,R,L,Y,fe){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return D=D.get(L)||null,N(R,D,""+Y,fe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case I:return D=D.get(Y.key===null?L:Y.key)||null,C(R,D,Y,fe);case V:return D=D.get(Y.key===null?L:Y.key)||null,B(R,D,Y,fe);case oe:var xe=Y._init;return se(D,R,L,xe(Y._payload),fe)}if(Hn(Y)||re(Y))return D=D.get(L)||null,q(R,D,Y,fe,null);Da(R,Y)}return null}function ce(D,R,L,Y){for(var fe=null,xe=null,be=R,_e=R=0,mt=null;be!==null&&_e<L.length;_e++){be.index>_e?(mt=be,be=null):mt=be.sibling;var Re=H(D,be,L[_e],Y);if(Re===null){be===null&&(be=mt);break}n&&be&&Re.alternate===null&&i(D,be),R=y(Re,R,_e),xe===null?fe=Re:xe.sibling=Re,xe=Re,be=mt}if(_e===L.length)return c(D,be),Ue&&Zn(D,_e),fe;if(be===null){for(;_e<L.length;_e++)be=G(D,L[_e],Y),be!==null&&(R=y(be,R,_e),xe===null?fe=be:xe.sibling=be,xe=be);return Ue&&Zn(D,_e),fe}for(be=h(D,be);_e<L.length;_e++)mt=se(be,D,_e,L[_e],Y),mt!==null&&(n&&mt.alternate!==null&&be.delete(mt.key===null?_e:mt.key),R=y(mt,R,_e),xe===null?fe=mt:xe.sibling=mt,xe=mt);return n&&be.forEach(function(Pn){return i(D,Pn)}),Ue&&Zn(D,_e),fe}function he(D,R,L,Y){var fe=re(L);if(typeof fe!="function")throw Error(r(150));if(L=fe.call(L),L==null)throw Error(r(151));for(var xe=fe=null,be=R,_e=R=0,mt=null,Re=L.next();be!==null&&!Re.done;_e++,Re=L.next()){be.index>_e?(mt=be,be=null):mt=be.sibling;var Pn=H(D,be,Re.value,Y);if(Pn===null){be===null&&(be=mt);break}n&&be&&Pn.alternate===null&&i(D,be),R=y(Pn,R,_e),xe===null?fe=Pn:xe.sibling=Pn,xe=Pn,be=mt}if(Re.done)return c(D,be),Ue&&Zn(D,_e),fe;if(be===null){for(;!Re.done;_e++,Re=L.next())Re=G(D,Re.value,Y),Re!==null&&(R=y(Re,R,_e),xe===null?fe=Re:xe.sibling=Re,xe=Re);return Ue&&Zn(D,_e),fe}for(be=h(D,be);!Re.done;_e++,Re=L.next())Re=se(be,D,_e,Re.value,Y),Re!==null&&(n&&Re.alternate!==null&&be.delete(Re.key===null?_e:Re.key),R=y(Re,R,_e),xe===null?fe=Re:xe.sibling=Re,xe=Re);return n&&be.forEach(function(UE){return i(D,UE)}),Ue&&Zn(D,_e),fe}function Ze(D,R,L,Y){if(typeof L=="object"&&L!==null&&L.type===M&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case I:e:{for(var fe=L.key,xe=R;xe!==null;){if(xe.key===fe){if(fe=L.type,fe===M){if(xe.tag===7){c(D,xe.sibling),R=m(xe,L.props.children),R.return=D,D=R;break e}}else if(xe.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===oe&&Hp(fe)===xe.type){c(D,xe.sibling),R=m(xe,L.props),R.ref=so(D,xe,L),R.return=D,D=R;break e}c(D,xe);break}else i(D,xe);xe=xe.sibling}L.type===M?(R=as(L.props.children,D.mode,Y,L.key),R.return=D,D=R):(Y=il(L.type,L.key,L.props,null,D.mode,Y),Y.ref=so(D,R,L),Y.return=D,D=Y)}return E(D);case V:e:{for(xe=L.key;R!==null;){if(R.key===xe)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){c(D,R.sibling),R=m(R,L.children||[]),R.return=D,D=R;break e}else{c(D,R);break}else i(D,R);R=R.sibling}R=Zu(L,D.mode,Y),R.return=D,D=R}return E(D);case oe:return xe=L._init,Ze(D,R,xe(L._payload),Y)}if(Hn(L))return ce(D,R,L,Y);if(re(L))return he(D,R,L,Y);Da(D,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,R!==null&&R.tag===6?(c(D,R.sibling),R=m(R,L),R.return=D,D=R):(c(D,R),R=Qu(L,D.mode,Y),R.return=D,D=R),E(D)):c(D,R)}return Ze}var Bs=qp(!0),Kp=qp(!1),Ia=wn(null),La=null,Vs=null,lu=null;function cu(){lu=Vs=La=null}function uu(n){var i=Ia.current;Ve(Ia),n._currentValue=i}function du(n,i,c){for(;n!==null;){var h=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),n===c)break;n=n.return}}function Us(n,i){La=n,lu=Vs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Lt=!0),n.firstContext=null)}function cr(n){var i=n._currentValue;if(lu!==n)if(n={context:n,memoizedValue:i,next:null},Vs===null){if(La===null)throw Error(r(308));Vs=n,La.dependencies={lanes:0,firstContext:n}}else Vs=Vs.next=n;return i}var es=null;function hu(n){es===null?es=[n]:es.push(n)}function Gp(n,i,c,h){var m=i.interleaved;return m===null?(c.next=c,hu(i)):(c.next=m.next,m.next=c),i.interleaved=c,Yr(n,h)}function Yr(n,i){n.lanes|=i;var c=n.alternate;for(c!==null&&(c.lanes|=i),c=n,n=n.return;n!==null;)n.childLanes|=i,c=n.alternate,c!==null&&(c.childLanes|=i),c=n,n=n.return;return c.tag===3?c.stateNode:null}var _n=!1;function fu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Xr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function kn(n,i,c){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Pe&2)!==0){var m=h.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),h.pending=i,Yr(n,c)}return m=h.interleaved,m===null?(i.next=i,hu(h)):(i.next=m.next,m.next=i),h.interleaved=i,Yr(n,c)}function Ma(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var h=i.lanes;h&=n.pendingLanes,c|=h,i.lanes=c,Ac(n,c)}}function Xp(n,i){var c=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var E={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?m=y=E:y=y.next=E,c=c.next}while(c!==null);y===null?m=y=i:y=y.next=i}else m=y=i;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function $a(n,i,c,h){var m=n.updateQueue;_n=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var C=N,B=C.next;C.next=null,E===null?y=B:E.next=B,E=C;var q=n.alternate;q!==null&&(q=q.updateQueue,N=q.lastBaseUpdate,N!==E&&(N===null?q.firstBaseUpdate=B:N.next=B,q.lastBaseUpdate=C))}if(y!==null){var G=m.baseState;E=0,q=B=C=null,N=y;do{var H=N.lane,se=N.eventTime;if((h&H)===H){q!==null&&(q=q.next={eventTime:se,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ce=n,he=N;switch(H=i,se=c,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){G=ce.call(se,G,H);break e}G=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,H=typeof ce=="function"?ce.call(se,G,H):ce,H==null)break e;G=W({},G,H);break e;case 2:_n=!0}}N.callback!==null&&N.lane!==0&&(n.flags|=64,H=m.effects,H===null?m.effects=[N]:H.push(N))}else se={eventTime:se,lane:H,tag:N.tag,payload:N.payload,callback:N.callback,next:null},q===null?(B=q=se,C=G):q=q.next=se,E|=H;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;H=N,N=H.next,H.next=null,m.lastBaseUpdate=H,m.shared.pending=null}}while(!0);if(q===null&&(C=G),m.baseState=C,m.firstBaseUpdate=B,m.lastBaseUpdate=q,i=m.shared.interleaved,i!==null){m=i;do E|=m.lane,m=m.next;while(m!==i)}else y===null&&(m.shared.lanes=0);ns|=E,n.lanes=E,n.memoizedState=G}}function Jp(n,i,c){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var h=n[i],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(r(191,m));m.call(h)}}}var io={},Dr=wn(io),oo=wn(io),ao=wn(io);function ts(n){if(n===io)throw Error(r(174));return n}function pu(n,i){switch(Me(ao,i),Me(oo,n),Me(Dr,io),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Oi(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Oi(i,n)}Ve(Dr),Me(Dr,i)}function zs(){Ve(Dr),Ve(oo),Ve(ao)}function Qp(n){ts(ao.current);var i=ts(Dr.current),c=Oi(i,n.type);i!==c&&(Me(oo,n),Me(Dr,c))}function mu(n){oo.current===n&&(Ve(Dr),Ve(oo))}var He=wn(0);function Ba(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var gu=[];function vu(){for(var n=0;n<gu.length;n++)gu[n]._workInProgressVersionPrimary=null;gu.length=0}var Va=T.ReactCurrentDispatcher,yu=T.ReactCurrentBatchConfig,rs=0,qe=null,at=null,ft=null,Ua=!1,lo=!1,co=0,uE=0;function _t(){throw Error(r(321))}function xu(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!br(n[c],i[c]))return!1;return!0}function bu(n,i,c,h,m,y){if(rs=y,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Va.current=n===null||n.memoizedState===null?pE:mE,n=c(h,m),lo){y=0;do{if(lo=!1,co=0,25<=y)throw Error(r(301));y+=1,ft=at=null,i.updateQueue=null,Va.current=gE,n=c(h,m)}while(lo)}if(Va.current=Ha,i=at!==null&&at.next!==null,rs=0,ft=at=qe=null,Ua=!1,i)throw Error(r(300));return n}function wu(){var n=co!==0;return co=0,n}function Ir(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?qe.memoizedState=ft=n:ft=ft.next=n,ft}function ur(){if(at===null){var n=qe.alternate;n=n!==null?n.memoizedState:null}else n=at.next;var i=ft===null?qe.memoizedState:ft.next;if(i!==null)ft=i,at=n;else{if(n===null)throw Error(r(310));at=n,n={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ft===null?qe.memoizedState=ft=n:ft=ft.next=n}return ft}function uo(n,i){return typeof i=="function"?i(n):i}function Eu(n){var i=ur(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var h=at,m=h.baseQueue,y=c.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}h.baseQueue=m=y,c.pending=null}if(m!==null){y=m.next,h=h.baseState;var N=E=null,C=null,B=y;do{var q=B.lane;if((rs&q)===q)C!==null&&(C=C.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),h=B.hasEagerState?B.eagerState:n(h,B.action);else{var G={lane:q,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};C===null?(N=C=G,E=h):C=C.next=G,qe.lanes|=q,ns|=q}B=B.next}while(B!==null&&B!==y);C===null?E=h:C.next=N,br(h,i.memoizedState)||(Lt=!0),i.memoizedState=h,i.baseState=E,i.baseQueue=C,c.lastRenderedState=h}if(n=c.interleaved,n!==null){m=n;do y=m.lane,qe.lanes|=y,ns|=y,m=m.next;while(m!==n)}else m===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function Fu(n){var i=ur(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var h=c.dispatch,m=c.pending,y=i.memoizedState;if(m!==null){c.pending=null;var E=m=m.next;do y=n(y,E.action),E=E.next;while(E!==m);br(y,i.memoizedState)||(Lt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),c.lastRenderedState=y}return[y,h]}function Zp(){}function em(n,i){var c=qe,h=ur(),m=i(),y=!br(h.memoizedState,m);if(y&&(h.memoizedState=m,Lt=!0),h=h.queue,_u(nm.bind(null,c,h,n),[n]),h.getSnapshot!==i||y||ft!==null&&ft.memoizedState.tag&1){if(c.flags|=2048,ho(9,rm.bind(null,c,h,m,i),void 0,null),pt===null)throw Error(r(349));(rs&30)!==0||tm(c,i,m)}return m}function tm(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=qe.updateQueue,i===null?(i={lastEffect:null,stores:null},qe.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function rm(n,i,c,h){i.value=c,i.getSnapshot=h,sm(i)&&im(n)}function nm(n,i,c){return c(function(){sm(i)&&im(n)})}function sm(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!br(n,c)}catch{return!0}}function im(n){var i=Yr(n,1);i!==null&&kr(i,n,1,-1)}function om(n){var i=Ir();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:n},i.queue=n,n=n.dispatch=fE.bind(null,qe,n),[i.memoizedState,n]}function ho(n,i,c,h){return n={tag:n,create:i,destroy:c,deps:h,next:null},i=qe.updateQueue,i===null?(i={lastEffect:null,stores:null},qe.updateQueue=i,i.lastEffect=n.next=n):(c=i.lastEffect,c===null?i.lastEffect=n.next=n:(h=c.next,c.next=n,n.next=h,i.lastEffect=n)),n}function am(){return ur().memoizedState}function za(n,i,c,h){var m=Ir();qe.flags|=n,m.memoizedState=ho(1|i,c,void 0,h===void 0?null:h)}function Wa(n,i,c,h){var m=ur();h=h===void 0?null:h;var y=void 0;if(at!==null){var E=at.memoizedState;if(y=E.destroy,h!==null&&xu(h,E.deps)){m.memoizedState=ho(i,c,y,h);return}}qe.flags|=n,m.memoizedState=ho(1|i,c,y,h)}function lm(n,i){return za(8390656,8,n,i)}function _u(n,i){return Wa(2048,8,n,i)}function cm(n,i){return Wa(4,2,n,i)}function um(n,i){return Wa(4,4,n,i)}function dm(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function hm(n,i,c){return c=c!=null?c.concat([n]):null,Wa(4,4,dm.bind(null,i,n),c)}function ku(){}function fm(n,i){var c=ur();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&xu(i,h[1])?h[0]:(c.memoizedState=[n,i],n)}function pm(n,i){var c=ur();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&xu(i,h[1])?h[0]:(n=n(),c.memoizedState=[n,i],n)}function mm(n,i,c){return(rs&21)===0?(n.baseState&&(n.baseState=!1,Lt=!0),n.memoizedState=c):(br(c,i)||(c=Hf(),qe.lanes|=c,ns|=c,n.baseState=!0),i)}function dE(n,i){var c=De;De=c!==0&&4>c?c:4,n(!0);var h=yu.transition;yu.transition={};try{n(!1),i()}finally{De=c,yu.transition=h}}function gm(){return ur().memoizedState}function hE(n,i,c){var h=Nn(n);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},vm(n))ym(i,c);else if(c=Gp(n,i,c,h),c!==null){var m=Tt();kr(c,n,h,m),xm(c,i,h)}}function fE(n,i,c){var h=Nn(n),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(vm(n))ym(i,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,N=y(E,c);if(m.hasEagerState=!0,m.eagerState=N,br(N,E)){var C=i.interleaved;C===null?(m.next=m,hu(i)):(m.next=C.next,C.next=m),i.interleaved=m;return}}catch{}finally{}c=Gp(n,i,m,h),c!==null&&(m=Tt(),kr(c,n,h,m),xm(c,i,h))}}function vm(n){var i=n.alternate;return n===qe||i!==null&&i===qe}function ym(n,i){lo=Ua=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function xm(n,i,c){if((c&4194240)!==0){var h=i.lanes;h&=n.pendingLanes,c|=h,i.lanes=c,Ac(n,c)}}var Ha={readContext:cr,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},pE={readContext:cr,useCallback:function(n,i){return Ir().memoizedState=[n,i===void 0?null:i],n},useContext:cr,useEffect:lm,useImperativeHandle:function(n,i,c){return c=c!=null?c.concat([n]):null,za(4194308,4,dm.bind(null,i,n),c)},useLayoutEffect:function(n,i){return za(4194308,4,n,i)},useInsertionEffect:function(n,i){return za(4,2,n,i)},useMemo:function(n,i){var c=Ir();return i=i===void 0?null:i,n=n(),c.memoizedState=[n,i],n},useReducer:function(n,i,c){var h=Ir();return i=c!==void 0?c(i):i,h.memoizedState=h.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},h.queue=n,n=n.dispatch=hE.bind(null,qe,n),[h.memoizedState,n]},useRef:function(n){var i=Ir();return n={current:n},i.memoizedState=n},useState:om,useDebugValue:ku,useDeferredValue:function(n){return Ir().memoizedState=n},useTransition:function(){var n=om(!1),i=n[0];return n=dE.bind(null,n[1]),Ir().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,c){var h=qe,m=Ir();if(Ue){if(c===void 0)throw Error(r(407));c=c()}else{if(c=i(),pt===null)throw Error(r(349));(rs&30)!==0||tm(h,i,c)}m.memoizedState=c;var y={value:c,getSnapshot:i};return m.queue=y,lm(nm.bind(null,h,y,n),[n]),h.flags|=2048,ho(9,rm.bind(null,h,y,c,i),void 0,null),c},useId:function(){var n=Ir(),i=pt.identifierPrefix;if(Ue){var c=Gr,h=Kr;c=(h&~(1<<32-xr(h)-1)).toString(32)+c,i=":"+i+"R"+c,c=co++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=uE++,i=":"+i+"r"+c.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},mE={readContext:cr,useCallback:fm,useContext:cr,useEffect:_u,useImperativeHandle:hm,useInsertionEffect:cm,useLayoutEffect:um,useMemo:pm,useReducer:Eu,useRef:am,useState:function(){return Eu(uo)},useDebugValue:ku,useDeferredValue:function(n){var i=ur();return mm(i,at.memoizedState,n)},useTransition:function(){var n=Eu(uo)[0],i=ur().memoizedState;return[n,i]},useMutableSource:Zp,useSyncExternalStore:em,useId:gm,unstable_isNewReconciler:!1},gE={readContext:cr,useCallback:fm,useContext:cr,useEffect:_u,useImperativeHandle:hm,useInsertionEffect:cm,useLayoutEffect:um,useMemo:pm,useReducer:Fu,useRef:am,useState:function(){return Fu(uo)},useDebugValue:ku,useDeferredValue:function(n){var i=ur();return at===null?i.memoizedState=n:mm(i,at.memoizedState,n)},useTransition:function(){var n=Fu(uo)[0],i=ur().memoizedState;return[n,i]},useMutableSource:Zp,useSyncExternalStore:em,useId:gm,unstable_isNewReconciler:!1};function Er(n,i){if(n&&n.defaultProps){i=W({},i),n=n.defaultProps;for(var c in n)i[c]===void 0&&(i[c]=n[c]);return i}return i}function ju(n,i,c,h){i=n.memoizedState,c=c(h,i),c=c==null?i:W({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var qa={isMounted:function(n){return(n=n._reactInternals)?Yn(n)===n:!1},enqueueSetState:function(n,i,c){n=n._reactInternals;var h=Tt(),m=Nn(n),y=Xr(h,m);y.payload=i,c!=null&&(y.callback=c),i=kn(n,y,m),i!==null&&(kr(i,n,m,h),Ma(i,n,m))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var h=Tt(),m=Nn(n),y=Xr(h,m);y.tag=1,y.payload=i,c!=null&&(y.callback=c),i=kn(n,y,m),i!==null&&(kr(i,n,m,h),Ma(i,n,m))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=Tt(),h=Nn(n),m=Xr(c,h);m.tag=2,i!=null&&(m.callback=i),i=kn(n,m,h),i!==null&&(kr(i,n,h,c),Ma(i,n,h))}};function bm(n,i,c,h,m,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,y,E):i.prototype&&i.prototype.isPureReactComponent?!Ji(c,h)||!Ji(m,y):!0}function wm(n,i,c){var h=!1,m=En,y=i.contextType;return typeof y=="object"&&y!==null?y=cr(y):(m=It(i)?Jn:Ft.current,h=i.contextTypes,y=(h=h!=null)?Is(n,m):En),i=new i(c,y),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=qa,n.stateNode=i,i._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=y),i}function Em(n,i,c,h){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,h),i.state!==n&&qa.enqueueReplaceState(i,i.state,null)}function Au(n,i,c,h){var m=n.stateNode;m.props=c,m.state=n.memoizedState,m.refs={},fu(n);var y=i.contextType;typeof y=="object"&&y!==null?m.context=cr(y):(y=It(i)?Jn:Ft.current,m.context=Is(n,y)),m.state=n.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(ju(n,i,y,c),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&qa.enqueueReplaceState(m,m.state,null),$a(n,c,m,h),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function Ws(n,i){try{var c="",h=i;do c+=ne(h),h=h.return;while(h);var m=c}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:n,source:i,stack:m,digest:null}}function Su(n,i,c){return{value:n,source:null,stack:c??null,digest:i??null}}function Nu(n,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var vE=typeof WeakMap=="function"?WeakMap:Map;function Fm(n,i,c){c=Xr(-1,c),c.tag=3,c.payload={element:null};var h=i.value;return c.callback=function(){Za||(Za=!0,Wu=h),Nu(n,i)},c}function _m(n,i,c){c=Xr(-1,c),c.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var m=i.value;c.payload=function(){return h(m)},c.callback=function(){Nu(n,i)}}var y=n.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Nu(n,i),typeof h!="function"&&(An===null?An=new Set([this]):An.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),c}function km(n,i,c){var h=n.pingCache;if(h===null){h=n.pingCache=new vE;var m=new Set;h.set(i,m)}else m=h.get(i),m===void 0&&(m=new Set,h.set(i,m));m.has(c)||(m.add(c),n=TE.bind(null,n,i,c),i.then(n,n))}function jm(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Am(n,i,c,h,m){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Xr(-1,1),i.tag=2,kn(c,i,1))),c.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var yE=T.ReactCurrentOwner,Lt=!1;function Ct(n,i,c,h){i.child=n===null?Kp(i,null,c,h):Bs(i,n.child,c,h)}function Sm(n,i,c,h,m){c=c.render;var y=i.ref;return Us(i,m),h=bu(n,i,c,h,y,m),c=wu(),n!==null&&!Lt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,Jr(n,i,m)):(Ue&&c&&nu(i),i.flags|=1,Ct(n,i,h,m),i.child)}function Nm(n,i,c,h,m){if(n===null){var y=c.type;return typeof y=="function"&&!Ju(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=y,Cm(n,i,y,h,m)):(n=il(c.type,null,h,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,(n.lanes&m)===0){var E=y.memoizedProps;if(c=c.compare,c=c!==null?c:Ji,c(E,h)&&n.ref===i.ref)return Jr(n,i,m)}return i.flags|=1,n=Tn(y,h),n.ref=i.ref,n.return=i,i.child=n}function Cm(n,i,c,h,m){if(n!==null){var y=n.memoizedProps;if(Ji(y,h)&&n.ref===i.ref)if(Lt=!1,i.pendingProps=h=y,(n.lanes&m)!==0)(n.flags&131072)!==0&&(Lt=!0);else return i.lanes=n.lanes,Jr(n,i,m)}return Cu(n,i,c,h,m)}function Tm(n,i,c){var h=i.pendingProps,m=h.children,y=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(qs,Qt),Qt|=c;else{if((c&1073741824)===0)return n=y!==null?y.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Me(qs,Qt),Qt|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:c,Me(qs,Qt),Qt|=h}else y!==null?(h=y.baseLanes|c,i.memoizedState=null):h=c,Me(qs,Qt),Qt|=h;return Ct(n,i,m,c),i.child}function Pm(n,i){var c=i.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Cu(n,i,c,h,m){var y=It(c)?Jn:Ft.current;return y=Is(i,y),Us(i,m),c=bu(n,i,c,h,y,m),h=wu(),n!==null&&!Lt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,Jr(n,i,m)):(Ue&&h&&nu(i),i.flags|=1,Ct(n,i,c,m),i.child)}function Rm(n,i,c,h,m){if(It(c)){var y=!0;Ca(i)}else y=!1;if(Us(i,m),i.stateNode===null)Ga(n,i),wm(i,c,h),Au(i,c,h,m),h=!0;else if(n===null){var E=i.stateNode,N=i.memoizedProps;E.props=N;var C=E.context,B=c.contextType;typeof B=="object"&&B!==null?B=cr(B):(B=It(c)?Jn:Ft.current,B=Is(i,B));var q=c.getDerivedStateFromProps,G=typeof q=="function"||typeof E.getSnapshotBeforeUpdate=="function";G||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==h||C!==B)&&Em(i,E,h,B),_n=!1;var H=i.memoizedState;E.state=H,$a(i,h,E,m),C=i.memoizedState,N!==h||H!==C||Dt.current||_n?(typeof q=="function"&&(ju(i,c,q,h),C=i.memoizedState),(N=_n||bm(i,c,N,h,H,C,B))?(G||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=C),E.props=h,E.state=C,E.context=B,h=N):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{E=i.stateNode,Yp(n,i),N=i.memoizedProps,B=i.type===i.elementType?N:Er(i.type,N),E.props=B,G=i.pendingProps,H=E.context,C=c.contextType,typeof C=="object"&&C!==null?C=cr(C):(C=It(c)?Jn:Ft.current,C=Is(i,C));var se=c.getDerivedStateFromProps;(q=typeof se=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==G||H!==C)&&Em(i,E,h,C),_n=!1,H=i.memoizedState,E.state=H,$a(i,h,E,m);var ce=i.memoizedState;N!==G||H!==ce||Dt.current||_n?(typeof se=="function"&&(ju(i,c,se,h),ce=i.memoizedState),(B=_n||bm(i,c,B,h,H,ce,C)||!1)?(q||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ce,C),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ce,C)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||N===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ce),E.props=h,E.state=ce,E.context=C,h=B):(typeof E.componentDidUpdate!="function"||N===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),h=!1)}return Tu(n,i,c,h,y,m)}function Tu(n,i,c,h,m,y){Pm(n,i);var E=(i.flags&128)!==0;if(!h&&!E)return m&&Mp(i,c,!1),Jr(n,i,y);h=i.stateNode,yE.current=i;var N=E&&typeof c.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,n!==null&&E?(i.child=Bs(i,n.child,null,y),i.child=Bs(i,null,N,y)):Ct(n,i,N,y),i.memoizedState=h.state,m&&Mp(i,c,!0),i.child}function Om(n){var i=n.stateNode;i.pendingContext?Ip(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Ip(n,i.context,!1),pu(n,i.containerInfo)}function Dm(n,i,c,h,m){return $s(),au(m),i.flags|=256,Ct(n,i,c,h),i.child}var Pu={dehydrated:null,treeContext:null,retryLane:0};function Ru(n){return{baseLanes:n,cachePool:null,transitions:null}}function Im(n,i,c){var h=i.pendingProps,m=He.current,y=!1,E=(i.flags&128)!==0,N;if((N=E)||(N=n!==null&&n.memoizedState===null?!1:(m&2)!==0),N?(y=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),Me(He,m&1),n===null)return ou(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=h.children,n=h.fallback,y?(h=i.mode,y=i.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=ol(E,h,0,null),n=as(n,h,c,null),y.return=i,n.return=i,y.sibling=n,i.child=y,i.child.memoizedState=Ru(c),i.memoizedState=Pu,n):Ou(i,E));if(m=n.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return xE(n,i,E,h,N,m,c);if(y){y=h.fallback,E=i.mode,m=n.child,N=m.sibling;var C={mode:"hidden",children:h.children};return(E&1)===0&&i.child!==m?(h=i.child,h.childLanes=0,h.pendingProps=C,i.deletions=null):(h=Tn(m,C),h.subtreeFlags=m.subtreeFlags&14680064),N!==null?y=Tn(N,y):(y=as(y,E,c,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,E=n.child.memoizedState,E=E===null?Ru(c):{baseLanes:E.baseLanes|c,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=n.childLanes&~c,i.memoizedState=Pu,h}return y=n.child,n=y.sibling,h=Tn(y,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=c),h.return=i,h.sibling=null,n!==null&&(c=i.deletions,c===null?(i.deletions=[n],i.flags|=16):c.push(n)),i.child=h,i.memoizedState=null,h}function Ou(n,i){return i=ol({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Ka(n,i,c,h){return h!==null&&au(h),Bs(i,n.child,null,c),n=Ou(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function xE(n,i,c,h,m,y,E){if(c)return i.flags&256?(i.flags&=-257,h=Su(Error(r(422))),Ka(n,i,E,h)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(y=h.fallback,m=i.mode,h=ol({mode:"visible",children:h.children},m,0,null),y=as(y,m,E,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,(i.mode&1)!==0&&Bs(i,n.child,null,E),i.child.memoizedState=Ru(E),i.memoizedState=Pu,y);if((i.mode&1)===0)return Ka(n,i,E,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var N=h.dgst;return h=N,y=Error(r(419)),h=Su(y,h,void 0),Ka(n,i,E,h)}if(N=(E&n.childLanes)!==0,Lt||N){if(h=pt,h!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|E))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Yr(n,m),kr(h,n,m,-1))}return Xu(),h=Su(Error(r(421))),Ka(n,i,E,h)}return m.data==="$?"?(i.flags|=128,i.child=n.child,i=PE.bind(null,n),m._reactRetry=i,null):(n=y.treeContext,Jt=bn(m.nextSibling),Xt=i,Ue=!0,wr=null,n!==null&&(ar[lr++]=Kr,ar[lr++]=Gr,ar[lr++]=Qn,Kr=n.id,Gr=n.overflow,Qn=i),i=Ou(i,h.children),i.flags|=4096,i)}function Lm(n,i,c){n.lanes|=i;var h=n.alternate;h!==null&&(h.lanes|=i),du(n.return,i,c)}function Du(n,i,c,h,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=m)}function Mm(n,i,c){var h=i.pendingProps,m=h.revealOrder,y=h.tail;if(Ct(n,i,h.children,c),h=He.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Lm(n,c,i);else if(n.tag===19)Lm(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(Me(He,h),(i.mode&1)===0)i.memoizedState=null;else switch(m){case"forwards":for(c=i.child,m=null;c!==null;)n=c.alternate,n!==null&&Ba(n)===null&&(m=c),c=c.sibling;c=m,c===null?(m=i.child,i.child=null):(m=c.sibling,c.sibling=null),Du(i,!1,m,c,y);break;case"backwards":for(c=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&Ba(n)===null){i.child=m;break}n=m.sibling,m.sibling=c,c=m,m=n}Du(i,!0,c,null,y);break;case"together":Du(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ga(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Jr(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),ns|=i.lanes,(c&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,c=Tn(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=Tn(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function bE(n,i,c){switch(i.tag){case 3:Om(i),$s();break;case 5:Qp(i);break;case 1:It(i.type)&&Ca(i);break;case 4:pu(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,m=i.memoizedProps.value;Me(Ia,h._currentValue),h._currentValue=m;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Me(He,He.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?Im(n,i,c):(Me(He,He.current&1),n=Jr(n,i,c),n!==null?n.sibling:null);Me(He,He.current&1);break;case 19:if(h=(c&i.childLanes)!==0,(n.flags&128)!==0){if(h)return Mm(n,i,c);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Me(He,He.current),h)break;return null;case 22:case 23:return i.lanes=0,Tm(n,i,c)}return Jr(n,i,c)}var $m,Iu,Bm,Vm;$m=function(n,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Iu=function(){},Bm=function(n,i,c,h){var m=n.memoizedProps;if(m!==h){n=i.stateNode,ts(Dr.current);var y=null;switch(c){case"input":m=Wn(n,m),h=Wn(n,h),y=[];break;case"select":m=W({},m,{value:void 0}),h=W({},h,{value:void 0}),y=[];break;case"textarea":m=gt(n,m),h=gt(n,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=Aa)}js(c,h);var E;c=null;for(B in m)if(!h.hasOwnProperty(B)&&m.hasOwnProperty(B)&&m[B]!=null)if(B==="style"){var N=m[B];for(E in N)N.hasOwnProperty(E)&&(c||(c={}),c[E]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?y||(y=[]):(y=y||[]).push(B,null));for(B in h){var C=h[B];if(N=m?.[B],h.hasOwnProperty(B)&&C!==N&&(C!=null||N!=null))if(B==="style")if(N){for(E in N)!N.hasOwnProperty(E)||C&&C.hasOwnProperty(E)||(c||(c={}),c[E]="");for(E in C)C.hasOwnProperty(E)&&N[E]!==C[E]&&(c||(c={}),c[E]=C[E])}else c||(y||(y=[]),y.push(B,c)),c=C;else B==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,N=N?N.__html:void 0,C!=null&&N!==C&&(y=y||[]).push(B,C)):B==="children"?typeof C!="string"&&typeof C!="number"||(y=y||[]).push(B,""+C):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(C!=null&&B==="onScroll"&&Be("scroll",n),y||N===C||(y=[])):(y=y||[]).push(B,C))}c&&(y=y||[]).push("style",c);var B=y;(i.updateQueue=B)&&(i.flags|=4)}},Vm=function(n,i,c,h){c!==h&&(i.flags|=4)};function fo(n,i){if(!Ue)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function kt(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,h=0;if(i)for(var m=n.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=h,n.childLanes=c,i}function wE(n,i,c){var h=i.pendingProps;switch(su(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(i),null;case 1:return It(i.type)&&Na(),kt(i),null;case 3:return h=i.stateNode,zs(),Ve(Dt),Ve(Ft),vu(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(Oa(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wr!==null&&(Ku(wr),wr=null))),Iu(n,i),kt(i),null;case 5:mu(i);var m=ts(ao.current);if(c=i.type,n!==null&&i.stateNode!=null)Bm(n,i,c,h,m),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(r(166));return kt(i),null}if(n=ts(Dr.current),Oa(i)){h=i.stateNode,c=i.type;var y=i.memoizedProps;switch(h[Or]=i,h[ro]=y,n=(i.mode&1)!==0,c){case"dialog":Be("cancel",h),Be("close",h);break;case"iframe":case"object":case"embed":Be("load",h);break;case"video":case"audio":for(m=0;m<Zi.length;m++)Be(Zi[m],h);break;case"source":Be("error",h);break;case"img":case"image":case"link":Be("error",h),Be("load",h);break;case"details":Be("toggle",h);break;case"input":ra(h,y),Be("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Be("invalid",h);break;case"textarea":zr(h,y),Be("invalid",h)}js(c,y),m=null;for(var E in y)if(y.hasOwnProperty(E)){var N=y[E];E==="children"?typeof N=="string"?h.textContent!==N&&(y.suppressHydrationWarning!==!0&&ja(h.textContent,N,n),m=["children",N]):typeof N=="number"&&h.textContent!==""+N&&(y.suppressHydrationWarning!==!0&&ja(h.textContent,N,n),m=["children",""+N]):o.hasOwnProperty(E)&&N!=null&&E==="onScroll"&&Be("scroll",h)}switch(c){case"input":qt(h),Ri(h,y,!0);break;case"textarea":qt(h),sa(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Aa)}h=m,i.updateQueue=h,h!==null&&(i.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=qn(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=E.createElement(c,{is:h.is}):(n=E.createElement(c),c==="select"&&(E=n,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):n=E.createElementNS(n,c),n[Or]=i,n[ro]=h,$m(n,i,!1,!1),i.stateNode=n;e:{switch(E=Di(c,h),c){case"dialog":Be("cancel",n),Be("close",n),m=h;break;case"iframe":case"object":case"embed":Be("load",n),m=h;break;case"video":case"audio":for(m=0;m<Zi.length;m++)Be(Zi[m],n);m=h;break;case"source":Be("error",n),m=h;break;case"img":case"image":case"link":Be("error",n),Be("load",n),m=h;break;case"details":Be("toggle",n),m=h;break;case"input":ra(n,h),m=Wn(n,h),Be("invalid",n);break;case"option":m=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},m=W({},h,{value:void 0}),Be("invalid",n);break;case"textarea":zr(n,h),m=gt(n,h),Be("invalid",n);break;default:m=h}js(c,m),N=m;for(y in N)if(N.hasOwnProperty(y)){var C=N[y];y==="style"?oa(n,C):y==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&ks(n,C)):y==="children"?typeof C=="string"?(c!=="textarea"||C!=="")&&sr(n,C):typeof C=="number"&&sr(n,""+C):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?C!=null&&y==="onScroll"&&Be("scroll",n):C!=null&&A(n,y,C,E))}switch(c){case"input":qt(n),Ri(n,h,!1);break;case"textarea":qt(n),sa(n);break;case"option":h.value!=null&&n.setAttribute("value",""+ve(h.value));break;case"select":n.multiple=!!h.multiple,y=h.value,y!=null?an(n,!!h.multiple,y,!1):h.defaultValue!=null&&an(n,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=Aa)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return kt(i),null;case 6:if(n&&i.stateNode!=null)Vm(n,i,n.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(r(166));if(c=ts(ao.current),ts(Dr.current),Oa(i)){if(h=i.stateNode,c=i.memoizedProps,h[Or]=i,(y=h.nodeValue!==c)&&(n=Xt,n!==null))switch(n.tag){case 3:ja(h.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ja(h.nodeValue,c,(n.mode&1)!==0)}y&&(i.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Or]=i,i.stateNode=h}return kt(i),null;case 13:if(Ve(He),h=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ue&&Jt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Wp(),$s(),i.flags|=98560,y=!1;else if(y=Oa(i),h!==null&&h.dehydrated!==null){if(n===null){if(!y)throw Error(r(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Or]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kt(i),y=!1}else wr!==null&&(Ku(wr),wr=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(He.current&1)!==0?lt===0&&(lt=3):Xu())),i.updateQueue!==null&&(i.flags|=4),kt(i),null);case 4:return zs(),Iu(n,i),n===null&&eo(i.stateNode.containerInfo),kt(i),null;case 10:return uu(i.type._context),kt(i),null;case 17:return It(i.type)&&Na(),kt(i),null;case 19:if(Ve(He),y=i.memoizedState,y===null)return kt(i),null;if(h=(i.flags&128)!==0,E=y.rendering,E===null)if(h)fo(y,!1);else{if(lt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(E=Ba(n),E!==null){for(i.flags|=128,fo(y,!1),h=E.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=c,c=i.child;c!==null;)y=c,n=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=n,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,n=E.dependencies,y.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return Me(He,He.current&1|2),i.child}n=n.sibling}y.tail!==null&&Qe()>Ks&&(i.flags|=128,h=!0,fo(y,!1),i.lanes=4194304)}else{if(!h)if(n=Ba(E),n!==null){if(i.flags|=128,h=!0,c=n.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),fo(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Ue)return kt(i),null}else 2*Qe()-y.renderingStartTime>Ks&&c!==1073741824&&(i.flags|=128,h=!0,fo(y,!1),i.lanes=4194304);y.isBackwards?(E.sibling=i.child,i.child=E):(c=y.last,c!==null?c.sibling=E:i.child=E,y.last=E)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Qe(),i.sibling=null,c=He.current,Me(He,h?c&1|2:c&1),i):(kt(i),null);case 22:case 23:return Yu(),h=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Qt&1073741824)!==0&&(kt(i),i.subtreeFlags&6&&(i.flags|=8192)):kt(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function EE(n,i){switch(su(i),i.tag){case 1:return It(i.type)&&Na(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return zs(),Ve(Dt),Ve(Ft),vu(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return mu(i),null;case 13:if(Ve(He),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));$s()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ve(He),null;case 4:return zs(),null;case 10:return uu(i.type._context),null;case 22:case 23:return Yu(),null;case 24:return null;default:return null}}var Ya=!1,jt=!1,FE=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Hs(n,i){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Ye(n,i,h)}else c.current=null}function Lu(n,i,c){try{c()}catch(h){Ye(n,i,h)}}var Um=!1;function _E(n,i){if(Yc=ma,n=bp(),Vc(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var E=0,N=-1,C=-1,B=0,q=0,G=n,H=null;t:for(;;){for(var se;G!==c||m!==0&&G.nodeType!==3||(N=E+m),G!==y||h!==0&&G.nodeType!==3||(C=E+h),G.nodeType===3&&(E+=G.nodeValue.length),(se=G.firstChild)!==null;)H=G,G=se;for(;;){if(G===n)break t;if(H===c&&++B===m&&(N=E),H===y&&++q===h&&(C=E),(se=G.nextSibling)!==null)break;G=H,H=G.parentNode}G=se}c=N===-1||C===-1?null:{start:N,end:C}}else c=null}c=c||{start:0,end:0}}else c=null;for(Xc={focusedElem:n,selectionRange:c},ma=!1,ie=i;ie!==null;)if(i=ie,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ie=n;else for(;ie!==null;){i=ie;try{var ce=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,Ze=ce.memoizedState,D=i.stateNode,R=D.getSnapshotBeforeUpdate(i.elementType===i.type?he:Er(i.type,he),Ze);D.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var L=i.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Y){Ye(i,i.return,Y)}if(n=i.sibling,n!==null){n.return=i.return,ie=n;break}ie=i.return}return ce=Um,Um=!1,ce}function po(n,i,c){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&n)===n){var y=m.destroy;m.destroy=void 0,y!==void 0&&Lu(i,c,y)}m=m.next}while(m!==h)}}function Xa(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&n)===n){var h=c.create;c.destroy=h()}c=c.next}while(c!==i)}}function Mu(n){var i=n.ref;if(i!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof i=="function"?i(n):i.current=n}}function zm(n){var i=n.alternate;i!==null&&(n.alternate=null,zm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Or],delete i[ro],delete i[eu],delete i[oE],delete i[aE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Wm(n){return n.tag===5||n.tag===3||n.tag===4}function Hm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Wm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $u(n,i,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(n,i):c.insertBefore(n,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(n,c)):(i=c,i.appendChild(n)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Aa));else if(h!==4&&(n=n.child,n!==null))for($u(n,i,c),n=n.sibling;n!==null;)$u(n,i,c),n=n.sibling}function Bu(n,i,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(Bu(n,i,c),n=n.sibling;n!==null;)Bu(n,i,c),n=n.sibling}var yt=null,Fr=!1;function jn(n,i,c){for(c=c.child;c!==null;)qm(n,i,c),c=c.sibling}function qm(n,i,c){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(ca,c)}catch{}switch(c.tag){case 5:jt||Hs(c,i);case 6:var h=yt,m=Fr;yt=null,jn(n,i,c),yt=h,Fr=m,yt!==null&&(Fr?(n=yt,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):yt.removeChild(c.stateNode));break;case 18:yt!==null&&(Fr?(n=yt,c=c.stateNode,n.nodeType===8?Zc(n.parentNode,c):n.nodeType===1&&Zc(n,c),Hi(n)):Zc(yt,c.stateNode));break;case 4:h=yt,m=Fr,yt=c.stateNode.containerInfo,Fr=!0,jn(n,i,c),yt=h,Fr=m;break;case 0:case 11:case 14:case 15:if(!jt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Lu(c,i,E),m=m.next}while(m!==h)}jn(n,i,c);break;case 1:if(!jt&&(Hs(c,i),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(N){Ye(c,i,N)}jn(n,i,c);break;case 21:jn(n,i,c);break;case 22:c.mode&1?(jt=(h=jt)||c.memoizedState!==null,jn(n,i,c),jt=h):jn(n,i,c);break;default:jn(n,i,c)}}function Km(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new FE),i.forEach(function(h){var m=RE.bind(null,n,h);c.has(h)||(c.add(h),h.then(m,m))})}}function _r(n,i){var c=i.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var y=n,E=i,N=E;e:for(;N!==null;){switch(N.tag){case 5:yt=N.stateNode,Fr=!1;break e;case 3:yt=N.stateNode.containerInfo,Fr=!0;break e;case 4:yt=N.stateNode.containerInfo,Fr=!0;break e}N=N.return}if(yt===null)throw Error(r(160));qm(y,E,m),yt=null,Fr=!1;var C=m.alternate;C!==null&&(C.return=null),m.return=null}catch(B){Ye(m,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Gm(i,n),i=i.sibling}function Gm(n,i){var c=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(_r(i,n),Lr(n),h&4){try{po(3,n,n.return),Xa(3,n)}catch(he){Ye(n,n.return,he)}try{po(5,n,n.return)}catch(he){Ye(n,n.return,he)}}break;case 1:_r(i,n),Lr(n),h&512&&c!==null&&Hs(c,c.return);break;case 5:if(_r(i,n),Lr(n),h&512&&c!==null&&Hs(c,c.return),n.flags&32){var m=n.stateNode;try{sr(m,"")}catch(he){Ye(n,n.return,he)}}if(h&4&&(m=n.stateNode,m!=null)){var y=n.memoizedProps,E=c!==null?c.memoizedProps:y,N=n.type,C=n.updateQueue;if(n.updateQueue=null,C!==null)try{N==="input"&&y.type==="radio"&&y.name!=null&&Pi(m,y),Di(N,E);var B=Di(N,y);for(E=0;E<C.length;E+=2){var q=C[E],G=C[E+1];q==="style"?oa(m,G):q==="dangerouslySetInnerHTML"?ks(m,G):q==="children"?sr(m,G):A(m,q,G,B)}switch(N){case"input":Ur(m,y);break;case"textarea":na(m,y);break;case"select":var H=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var se=y.value;se!=null?an(m,!!y.multiple,se,!1):H!==!!y.multiple&&(y.defaultValue!=null?an(m,!!y.multiple,y.defaultValue,!0):an(m,!!y.multiple,y.multiple?[]:"",!1))}m[ro]=y}catch(he){Ye(n,n.return,he)}}break;case 6:if(_r(i,n),Lr(n),h&4){if(n.stateNode===null)throw Error(r(162));m=n.stateNode,y=n.memoizedProps;try{m.nodeValue=y}catch(he){Ye(n,n.return,he)}}break;case 3:if(_r(i,n),Lr(n),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Hi(i.containerInfo)}catch(he){Ye(n,n.return,he)}break;case 4:_r(i,n),Lr(n);break;case 13:_r(i,n),Lr(n),m=n.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(zu=Qe())),h&4&&Km(n);break;case 22:if(q=c!==null&&c.memoizedState!==null,n.mode&1?(jt=(B=jt)||q,_r(i,n),jt=B):_r(i,n),Lr(n),h&8192){if(B=n.memoizedState!==null,(n.stateNode.isHidden=B)&&!q&&(n.mode&1)!==0)for(ie=n,q=n.child;q!==null;){for(G=ie=q;ie!==null;){switch(H=ie,se=H.child,H.tag){case 0:case 11:case 14:case 15:po(4,H,H.return);break;case 1:Hs(H,H.return);var ce=H.stateNode;if(typeof ce.componentWillUnmount=="function"){h=H,c=H.return;try{i=h,ce.props=i.memoizedProps,ce.state=i.memoizedState,ce.componentWillUnmount()}catch(he){Ye(h,c,he)}}break;case 5:Hs(H,H.return);break;case 22:if(H.memoizedState!==null){Jm(G);continue}}se!==null?(se.return=H,ie=se):Jm(G)}q=q.sibling}e:for(q=null,G=n;;){if(G.tag===5){if(q===null){q=G;try{m=G.stateNode,B?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(N=G.stateNode,C=G.memoizedProps.style,E=C!=null&&C.hasOwnProperty("display")?C.display:null,N.style.display=ia("display",E))}catch(he){Ye(n,n.return,he)}}}else if(G.tag===6){if(q===null)try{G.stateNode.nodeValue=B?"":G.memoizedProps}catch(he){Ye(n,n.return,he)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===n)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===n)break e;for(;G.sibling===null;){if(G.return===null||G.return===n)break e;q===G&&(q=null),G=G.return}q===G&&(q=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:_r(i,n),Lr(n),h&4&&Km(n);break;case 21:break;default:_r(i,n),Lr(n)}}function Lr(n){var i=n.flags;if(i&2){try{e:{for(var c=n.return;c!==null;){if(Wm(c)){var h=c;break e}c=c.return}throw Error(r(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(sr(m,""),h.flags&=-33);var y=Hm(n);Bu(n,y,m);break;case 3:case 4:var E=h.stateNode.containerInfo,N=Hm(n);$u(n,N,E);break;default:throw Error(r(161))}}catch(C){Ye(n,n.return,C)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function kE(n,i,c){ie=n,Ym(n)}function Ym(n,i,c){for(var h=(n.mode&1)!==0;ie!==null;){var m=ie,y=m.child;if(m.tag===22&&h){var E=m.memoizedState!==null||Ya;if(!E){var N=m.alternate,C=N!==null&&N.memoizedState!==null||jt;N=Ya;var B=jt;if(Ya=E,(jt=C)&&!B)for(ie=m;ie!==null;)E=ie,C=E.child,E.tag===22&&E.memoizedState!==null?Qm(m):C!==null?(C.return=E,ie=C):Qm(m);for(;y!==null;)ie=y,Ym(y),y=y.sibling;ie=m,Ya=N,jt=B}Xm(n)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ie=y):Xm(n)}}function Xm(n){for(;ie!==null;){var i=ie;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:jt||Xa(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!jt)if(c===null)h.componentDidMount();else{var m=i.elementType===i.type?c.memoizedProps:Er(i.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Jp(i,y,h);break;case 3:var E=i.updateQueue;if(E!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Jp(i,E,c)}break;case 5:var N=i.stateNode;if(c===null&&i.flags&4){c=N;var C=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&c.focus();break;case"img":C.src&&(c.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var q=B.memoizedState;if(q!==null){var G=q.dehydrated;G!==null&&Hi(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}jt||i.flags&512&&Mu(i)}catch(H){Ye(i,i.return,H)}}if(i===n){ie=null;break}if(c=i.sibling,c!==null){c.return=i.return,ie=c;break}ie=i.return}}function Jm(n){for(;ie!==null;){var i=ie;if(i===n){ie=null;break}var c=i.sibling;if(c!==null){c.return=i.return,ie=c;break}ie=i.return}}function Qm(n){for(;ie!==null;){var i=ie;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{Xa(4,i)}catch(C){Ye(i,c,C)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var m=i.return;try{h.componentDidMount()}catch(C){Ye(i,m,C)}}var y=i.return;try{Mu(i)}catch(C){Ye(i,y,C)}break;case 5:var E=i.return;try{Mu(i)}catch(C){Ye(i,E,C)}}}catch(C){Ye(i,i.return,C)}if(i===n){ie=null;break}var N=i.sibling;if(N!==null){N.return=i.return,ie=N;break}ie=i.return}}var jE=Math.ceil,Ja=T.ReactCurrentDispatcher,Vu=T.ReactCurrentOwner,dr=T.ReactCurrentBatchConfig,Pe=0,pt=null,rt=null,xt=0,Qt=0,qs=wn(0),lt=0,mo=null,ns=0,Qa=0,Uu=0,go=null,Mt=null,zu=0,Ks=1/0,Qr=null,Za=!1,Wu=null,An=null,el=!1,Sn=null,tl=0,vo=0,Hu=null,rl=-1,nl=0;function Tt(){return(Pe&6)!==0?Qe():rl!==-1?rl:rl=Qe()}function Nn(n){return(n.mode&1)===0?1:(Pe&2)!==0&&xt!==0?xt&-xt:cE.transition!==null?(nl===0&&(nl=Hf()),nl):(n=De,n!==0||(n=window.event,n=n===void 0?16:ep(n.type)),n)}function kr(n,i,c,h){if(50<vo)throw vo=0,Hu=null,Error(r(185));Bi(n,c,h),((Pe&2)===0||n!==pt)&&(n===pt&&((Pe&2)===0&&(Qa|=c),lt===4&&Cn(n,xt)),$t(n,h),c===1&&Pe===0&&(i.mode&1)===0&&(Ks=Qe()+500,Ta&&Fn()))}function $t(n,i){var c=n.callbackNode;c1(n,i);var h=ha(n,n===pt?xt:0);if(h===0)c!==null&&Uf(c),n.callbackNode=null,n.callbackPriority=0;else if(i=h&-h,n.callbackPriority!==i){if(c!=null&&Uf(c),i===1)n.tag===0?lE(eg.bind(null,n)):$p(eg.bind(null,n)),sE(function(){(Pe&6)===0&&Fn()}),c=null;else{switch(qf(h)){case 1:c=_c;break;case 4:c=zf;break;case 16:c=la;break;case 536870912:c=Wf;break;default:c=la}c=lg(c,Zm.bind(null,n))}n.callbackPriority=i,n.callbackNode=c}}function Zm(n,i){if(rl=-1,nl=0,(Pe&6)!==0)throw Error(r(327));var c=n.callbackNode;if(Gs()&&n.callbackNode!==c)return null;var h=ha(n,n===pt?xt:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||i)i=sl(n,h);else{i=h;var m=Pe;Pe|=2;var y=rg();(pt!==n||xt!==i)&&(Qr=null,Ks=Qe()+500,is(n,i));do try{NE();break}catch(N){tg(n,N)}while(!0);cu(),Ja.current=y,Pe=m,rt!==null?i=0:(pt=null,xt=0,i=lt)}if(i!==0){if(i===2&&(m=kc(n),m!==0&&(h=m,i=qu(n,m))),i===1)throw c=mo,is(n,0),Cn(n,h),$t(n,Qe()),c;if(i===6)Cn(n,h);else{if(m=n.current.alternate,(h&30)===0&&!AE(m)&&(i=sl(n,h),i===2&&(y=kc(n),y!==0&&(h=y,i=qu(n,y))),i===1))throw c=mo,is(n,0),Cn(n,h),$t(n,Qe()),c;switch(n.finishedWork=m,n.finishedLanes=h,i){case 0:case 1:throw Error(r(345));case 2:os(n,Mt,Qr);break;case 3:if(Cn(n,h),(h&130023424)===h&&(i=zu+500-Qe(),10<i)){if(ha(n,0)!==0)break;if(m=n.suspendedLanes,(m&h)!==h){Tt(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=Qc(os.bind(null,n,Mt,Qr),i);break}os(n,Mt,Qr);break;case 4:if(Cn(n,h),(h&4194240)===h)break;for(i=n.eventTimes,m=-1;0<h;){var E=31-xr(h);y=1<<E,E=i[E],E>m&&(m=E),h&=~y}if(h=m,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*jE(h/1960))-h,10<h){n.timeoutHandle=Qc(os.bind(null,n,Mt,Qr),h);break}os(n,Mt,Qr);break;case 5:os(n,Mt,Qr);break;default:throw Error(r(329))}}}return $t(n,Qe()),n.callbackNode===c?Zm.bind(null,n):null}function qu(n,i){var c=go;return n.current.memoizedState.isDehydrated&&(is(n,i).flags|=256),n=sl(n,i),n!==2&&(i=Mt,Mt=c,i!==null&&Ku(i)),n}function Ku(n){Mt===null?Mt=n:Mt.push.apply(Mt,n)}function AE(n){for(var i=n;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],y=m.getSnapshot;m=m.value;try{if(!br(y(),m))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Cn(n,i){for(i&=~Uu,i&=~Qa,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var c=31-xr(i),h=1<<c;n[c]=-1,i&=~h}}function eg(n){if((Pe&6)!==0)throw Error(r(327));Gs();var i=ha(n,0);if((i&1)===0)return $t(n,Qe()),null;var c=sl(n,i);if(n.tag!==0&&c===2){var h=kc(n);h!==0&&(i=h,c=qu(n,h))}if(c===1)throw c=mo,is(n,0),Cn(n,i),$t(n,Qe()),c;if(c===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,os(n,Mt,Qr),$t(n,Qe()),null}function Gu(n,i){var c=Pe;Pe|=1;try{return n(i)}finally{Pe=c,Pe===0&&(Ks=Qe()+500,Ta&&Fn())}}function ss(n){Sn!==null&&Sn.tag===0&&(Pe&6)===0&&Gs();var i=Pe;Pe|=1;var c=dr.transition,h=De;try{if(dr.transition=null,De=1,n)return n()}finally{De=h,dr.transition=c,Pe=i,(Pe&6)===0&&Fn()}}function Yu(){Qt=qs.current,Ve(qs)}function is(n,i){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,nE(c)),rt!==null)for(c=rt.return;c!==null;){var h=c;switch(su(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Na();break;case 3:zs(),Ve(Dt),Ve(Ft),vu();break;case 5:mu(h);break;case 4:zs();break;case 13:Ve(He);break;case 19:Ve(He);break;case 10:uu(h.type._context);break;case 22:case 23:Yu()}c=c.return}if(pt=n,rt=n=Tn(n.current,null),xt=Qt=i,lt=0,mo=null,Uu=Qa=ns=0,Mt=go=null,es!==null){for(i=0;i<es.length;i++)if(c=es[i],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,y=c.pending;if(y!==null){var E=y.next;y.next=m,h.next=E}c.pending=h}es=null}return n}function tg(n,i){do{var c=rt;try{if(cu(),Va.current=Ha,Ua){for(var h=qe.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Ua=!1}if(rs=0,ft=at=qe=null,lo=!1,co=0,Vu.current=null,c===null||c.return===null){lt=1,mo=i,rt=null;break}e:{var y=n,E=c.return,N=c,C=i;if(i=xt,N.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var B=C,q=N,G=q.tag;if((q.mode&1)===0&&(G===0||G===11||G===15)){var H=q.alternate;H?(q.updateQueue=H.updateQueue,q.memoizedState=H.memoizedState,q.lanes=H.lanes):(q.updateQueue=null,q.memoizedState=null)}var se=jm(E);if(se!==null){se.flags&=-257,Am(se,E,N,y,i),se.mode&1&&km(y,B,i),i=se,C=B;var ce=i.updateQueue;if(ce===null){var he=new Set;he.add(C),i.updateQueue=he}else ce.add(C);break e}else{if((i&1)===0){km(y,B,i),Xu();break e}C=Error(r(426))}}else if(Ue&&N.mode&1){var Ze=jm(E);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),Am(Ze,E,N,y,i),au(Ws(C,N));break e}}y=C=Ws(C,N),lt!==4&&(lt=2),go===null?go=[y]:go.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var D=Fm(y,C,i);Xp(y,D);break e;case 1:N=C;var R=y.type,L=y.stateNode;if((y.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(An===null||!An.has(L)))){y.flags|=65536,i&=-i,y.lanes|=i;var Y=_m(y,N,i);Xp(y,Y);break e}}y=y.return}while(y!==null)}sg(c)}catch(fe){i=fe,rt===c&&c!==null&&(rt=c=c.return);continue}break}while(!0)}function rg(){var n=Ja.current;return Ja.current=Ha,n===null?Ha:n}function Xu(){(lt===0||lt===3||lt===2)&&(lt=4),pt===null||(ns&268435455)===0&&(Qa&268435455)===0||Cn(pt,xt)}function sl(n,i){var c=Pe;Pe|=2;var h=rg();(pt!==n||xt!==i)&&(Qr=null,is(n,i));do try{SE();break}catch(m){tg(n,m)}while(!0);if(cu(),Pe=c,Ja.current=h,rt!==null)throw Error(r(261));return pt=null,xt=0,lt}function SE(){for(;rt!==null;)ng(rt)}function NE(){for(;rt!==null&&!e1();)ng(rt)}function ng(n){var i=ag(n.alternate,n,Qt);n.memoizedProps=n.pendingProps,i===null?sg(n):rt=i,Vu.current=null}function sg(n){var i=n;do{var c=i.alternate;if(n=i.return,(i.flags&32768)===0){if(c=wE(c,i,Qt),c!==null){rt=c;return}}else{if(c=EE(c,i),c!==null){c.flags&=32767,rt=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{lt=6,rt=null;return}}if(i=i.sibling,i!==null){rt=i;return}rt=i=n}while(i!==null);lt===0&&(lt=5)}function os(n,i,c){var h=De,m=dr.transition;try{dr.transition=null,De=1,CE(n,i,c,h)}finally{dr.transition=m,De=h}return null}function CE(n,i,c,h){do Gs();while(Sn!==null);if((Pe&6)!==0)throw Error(r(327));c=n.finishedWork;var m=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var y=c.lanes|c.childLanes;if(u1(n,y),n===pt&&(rt=pt=null,xt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||el||(el=!0,lg(la,function(){return Gs(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=dr.transition,dr.transition=null;var E=De;De=1;var N=Pe;Pe|=4,Vu.current=null,_E(n,c),Gm(c,n),X1(Xc),ma=!!Yc,Xc=Yc=null,n.current=c,kE(c),t1(),Pe=N,De=E,dr.transition=y}else n.current=c;if(el&&(el=!1,Sn=n,tl=m),y=n.pendingLanes,y===0&&(An=null),s1(c.stateNode),$t(n,Qe()),i!==null)for(h=n.onRecoverableError,c=0;c<i.length;c++)m=i[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(Za)throw Za=!1,n=Wu,Wu=null,n;return(tl&1)!==0&&n.tag!==0&&Gs(),y=n.pendingLanes,(y&1)!==0?n===Hu?vo++:(vo=0,Hu=n):vo=0,Fn(),null}function Gs(){if(Sn!==null){var n=qf(tl),i=dr.transition,c=De;try{if(dr.transition=null,De=16>n?16:n,Sn===null)var h=!1;else{if(n=Sn,Sn=null,tl=0,(Pe&6)!==0)throw Error(r(331));var m=Pe;for(Pe|=4,ie=n.current;ie!==null;){var y=ie,E=y.child;if((ie.flags&16)!==0){var N=y.deletions;if(N!==null){for(var C=0;C<N.length;C++){var B=N[C];for(ie=B;ie!==null;){var q=ie;switch(q.tag){case 0:case 11:case 15:po(8,q,y)}var G=q.child;if(G!==null)G.return=q,ie=G;else for(;ie!==null;){q=ie;var H=q.sibling,se=q.return;if(zm(q),q===B){ie=null;break}if(H!==null){H.return=se,ie=H;break}ie=se}}}var ce=y.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var Ze=he.sibling;he.sibling=null,he=Ze}while(he!==null)}}ie=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,ie=E;else e:for(;ie!==null;){if(y=ie,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:po(9,y,y.return)}var D=y.sibling;if(D!==null){D.return=y.return,ie=D;break e}ie=y.return}}var R=n.current;for(ie=R;ie!==null;){E=ie;var L=E.child;if((E.subtreeFlags&2064)!==0&&L!==null)L.return=E,ie=L;else e:for(E=R;ie!==null;){if(N=ie,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Xa(9,N)}}catch(fe){Ye(N,N.return,fe)}if(N===E){ie=null;break e}var Y=N.sibling;if(Y!==null){Y.return=N.return,ie=Y;break e}ie=N.return}}if(Pe=m,Fn(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(ca,n)}catch{}h=!0}return h}finally{De=c,dr.transition=i}}return!1}function ig(n,i,c){i=Ws(c,i),i=Fm(n,i,1),n=kn(n,i,1),i=Tt(),n!==null&&(Bi(n,1,i),$t(n,i))}function Ye(n,i,c){if(n.tag===3)ig(n,n,c);else for(;i!==null;){if(i.tag===3){ig(i,n,c);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(An===null||!An.has(h))){n=Ws(c,n),n=_m(i,n,1),i=kn(i,n,1),n=Tt(),i!==null&&(Bi(i,1,n),$t(i,n));break}}i=i.return}}function TE(n,i,c){var h=n.pingCache;h!==null&&h.delete(i),i=Tt(),n.pingedLanes|=n.suspendedLanes&c,pt===n&&(xt&c)===c&&(lt===4||lt===3&&(xt&130023424)===xt&&500>Qe()-zu?is(n,0):Uu|=c),$t(n,i)}function og(n,i){i===0&&((n.mode&1)===0?i=1:(i=da,da<<=1,(da&130023424)===0&&(da=4194304)));var c=Tt();n=Yr(n,i),n!==null&&(Bi(n,i,c),$t(n,c))}function PE(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),og(n,c)}function RE(n,i){var c=0;switch(n.tag){case 13:var h=n.stateNode,m=n.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(i),og(n,c)}var ag;ag=function(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps||Dt.current)Lt=!0;else{if((n.lanes&c)===0&&(i.flags&128)===0)return Lt=!1,bE(n,i,c);Lt=(n.flags&131072)!==0}else Lt=!1,Ue&&(i.flags&1048576)!==0&&Bp(i,Ra,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Ga(n,i),n=i.pendingProps;var m=Is(i,Ft.current);Us(i,c),m=bu(null,i,h,n,m,c);var y=wu();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,It(h)?(y=!0,Ca(i)):y=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,fu(i),m.updater=qa,i.stateNode=m,m._reactInternals=i,Au(i,h,n,c),i=Tu(null,i,h,!0,y,c)):(i.tag=0,Ue&&y&&nu(i),Ct(null,i,m,c),i=i.child),i;case 16:h=i.elementType;e:{switch(Ga(n,i),n=i.pendingProps,m=h._init,h=m(h._payload),i.type=h,m=i.tag=DE(h),n=Er(h,n),m){case 0:i=Cu(null,i,h,n,c);break e;case 1:i=Rm(null,i,h,n,c);break e;case 11:i=Sm(null,i,h,n,c);break e;case 14:i=Nm(null,i,h,Er(h.type,n),c);break e}throw Error(r(306,h,""))}return i;case 0:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Er(h,m),Cu(n,i,h,m,c);case 1:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Er(h,m),Rm(n,i,h,m,c);case 3:e:{if(Om(i),n===null)throw Error(r(387));h=i.pendingProps,y=i.memoizedState,m=y.element,Yp(n,i),$a(i,h,null,c);var E=i.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){m=Ws(Error(r(423)),i),i=Dm(n,i,h,c,m);break e}else if(h!==m){m=Ws(Error(r(424)),i),i=Dm(n,i,h,c,m);break e}else for(Jt=bn(i.stateNode.containerInfo.firstChild),Xt=i,Ue=!0,wr=null,c=Kp(i,null,h,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if($s(),h===m){i=Jr(n,i,c);break e}Ct(n,i,h,c)}i=i.child}return i;case 5:return Qp(i),n===null&&ou(i),h=i.type,m=i.pendingProps,y=n!==null?n.memoizedProps:null,E=m.children,Jc(h,m)?E=null:y!==null&&Jc(h,y)&&(i.flags|=32),Pm(n,i),Ct(n,i,E,c),i.child;case 6:return n===null&&ou(i),null;case 13:return Im(n,i,c);case 4:return pu(i,i.stateNode.containerInfo),h=i.pendingProps,n===null?i.child=Bs(i,null,h,c):Ct(n,i,h,c),i.child;case 11:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Er(h,m),Sm(n,i,h,m,c);case 7:return Ct(n,i,i.pendingProps,c),i.child;case 8:return Ct(n,i,i.pendingProps.children,c),i.child;case 12:return Ct(n,i,i.pendingProps.children,c),i.child;case 10:e:{if(h=i.type._context,m=i.pendingProps,y=i.memoizedProps,E=m.value,Me(Ia,h._currentValue),h._currentValue=E,y!==null)if(br(y.value,E)){if(y.children===m.children&&!Dt.current){i=Jr(n,i,c);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var N=y.dependencies;if(N!==null){E=y.child;for(var C=N.firstContext;C!==null;){if(C.context===h){if(y.tag===1){C=Xr(-1,c&-c),C.tag=2;var B=y.updateQueue;if(B!==null){B=B.shared;var q=B.pending;q===null?C.next=C:(C.next=q.next,q.next=C),B.pending=C}}y.lanes|=c,C=y.alternate,C!==null&&(C.lanes|=c),du(y.return,c,i),N.lanes|=c;break}C=C.next}}else if(y.tag===10)E=y.type===i.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(r(341));E.lanes|=c,N=E.alternate,N!==null&&(N.lanes|=c),du(E,c,i),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===i){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Ct(n,i,m.children,c),i=i.child}return i;case 9:return m=i.type,h=i.pendingProps.children,Us(i,c),m=cr(m),h=h(m),i.flags|=1,Ct(n,i,h,c),i.child;case 14:return h=i.type,m=Er(h,i.pendingProps),m=Er(h.type,m),Nm(n,i,h,m,c);case 15:return Cm(n,i,i.type,i.pendingProps,c);case 17:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Er(h,m),Ga(n,i),i.tag=1,It(h)?(n=!0,Ca(i)):n=!1,Us(i,c),wm(i,h,m),Au(i,h,m,c),Tu(null,i,h,!0,n,c);case 19:return Mm(n,i,c);case 22:return Tm(n,i,c)}throw Error(r(156,i.tag))};function lg(n,i){return Vf(n,i)}function OE(n,i,c,h){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(n,i,c,h){return new OE(n,i,c,h)}function Ju(n){return n=n.prototype,!(!n||!n.isReactComponent)}function DE(n){if(typeof n=="function")return Ju(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Z)return 11;if(n===pe)return 14}return 2}function Tn(n,i){var c=n.alternate;return c===null?(c=hr(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function il(n,i,c,h,m,y){var E=2;if(h=n,typeof n=="function")Ju(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case M:return as(c.children,m,y,i);case O:E=8,m|=8;break;case X:return n=hr(12,c,i,m|2),n.elementType=X,n.lanes=y,n;case ee:return n=hr(13,c,i,m),n.elementType=ee,n.lanes=y,n;case je:return n=hr(19,c,i,m),n.elementType=je,n.lanes=y,n;case te:return ol(c,m,y,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case le:E=10;break e;case Ee:E=9;break e;case Z:E=11;break e;case pe:E=14;break e;case oe:E=16,h=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=hr(E,c,i,m),i.elementType=n,i.type=h,i.lanes=y,i}function as(n,i,c,h){return n=hr(7,n,h,i),n.lanes=c,n}function ol(n,i,c,h){return n=hr(22,n,h,i),n.elementType=te,n.lanes=c,n.stateNode={isHidden:!1},n}function Qu(n,i,c){return n=hr(6,n,null,i),n.lanes=c,n}function Zu(n,i,c){return i=hr(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function IE(n,i,c,h,m){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jc(0),this.expirationTimes=jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jc(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function ed(n,i,c,h,m,y,E,N,C){return n=new IE(n,i,c,N,C),i===1?(i=1,y===!0&&(i|=8)):i=0,y=hr(3,null,null,i),n.current=y,y.stateNode=n,y.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},fu(y),n}function LE(n,i,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:h==null?null:""+h,children:n,containerInfo:i,implementation:c}}function cg(n){if(!n)return En;n=n._reactInternals;e:{if(Yn(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(It(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var c=n.type;if(It(c))return Lp(n,c,i)}return i}function ug(n,i,c,h,m,y,E,N,C){return n=ed(c,h,!0,n,m,y,E,N,C),n.context=cg(null),c=n.current,h=Tt(),m=Nn(c),y=Xr(h,m),y.callback=i??null,kn(c,y,m),n.current.lanes=m,Bi(n,m,h),$t(n,h),n}function al(n,i,c,h){var m=i.current,y=Tt(),E=Nn(m);return c=cg(c),i.context===null?i.context=c:i.pendingContext=c,i=Xr(y,E),i.payload={element:n},h=h===void 0?null:h,h!==null&&(i.callback=h),n=kn(m,i,E),n!==null&&(kr(n,m,E,y),Ma(n,m,E)),E}function ll(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function dg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function td(n,i){dg(n,i),(n=n.alternate)&&dg(n,i)}function ME(){return null}var hg=typeof reportError=="function"?reportError:function(n){console.error(n)};function rd(n){this._internalRoot=n}cl.prototype.render=rd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));al(n,i,null,null)},cl.prototype.unmount=rd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;ss(function(){al(null,n,null,null)}),i[Hr]=null}};function cl(n){this._internalRoot=n}cl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Yf();n={blockedOn:null,target:n,priority:i};for(var c=0;c<vn.length&&i!==0&&i<vn[c].priority;c++);vn.splice(c,0,n),c===0&&Qf(n)}};function nd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ul(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function fg(){}function $E(n,i,c,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var B=ll(E);y.call(B)}}var E=ug(i,h,n,0,null,!1,!1,"",fg);return n._reactRootContainer=E,n[Hr]=E.current,eo(n.nodeType===8?n.parentNode:n),ss(),E}for(;m=n.lastChild;)n.removeChild(m);if(typeof h=="function"){var N=h;h=function(){var B=ll(C);N.call(B)}}var C=ed(n,0,!1,null,null,!1,!1,"",fg);return n._reactRootContainer=C,n[Hr]=C.current,eo(n.nodeType===8?n.parentNode:n),ss(function(){al(i,C,c,h)}),C}function dl(n,i,c,h,m){var y=c._reactRootContainer;if(y){var E=y;if(typeof m=="function"){var N=m;m=function(){var C=ll(E);N.call(C)}}al(i,E,n,m)}else E=$E(c,i,n,m,h);return ll(E)}Kf=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var c=$i(i.pendingLanes);c!==0&&(Ac(i,c|1),$t(i,Qe()),(Pe&6)===0&&(Ks=Qe()+500,Fn()))}break;case 13:ss(function(){var h=Yr(n,1);if(h!==null){var m=Tt();kr(h,n,1,m)}}),td(n,1)}},Sc=function(n){if(n.tag===13){var i=Yr(n,134217728);if(i!==null){var c=Tt();kr(i,n,134217728,c)}td(n,134217728)}},Gf=function(n){if(n.tag===13){var i=Nn(n),c=Yr(n,i);if(c!==null){var h=Tt();kr(c,n,i,h)}td(n,i)}},Yf=function(){return De},Xf=function(n,i){var c=De;try{return De=n,i()}finally{De=c}},Ii=function(n,i,c){switch(i){case"input":if(Ur(n,c),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var h=c[i];if(h!==n&&h.form===n.form){var m=Sa(h);if(!m)throw Error(r(90));Ot(h),Ur(h,m)}}}break;case"textarea":na(n,c);break;case"select":i=c.value,i!=null&&an(n,!!c.multiple,i,!1)}},ot=Gu,Et=ss;var BE={usingClientEntryPoint:!1,Events:[no,Os,Sa,ke,Je,Gu]},yo={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VE={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=$f(n),n===null?null:n.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||ME,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{ca=hl.inject(VE),Rr=hl}catch{}}return Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BE,Bt.createPortal=function(n,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nd(i))throw Error(r(200));return LE(n,i,null,c)},Bt.createRoot=function(n,i){if(!nd(n))throw Error(r(299));var c=!1,h="",m=hg;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=ed(n,1,!1,null,null,c,!1,h,m),n[Hr]=i.current,eo(n.nodeType===8?n.parentNode:n),new rd(i)},Bt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=$f(i),n=n===null?null:n.stateNode,n},Bt.flushSync=function(n){return ss(n)},Bt.hydrate=function(n,i,c){if(!ul(i))throw Error(r(200));return dl(null,n,i,!0,c)},Bt.hydrateRoot=function(n,i,c){if(!nd(n))throw Error(r(405));var h=c!=null&&c.hydratedSources||null,m=!1,y="",E=hg;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),i=ug(i,null,n,1,c??null,m,!1,y,E),n[Hr]=i.current,eo(n),h)for(n=0;n<h.length;n++)c=h[n],m=c._getVersion,m=m(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,m]:i.mutableSourceEagerHydrationData.push(c,m);return new cl(i)},Bt.render=function(n,i,c){if(!ul(i))throw Error(r(200));return dl(null,n,i,!1,c)},Bt.unmountComponentAtNode=function(n){if(!ul(n))throw Error(r(40));return n._reactRootContainer?(ss(function(){dl(null,null,n,!1,function(){n._reactRootContainer=null,n[Hr]=null})}),!0):!1},Bt.unstable_batchedUpdates=Gu,Bt.unstable_renderSubtreeIntoContainer=function(n,i,c,h){if(!ul(c))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return dl(n,i,c,!1,h)},Bt.version="18.3.1-next-f1338f8080-20240426",Bt}var wg;function Hv(){if(wg)return od.exports;wg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),od.exports=YE(),od.exports}var Eg;function XE(){if(Eg)return fl;Eg=1;var t=Hv();return fl.createRoot=t.createRoot,fl.hydrateRoot=t.hydrateRoot,fl}var JE=XE();const QE="modulepreload",ZE=function(t){return"/"+t},Fg={},Oo=function(e,r,s){let o=Promise.resolve();if(r&&r.length>0){let u=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");o=u(r.map(p=>{if(p=ZE(p),p in Fg)return;Fg[p]=!0;const v=p.endsWith(".css"),g=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":QE,v||(x.as="script"),x.crossOrigin="",x.href=p,f&&x.setAttribute("nonce",f),document.head.appendChild(x),v)return new Promise((b,w)=>{x.addEventListener("load",b),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};var k=Ph();const Q=Th(k),Rh=Wv({__proto__:null,default:Q},[k]);var Kd=function(t,e){return Kd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},Kd(t,e)};function qv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Kd(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mr=function(){return mr=Object.assign||function(e){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mr.apply(this,arguments)};function Vn(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(r[s[o]]=t[s[o]]);return r}function Kv(t,e,r,s){var o=arguments.length,a=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,s);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(a=(o<3?u(a):o>3?u(e,r,a):u(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a}function Gv(t,e){return function(r,s){e(r,s,t)}}function Yv(t,e,r,s,o,a){function u(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var d=s.kind,f=d==="getter"?"get":d==="setter"?"set":"value",p=!e&&t?s.static?t:t.prototype:null,v=e||(p?Object.getOwnPropertyDescriptor(p,s.name):{}),g,x=!1,b=r.length-1;b>=0;b--){var w={};for(var F in s)w[F]=F==="access"?{}:s[F];for(var F in s.access)w.access[F]=s.access[F];w.addInitializer=function(j){if(x)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(j||null))};var _=(0,r[b])(d==="accessor"?{get:v.get,set:v.set}:v[f],w);if(d==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(g=u(_.get))&&(v.get=g),(g=u(_.set))&&(v.set=g),(g=u(_.init))&&o.unshift(g)}else(g=u(_))&&(d==="field"?o.unshift(g):v[f]=g)}p&&Object.defineProperty(p,s.name,v),x=!0}function Xv(t,e,r){for(var s=arguments.length>2,o=0;o<e.length;o++)r=s?e[o].call(t,r):e[o].call(t);return s?r:void 0}function Jv(t){return typeof t=="symbol"?t:"".concat(t)}function Qv(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Zv(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ae(t,e,r,s){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function d(v){try{p(s.next(v))}catch(g){u(g)}}function f(v){try{p(s.throw(v))}catch(g){u(g)}}function p(v){v.done?a(v.value):o(v.value).then(d,f)}p((s=s.apply(t,e||[])).next())})}function ey(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,o,a,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(v){return f([p,v])}}function f(p){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(s=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,o=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(v){p=[6,v],o=0}finally{s=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var oc=Object.create?(function(t,e,r,s){s===void 0&&(s=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,o)}):(function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]});function ty(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&oc(e,t,r)}function Kl(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),o,a=[],u;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)a.push(o.value)}catch(d){u={error:d}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(u)throw u.error}}return a}function ry(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Oh(arguments[e]));return t}function ny(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],u=0,d=a.length;u<d;u++,o++)s[o]=a[u];return s}function Dh(t,e,r){if(r||arguments.length===2)for(var s=0,o=e.length,a;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}function vi(t){return this instanceof vi?(this.v=t,this):new vi(t)}function sy(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(b){return function(w){return Promise.resolve(w).then(b,g)}}function d(b,w){s[b]&&(o[b]=function(F){return new Promise(function(_,j){a.push([b,F,_,j])>1||f(b,F)})},w&&(o[b]=w(o[b])))}function f(b,w){try{p(s[b](w))}catch(F){x(a[0][3],F)}}function p(b){b.value instanceof vi?Promise.resolve(b.value.v).then(v,g):x(a[0][2],b)}function v(b){f("next",b)}function g(b){f("throw",b)}function x(b,w){b(w),a.shift(),a.length&&f(a[0][0],a[0][1])}}function iy(t){var e,r;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,a){e[o]=t[o]?function(u){return(r=!r)?{value:vi(t[o](u)),done:!1}:a?a(u):u}:a}}function oy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Kl=="function"?Kl(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(a){r[a]=t[a]&&function(u){return new Promise(function(d,f){u=t[a](u),o(d,f,u.done,u.value)})}}function o(a,u,d,f){Promise.resolve(f).then(function(p){a({value:p,done:d})},u)}}function ay(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var eF=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Gd=function(t){return Gd=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},Gd(t)};function ly(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Gd(t),s=0;s<r.length;s++)r[s]!=="default"&&oc(e,t,r[s]);return eF(e,t),e}function cy(t){return t&&t.__esModule?t:{default:t}}function uy(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function dy(t,e,r,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function hy(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function fy(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var tF=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function py(t){function e(a){t.error=t.hasError?new tF(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,s=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(a).then(o,function(u){return e(u),o()})}else s|=1}catch(u){e(u)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function my(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,o,a,u){return s?e?".jsx":".js":o&&(!a||!u)?r:o+a+"."+u.toLowerCase()+"js"}):t}const rF={__extends:qv,__assign:mr,__rest:Vn,__decorate:Kv,__param:Gv,__esDecorate:Yv,__runInitializers:Xv,__propKey:Jv,__setFunctionName:Qv,__metadata:Zv,__awaiter:ae,__generator:ey,__createBinding:oc,__exportStar:ty,__values:Kl,__read:Oh,__spread:ry,__spreadArrays:ny,__spreadArray:Dh,__await:vi,__asyncGenerator:sy,__asyncDelegator:iy,__asyncValues:oy,__makeTemplateObject:ay,__importStar:ly,__importDefault:cy,__classPrivateFieldGet:uy,__classPrivateFieldSet:dy,__classPrivateFieldIn:hy,__addDisposableResource:fy,__disposeResources:py,__rewriteRelativeImportExtension:my},nF=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:fy,get __assign(){return mr},__asyncDelegator:iy,__asyncGenerator:sy,__asyncValues:oy,__await:vi,__awaiter:ae,__classPrivateFieldGet:uy,__classPrivateFieldIn:hy,__classPrivateFieldSet:dy,__createBinding:oc,__decorate:Kv,__disposeResources:py,__esDecorate:Yv,__exportStar:ty,__extends:qv,__generator:ey,__importDefault:cy,__importStar:ly,__makeTemplateObject:ay,__metadata:Zv,__param:Gv,__propKey:Jv,__read:Oh,__rest:Vn,__rewriteRelativeImportExtension:my,__runInitializers:Xv,__setFunctionName:Qv,__spread:ry,__spreadArray:Dh,__spreadArrays:ny,__values:Kl,default:rF},Symbol.toStringTag,{value:"Module"})),sF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ih extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class iF extends Ih{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _g extends Ih{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kg extends Ih{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Yd||(Yd={}));class oF{constructor(e,{headers:r={},customFetch:s,region:o=Yd.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=sF(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ae(this,arguments,void 0,function*(r,s={}){var o;let a,u;try{const{headers:d,method:f,body:p,signal:v,timeout:g}=s;let x={},{region:b}=s;b||(b=this.region);const w=new URL(`${this.url}/${r}`);b&&b!=="any"&&(x["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let F;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",F=p):typeof p=="string"?(x["Content-Type"]="text/plain",F=p):typeof FormData<"u"&&p instanceof FormData?F=p:(x["Content-Type"]="application/json",F=JSON.stringify(p)):F=p;let _=v;g&&(u=new AbortController,a=setTimeout(()=>u.abort(),g),v?(_=u.signal,v.addEventListener("abort",()=>u.abort())):_=u.signal);const j=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),d),body:F,signal:_}).catch(I=>{throw new iF(I)}),S=j.headers.get("x-relay-error");if(S&&S==="true")throw new _g(j);if(!j.ok)throw new kg(j);let A=((o=j.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),T;return A==="application/json"?T=yield j.json():A==="application/octet-stream"||A==="application/pdf"?T=yield j.blob():A==="text/event-stream"?T=j:A==="multipart/form-data"?T=yield j.formData():T=yield j.text(),{data:T,error:null,response:j}}catch(d){return{data:null,error:d,response:d instanceof kg||d instanceof _g?d.context:void 0}}finally{a&&clearTimeout(a)}})}}var At={};const ki=zE(nF);var pl={},ml={},gl={},vl={},yl={},xl={},jg;function gy(){if(jg)return xl;jg=1,Object.defineProperty(xl,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return xl.default=t,xl}var Ag;function vy(){if(Ag)return yl;Ag=1,Object.defineProperty(yl,"__esModule",{value:!0});const e=ki.__importDefault(gy());class r{constructor(o){var a,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,v,g,x;let b=null,w=null,F=null,_=f.status,j=f.statusText;if(f.ok){if(this.method!=="HEAD"){const I=await f.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?w=I:w=JSON.parse(I))}const A=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),T=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");A&&T&&T.length>1&&(F=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(b={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,F=null,_=406,j="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const A=await f.text();try{b=JSON.parse(A),Array.isArray(b)&&f.status===404&&(w=[],b=null,_=200,j="OK")}catch{f.status===404&&A===""?(_=204,j="No Content"):b={message:A}}if(b&&this.isMaybeSingle&&(!((x=b?.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,_=200,j="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:w,count:F,status:_,statusText:j}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,v,g,x,b,w;let F="";const _=f?.cause;if(_){const j=(p=_?.message)!==null&&p!==void 0?p:"",S=(v=_?.code)!==null&&v!==void 0?v:"";F=`${(g=f?.name)!==null&&g!==void 0?g:"FetchError"}: ${f?.message}`,F+=`

Caused by: ${(x=_?.name)!==null&&x!==void 0?x:"Error"}: ${j}`,S&&(F+=` (${S})`),_?.stack&&(F+=`
${_.stack}`)}else F=(b=f?.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(w=f?.name)!==null&&w!==void 0?w:"FetchError"}: ${f?.message}`,details:F,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(o,a)}returns(){return this}overrideTypes(){return this}}return yl.default=r,yl}var Sg;function yy(){if(Sg)return vl;Sg=1,Object.defineProperty(vl,"__esModule",{value:!0});const e=ki.__importDefault(vy());class r extends e.default{select(o){let a=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:u,foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${o}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:u=a}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,a,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(p,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:u=!1,buffers:d=!1,wal:f=!1,format:p="text"}={}){var v;const g=[o?"analyze":null,a?"verbose":null,u?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${x}"; options=${g};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return vl.default=r,vl}var Ng;function Lh(){if(Ng)return gl;Ng=1,Object.defineProperty(gl,"__esModule",{value:!0});const e=ki.__importDefault(yy()),r=new RegExp("[,()]");class s extends e.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}regexMatch(a,u){return this.url.searchParams.append(a,`match.${u}`),this}regexIMatch(a,u){return this.url.searchParams.append(a,`imatch.${u}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}isDistinct(a,u){return this.url.searchParams.append(a,`isdistinct.${u}`),this}in(a,u){const d=Array.from(new Set(u)).map(f=>typeof f=="string"&&r.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:d,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const v=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${p}fts${v}.${u}`),this}match(a){return Object.entries(a).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(a,u,d){return this.url.searchParams.append(a,`not.${u}.${d}`),this}or(a,{foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,u,d){return this.url.searchParams.append(a,`${u}.${d}`),this}}return gl.default=s,gl}var Cg;function xy(){if(Cg)return ml;Cg=1,Object.defineProperty(ml,"__esModule",{value:!0});const e=ki.__importDefault(Lh());class r{constructor(o,{headers:a={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(a),this.schema=u,this.fetch=d}select(o,a){const{head:u=!1,count:d}=a??{},f=u?"HEAD":"GET";let p=!1;const v=(o??"*").split("").map(g=>/\s/.test(g)&&!p?"":(g==='"'&&(p=!p),g)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:u=!0}={}){var d;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((v,g)=>v.concat(Object.keys(g)),[]);if(p.length>0){const v=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:u=!1,count:d,defaultToNull:f=!0}={}){var p;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(g.length>0){const x=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:a}={}){var u;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var a;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return ml.default=r,ml}var Tg;function aF(){if(Tg)return pl;Tg=1,Object.defineProperty(pl,"__esModule",{value:!0});const t=ki,e=t.__importDefault(xy()),r=t.__importDefault(Lh());class s{constructor(a,{headers:u={},schema:d,fetch:f}={}){this.url=a,this.headers=new Headers(u),this.schemaName=d,this.fetch=f}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${a}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new s(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,u={},{head:d=!1,get:f=!1,count:p}={}){var v;let g;const x=new URL(`${this.url}/rpc/${a}`);let b;d||f?(g=d?"HEAD":"GET",Object.entries(u).filter(([F,_])=>_!==void 0).map(([F,_])=>[F,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([F,_])=>{x.searchParams.append(F,_)})):(g="POST",b=u);const w=new Headers(this.headers);return p&&w.set("Prefer",`count=${p}`),new r.default({method:g,url:x,headers:w,schema:this.schemaName,body:b,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return pl.default=s,pl}var Pg;function lF(){if(Pg)return At;Pg=1,Object.defineProperty(At,"__esModule",{value:!0}),At.PostgrestError=At.PostgrestBuilder=At.PostgrestTransformBuilder=At.PostgrestFilterBuilder=At.PostgrestQueryBuilder=At.PostgrestClient=void 0;const t=ki,e=t.__importDefault(aF());At.PostgrestClient=e.default;const r=t.__importDefault(xy());At.PostgrestQueryBuilder=r.default;const s=t.__importDefault(Lh());At.PostgrestFilterBuilder=s.default;const o=t.__importDefault(yy());At.PostgrestTransformBuilder=o.default;const a=t.__importDefault(vy());At.PostgrestBuilder=a.default;const u=t.__importDefault(gy());return At.PostgrestError=u.default,At.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:u.default},At}var by=lF();const wy=Th(by),cF=Wv({__proto__:null,default:wy},[by]),{PostgrestClient:uF,PostgrestQueryBuilder:C4,PostgrestFilterBuilder:T4,PostgrestTransformBuilder:P4,PostgrestBuilder:R4,PostgrestError:O4}=wy||cF;class dF{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const hF="2.86.0",fF=`realtime-js/${hF}`,Ey="1.0.0",pF="2.0.0",Rg=Ey,Xd=1e4,mF=1e3,gF=100;var ps;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ps||(ps={}));var ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ut||(ut={}));var Nr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Nr||(Nr={}));var Jd;(function(t){t.websocket="websocket"})(Jd||(Jd={}));var ms;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ms||(ms={}));class vF{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const o=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,s;const o=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,s){var o,a;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",f=(a=e.join_ref)!==null&&a!==void 0?a:"",p=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},g=Object.keys(v).length===0?"":JSON.stringify(v);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+u.length+p.length+g.length,b=new ArrayBuffer(this.HEADER_LENGTH+x);let w=new DataView(b),F=0;w.setUint8(F++,this.KINDS.userBroadcastPush),w.setUint8(F++,f.length),w.setUint8(F++,d.length),w.setUint8(F++,u.length),w.setUint8(F++,p.length),w.setUint8(F++,g.length),w.setUint8(F++,r),Array.from(f,j=>w.setUint8(F++,j.charCodeAt(0))),Array.from(d,j=>w.setUint8(F++,j.charCodeAt(0))),Array.from(u,j=>w.setUint8(F++,j.charCodeAt(0))),Array.from(p,j=>w.setUint8(F++,j.charCodeAt(0))),Array.from(g,j=>w.setUint8(F++,j.charCodeAt(0)));var _=new Uint8Array(b.byteLength+s.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(s),b.byteLength),_.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,a,u,d,f]=s;return r({join_ref:o,ref:a,topic:u,event:d,payload:f})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,o)}}_decodeUserBroadcast(e,r,s){const o=r.getUint8(1),a=r.getUint8(2),u=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const p=s.decode(e.slice(f,f+o));f=f+o;const v=s.decode(e.slice(f,f+a));f=f+a;const g=s.decode(e.slice(f,f+u));f=f+u;const x=e.slice(f,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(s.decode(x)):x,w={type:this.BROADCAST_EVENT,event:v,payload:b};return u>0&&(w.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class Fy{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const Og=(t,e,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((a,u)=>(a[u]=yF(u,t,e,o),a),{}):{}},yF=(t,e,r,s)=>{const o=e.find(d=>d.name===t),a=o?.type,u=r[t];return a&&!s.includes(a)?_y(a,u):Qd(u)},_y=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return EF(e,r)}switch(t){case $e.bool:return xF(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return bF(e);case $e.json:case $e.jsonb:return wF(e);case $e.timestamp:return FF(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Qd(e);default:return Qd(e)}},Qd=t=>t,xF=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},bF=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},wF=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},EF=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let a;const u=t.slice(1,r);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(d=>_y(e,d))}return t},FF=t=>typeof t=="string"?t.replace(" ","T"):t,ky=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class cd{constructor(e,r,s={},o=Xd){this.channel=e,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Dg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Dg||(Dg={}));class Ao{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ao.syncState(this.state,o,a,u),this.pendingDiffs.forEach(f=>{this.state=Ao.syncDiff(this.state,f,a,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ao.syncDiff(this.state,o,a,u),d())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,o){const a=this.cloneDeep(e),u=this.transformState(r),d={},f={};return this.map(a,(p,v)=>{u[p]||(f[p]=v)}),this.map(u,(p,v)=>{const g=a[p];if(g){const x=v.map(_=>_.presence_ref),b=g.map(_=>_.presence_ref),w=v.filter(_=>b.indexOf(_.presence_ref)<0),F=g.filter(_=>x.indexOf(_.presence_ref)<0);w.length>0&&(d[p]=w),F.length>0&&(f[p]=F)}else d[p]=v}),this.syncDiff(a,{joins:d,leaves:f},s,o)}static syncDiff(e,r,s,o){const{joins:a,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(a,(d,f)=>{var p;const v=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(f),v.length>0){const g=e[d].map(b=>b.presence_ref),x=v.filter(b=>g.indexOf(b.presence_ref)<0);e[d].unshift(...x)}s(d,v,f)}),this.map(u,(d,f)=>{let p=e[d];if(!p)return;const v=f.map(g=>g.presence_ref);p=p.filter(g=>v.indexOf(g.presence_ref)<0),e[d]=p,o(d,p,f),p.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const o=e[s];return"metas"in o?r[s]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[s]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ig;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ig||(Ig={}));var So;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(So||(So={}));var en;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class Mh{constructor(e,r={config:{}},s){var o,a;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cd(this,Nr.join,this.params,this.timeout),this.rejoinTimer=new Fy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nr.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Ao(this),this.broadcastEndpointURL=ky(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:u,presence:d,private:f}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(b=>b.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[So.PRESENCE]&&this.bindings[So.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},x={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(en.CHANNEL_ERROR,b)),this._onClose(()=>e?.(en.CLOSED)),this.updateJoinPayload(Object.assign({config:x},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket.setAuth(),b===void 0){e?.(en.SUBSCRIBED);return}else{const F=this.bindings.postgres_changes,_=(w=F?.length)!==null&&w!==void 0?w:0,j=[];for(let S=0;S<_;S++){const A=F[S],{filter:{event:T,schema:I,table:V,filter:M}}=A,O=b&&b[S];if(O&&O.event===T&&O.schema===I&&O.table===V&&O.filter===M)j.push(Object.assign(Object.assign({},A),{id:O.id}));else{this.unsubscribe(),this.state=ut.errored,e?.(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(en.SUBSCRIBED);return}}).receive("error",b=>{this.state=ut.errored,e?.(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===ut.joined&&e===So.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var o;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const p=await d.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,d,f;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ut.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new cd(this,Nr.leave,{},e),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const o=new AbortController,a=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(a),u}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new cd(this,e,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>gF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var o,a;const u=e.toLocaleLowerCase(),{close:d,error:f,leave:p,join:v}=Nr;if(s&&[d,f,p,v].indexOf(u)>=0&&s!==this._joinRef())return;let x=this._onMessage(u,r,s);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var w,F,_;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(F=b.filter)===null||F===void 0?void 0:F.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(b=>b.callback(x,s)):(a=this.bindings[u])===null||a===void 0||a.filter(b=>{var w,F,_,j,S,A;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const T=b.id,I=(w=b.filter)===null||w===void 0?void 0:w.event;return T&&((F=r.ids)===null||F===void 0?void 0:F.includes(T))&&(I==="*"||I?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const T=(S=(j=b?.filter)===null||j===void 0?void 0:j.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return T==="*"||T===((A=r?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof x=="object"&&"ids"in x){const w=x.data,{schema:F,table:_,commit_timestamp:j,type:S,errors:A}=w;x=Object.assign(Object.assign({},{schema:F,table:_,commit_timestamp:j,eventType:S,new:{},old:{},errors:A}),this._getPayloadRecords(w))}b.callback(x,s)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const o=e.toLocaleLowerCase(),a={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&Mh.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nr.close,{},e)}_onError(e){this._on(Nr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Og(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Og(e.columns,e.old_record)),r}}const ud=()=>{},bl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_F=[1e3,2e3,5e3,1e4],kF=1e4,jF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AF{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xd,this.transport=null,this.heartbeatIntervalMs=bl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ud,this.ref=0,this.reconnectTimer=null,this.vsn=Rg,this.logger=ud,this.conn=null,this.sendBuffer=[],this.serializer=new vF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Jd.websocket}`,this.httpEndpoint=ky(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dF.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ps.connecting:return ms.Connecting;case ps.open:return ms.Open;case ps.closing:return ms.Closing;default:return ms.Closed}}isConnected(){return this.connectionState()===ms.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===s);if(o)return o;{const a=new Mh(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:s,payload:o,ref:a}=e,u=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${s} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(mF,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:a,ref:u}=r,d=u?`(${u})`:"",f=a.status||"";this.log("receive",`${f} ${s} ${o} ${d}`.trim(),a),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,a,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ps.open||this.conn.readyState===ps.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${s}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([jF],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:fF};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Nr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Fy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,o,a,u,d,f,p,v,g,x,b;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Xd,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:bl.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:ud,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:Rg,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(w=>_F[w-1]||kF),this.vsn){case Ey:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((w,F)=>F(JSON.stringify(w))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:((w,F)=>F(JSON.parse(w)));break;case pF:this.encode=(x=e?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class ac extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class SF extends ac{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zd extends ac{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const $h=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),NF=()=>Response,eh=t=>{if(Array.isArray(t))return t.map(r=>eh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=eh(s)}),e},CF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},TF=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),dd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},PF=(t,e,r)=>ae(void 0,void 0,void 0,function*(){const s=yield NF();t instanceof s&&!r?.noResolveJson?t.json().then(o=>{const a=t.status||500,u=o?.statusCode||a+"";e(new SF(dd(o),a,u))}).catch(o=>{e(new Zd(dd(o),o))}):e(new Zd(dd(t),t))}),RF=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(CF(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function Go(t,e,r,s,o,a){return ae(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,RF(e,s,o,a)).then(f=>{if(!f.ok)throw f;return s?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>PF(f,d,s))})})}function Do(t,e,r,s){return ae(this,void 0,void 0,function*(){return Go(t,"GET",e,r,s)})}function Sr(t,e,r,s,o){return ae(this,void 0,void 0,function*(){return Go(t,"POST",e,s,o,r)})}function th(t,e,r,s,o){return ae(this,void 0,void 0,function*(){return Go(t,"PUT",e,s,o,r)})}function OF(t,e,r,s){return ae(this,void 0,void 0,function*(){return Go(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Bh(t,e,r,s,o){return ae(this,void 0,void 0,function*(){return Go(t,"DELETE",e,s,o,r)})}class DF{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}var jy;class IF{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[jy]="BlobDownloadBuilder",this.promise=null}asStream(){return new DF(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}jy=Symbol.toStringTag;const LF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MF{constructor(e,r={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=$h(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,o){return ae(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Lg),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),f&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(f))):(a=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const p=this._removeEmptyFolders(r),v=this._getFinalPath(p),g=yield(e=="PUT"?th:Sr)(this.fetch,`${this.url}/object/${v}`,a,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}upload(e,r,s){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,o){return ae(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let f;const p=Object.assign({upsert:Lg.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",p.cacheControl)):(f=s,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const g=yield th(this.fetch,d.toString(),f,{headers:v});return{data:{path:a,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Ke(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return ae(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const a=yield Sr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(this.url+a.url),d=u.searchParams.get("token");if(!d)throw new ac("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}update(e,r,s){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return ae(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}copy(e,r,s){return ae(this,void 0,void 0,function*(){try{return{data:{path:(yield Sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,s){return ae(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Sr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,s){return ae(this,void 0,void 0,function*(){try{const o=yield Sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),u=a?`?${a}`:"",d=this._getFinalPath(e),f=()=>Do(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new IF(f,this.shouldThrowOnError)}info(e){return ae(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield Do(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:eh(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}exists(e){return ae(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield OF(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s)&&s instanceof Zd){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),o=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&o.push(a);const d=typeof r?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(r?.transform||{});f!==""&&o.push(f);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${p}`)}}}remove(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Bh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}list(e,r,s){return ae(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},LF),r),{prefix:e||""});return{data:yield Sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}listV2(e,r){return ae(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Sr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ay="2.86.0",Sy={"X-Client-Info":`storage-js/${Ay}`};class $F{constructor(e,r={},s,o){this.shouldThrowOnError=!1;const a=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sy),r),this.fetch=$h(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ae(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Do(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}createBucket(e){return ae(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return ae(this,void 0,void 0,function*(){try{return{data:yield th(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Bh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Io=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function BF(t,e,r){const s=new URL(e,t);if(r)for(const[o,a]of Object.entries(r))a!==void 0&&s.searchParams.set(o,a);return s.toString()}async function VF(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function UF(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:o,body:a,headers:u}){const d=BF(t.baseUrl,s,o),f=await VF(t.auth),p=await e(d,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...f,...u},body:a?JSON.stringify(a):void 0}),v=await p.text(),g=(p.headers.get("content-type")||"").includes("application/json"),x=g&&v?JSON.parse(v):v;if(!p.ok){const b=g?x:void 0,w=b?.error;throw new Io(w?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:w?.type,icebergCode:w?.code,details:b})}return{status:p.status,headers:p.headers,data:x}}}}function wl(t){return t.join("")}var zF=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:wl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wl(t.namespace)}`}),!0}catch(e){if(e instanceof Io&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Io&&r.status===409)return;throw r}}};function Ys(t){return t.join("")}var WF=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ys(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ys(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ys(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ys(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ys(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ys(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Io&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Io&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},HF=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=UF({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new zF(this.client,e),this.tableOps=new WF(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class qF{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sy),r),this.fetch=$h(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listBuckets(e){return ae(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const s=r.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Do(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Bh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}from(e){if(!TF(e))throw new ac("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new HF({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ae(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Vh={"X-Client-Info":`storage-js/${Ay}`,"Content-Type":"application/json"};class Ny extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function er(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class hd extends Ny{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class KF extends Ny{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Mg;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Mg||(Mg={}));const Uh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),GF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$g=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),YF=(t,e,r)=>ae(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t.status||500,a=t;if(typeof a.json=="function")a.json().then(u=>{const d=u?.statusCode||u?.code||o+"";e(new hd($g(u),o,d))}).catch(()=>{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new hd(d,o,u))});else{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new hd(d,o,u))}}else e(new KF($g(t),t))}),XF=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return s?(GF(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),r)):o};function JF(t,e,r,s,o,a){return ae(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,XF(e,s,o,a)).then(f=>{if(!f.ok)throw f;if(s?.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>YF(f,d,s))})})}function tr(t,e,r,s,o){return ae(this,void 0,void 0,function*(){return JF(t,"POST",e,s,o,r)})}class QF{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),r),this.fetch=Uh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ae(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}})}listIndexes(e){return ae(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ae(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}})}}class ZF{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),r),this.fetch=Uh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}getVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}listVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield tr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}queryVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}}class e_{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vh),r),this.fetch=Uh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}listBuckets(){return ae(this,arguments,void 0,function*(e={}){try{return{data:yield tr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}}class t_ extends e_{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new r_(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ae(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ae(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ae(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ae(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class r_ extends QF{constructor(e,r,s,o){super(e,r,o),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ae(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ae(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ae(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ae(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new n_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class n_ extends ZF{constructor(e,r,s,o,a){super(e,r,a),this.vectorBucketName=s,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ae(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ae(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ae(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ae(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ae(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class s_ extends $F{constructor(e,r={},s,o){super(e,r,s,o)}from(e){return new MF(this.url,this.headers,e,this.fetch)}get vectors(){return new t_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qF(this.url+"/iceberg",this.headers,this.fetch)}}const i_="2.86.0";let ko="";typeof Deno<"u"?ko="deno":typeof document<"u"?ko="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ko="react-native":ko="node";const o_={"X-Client-Info":`supabase-js-${ko}/${i_}`},a_={headers:o_},l_={schema:"public"},c_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},u_={},d_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),h_=()=>Headers,f_=(t,e,r)=>{const s=d_(r),o=h_();return async(a,u)=>{var d;const f=(d=await e())!==null&&d!==void 0?d:t;let p=new o(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),s(a,Object.assign(Object.assign({},u),{headers:p}))}};function p_(t){return t.endsWith("/")?t:t+"/"}function m_(t,e){var r,s;const{db:o,auth:a,realtime:u,global:d}=t,{db:f,auth:p,realtime:v,global:g}=e,x={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(r=g?.headers)!==null&&r!==void 0?r:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function g_(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(p_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Cy="2.86.0",oi=30*1e3,rh=3,fd=rh*oi,v_="http://localhost:9999",y_="supabase.auth.token",x_={"X-Client-Info":`gotrue-js/${Cy}`},nh="X-Supabase-Api-Version",Ty={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,w_=600*1e3;class Lo extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class E_ extends Lo{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function F_(t){return me(t)&&t.name==="AuthApiError"}class gs extends Lo{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Un extends Lo{constructor(e,r,s,o){super(e,s,o),this.name=r,this.status=s}}class Zt extends Un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function __(t){return me(t)&&t.name==="AuthSessionMissingError"}class Xs extends Un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class El extends Un{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fl extends Un{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function k_(t){return me(t)&&t.name==="AuthImplicitGrantRedirectError"}class Bg extends Un{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sh extends Un{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function pd(t){return me(t)&&t.name==="AuthRetryableFetchError"}class Vg extends Un{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class ih extends Un{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ug=` 	
\r=`.split(""),j_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ug.length;e+=1)t[Ug[e].charCodeAt(0)]=-2;for(let e=0;e<Gl.length;e+=1)t[Gl[e].charCodeAt(0)]=e;return t})();function zg(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Gl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Gl[s]),e.queuedBits-=6}}function Py(t,e,r){const s=j_[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Wg(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{N_(u,s,r)};for(let u=0;u<t.length;u+=1)Py(t.charCodeAt(u),o,a);return e.join("")}function A_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function S_(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}A_(s,e)}}function N_(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function fi(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Py(t.charCodeAt(o),r,s);return new Uint8Array(e)}function C_(t){const e=[];return S_(t,r=>e.push(r)),new Uint8Array(e)}function vs(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>zg(o,r,s)),zg(null,r,s),e.join("")}function T_(t){return Math.round(Date.now()/1e3)+t}function P_(){return Symbol("auth-callback")}const bt=()=>typeof window<"u"&&typeof document<"u",ls={tested:!1,writable:!1},Ry=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ls.tested)return ls.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ls.tested=!0,ls.writable=!0}catch{ls.tested=!0,ls.writable=!1}return ls.writable};function R_(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return r.searchParams.forEach((s,o)=>{e[o]=s}),e}const Oy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),O_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ai=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},cs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rn=async(t,e)=>{await t.removeItem(e)};class lc{constructor(){this.promise=new lc.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}lc.promiseConstructor=Promise;function md(t){const e=t.split(".");if(e.length!==3)throw new ih("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!b_.test(e[s]))throw new ih("JWT not in base64url format");return{header:JSON.parse(Wg(e[0])),payload:JSON.parse(Wg(e[1])),signature:fi(e[2]),raw:{header:e[0],payload:e[1]}}}async function D_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function I_(t,e){return new Promise((s,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){s(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function L_(t){return("0"+t.toString(16)).substr(-2)}function M_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let a=0;a<56;a++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,L_).join("")}async function $_(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function B_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await $_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Js(t,e,r=!1){const s=M_();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await ai(t,`${e}-code-verifier`,o);const a=await B_(s);return[a,s===a?"plain":"s256"]}const V_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function U_(t){const e=t.headers.get(nh);if(!e||!e.match(V_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function z_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function W_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qs(t){if(!H_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gd(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function q_(t,e){return new Proxy(t,{get:(r,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,o)}})}function Hg(t){return JSON.parse(JSON.stringify(t))}const hs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),K_=[502,503,504];async function qg(t){var e;if(!O_(t))throw new sh(hs(t),0);if(K_.includes(t.status))throw new sh(hs(t),t.status);let r;try{r=await t.json()}catch(a){throw new gs(hs(a),a)}let s;const o=U_(t);if(o&&o.getTime()>=Ty["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Vg(hs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Zt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Vg(hs(r),t.status,r.weak_password.reasons);throw new E_(hs(r),t.status||500,s)}const G_=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function we(t,e,r,s){var o;const a=Object.assign({},s?.headers);a[nh]||(a[nh]=Ty["2024-01-01"].name),s?.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await Y_(t,e,r+d,{headers:a,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(f):{data:Object.assign({},f),error:null}}async function Y_(t,e,r,s,o,a){const u=G_(e,s,o,a);let d;try{d=await t(r,Object.assign({},u))}catch(f){throw console.error(f),new sh(hs(f),0)}if(d.ok||await qg(d),s?.noResolveJson)return d;try{return await d.json()}catch(f){await qg(f)}}function jr(t){var e;let r=null;Q_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=T_(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Kg(t){const e=jr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ln(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function X_(t){return{data:t,error:null}}function J_(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:a}=t,u=Vn(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:a},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function Gg(t){return t}function Q_(t){return t.access_token&&t.refresh_token&&t.expires_in}const vd=["global","local","others"];class Z_{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Oy(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=vd[0]){if(vd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vd.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ln})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=Vn(e,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:J_,redirectTo:r?.redirectTo})}catch(r){if(me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ln})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,o,a,u,d,f;try{const p={nextPage:null,lastPage:0,total:0},v=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Gg});if(v.error)throw v.error;const g=await v.json(),x=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const F=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);p[`${_}Page`]=F}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(me(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Qs(e);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ln})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Qs(e);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ln})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Qs(e);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ln})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Qs(e.userId);try{const{data:r,error:s}=await we(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Qs(e.userId),Qs(e.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,o,a,u,d,f;try{const p={nextPage:null,lastPage:0,total:0},v=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Gg});if(v.error)throw v.error;const g=await v.json(),x=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const F=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);p[`${_}Page`]=F}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(me(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await we(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(me(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}}function Yg(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Zs={debug:!!(globalThis&&Ry()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class e2 extends Dy{}async function t2(t,e,r){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new e2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function r2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Iy(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function n2(t){return parseInt(t,16)}function s2(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function i2(t){var e;const{chainId:r,domain:s,expirationTime:o,issuedAt:a=new Date,nonce:u,notBefore:d,requestId:f,resources:p,scheme:v,uri:g,version:x}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=Iy(t.address),w=v?`${v}://${s}`:s,F=t.statement?`${t.statement}
`:"",_=`${w} wants you to sign in with your Ethereum account:
${b}

${F}`;let j=`URI: ${g}
Version: ${x}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(o&&(j+=`
Expiration Time: ${o.toISOString()}`),d&&(j+=`
Not Before: ${d.toISOString()}`),f&&(j+=`
Request ID: ${f}`),p){let S=`
Resources:`;for(const A of p){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);S+=`
- ${A}`}j+=S}return`${_}
${j}`}class nt extends Error{constructor({message:e,code:r,cause:s,name:o}){var a;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=o??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Yl extends nt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function o2({error:t,options:e}){var r,s,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Ly(u)){if(a.rp.id!==u)return new nt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function a2({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Ly(s)){if(r.rpId!==s)return new nt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class l2{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const c2=new l2;function u2(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,o=Vn(t,["challenge","user","excludeCredentials"]),a=fi(e).buffer,u=Object.assign(Object.assign({},r),{id:fi(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:a,user:u});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const p=s[f];d.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:fi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function d2(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=Vn(t,["challenge","allowCredentials"]),o=fi(e).buffer,a=Object.assign(Object.assign({},s),{challenge:o});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];a.allowCredentials[u]=Object.assign(Object.assign({},d),{id:fi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function h2(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:vs(new Uint8Array(t.response.attestationObject)),clientDataJSON:vs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function f2(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:vs(new Uint8Array(o.authenticatorData)),clientDataJSON:vs(new Uint8Array(o.clientDataJSON)),signature:vs(new Uint8Array(o.signature)),userHandle:o.userHandle?vs(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ly(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Xg(){var t,e;return!!(bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function p2(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yl("Browser returned unexpected credential type",e)}:{data:null,error:new Yl("Empty credential response",e)}}catch(e){return{data:null,error:o2({error:e,options:t})}}}async function m2(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yl("Browser returned unexpected credential type",e)}:{data:null,error:new Yl("Empty credential response",e)}}catch(e){return{data:null,error:a2({error:e,options:t})}}}const g2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},v2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xl(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const a in o){const u=o[a];if(u!==void 0)if(Array.isArray(u))s[a]=u;else if(r(u))s[a]=u;else if(e(u)){const d=s[a];e(d)?s[a]=Xl(d,u):s[a]=Xl(u)}else s[a]=u}return s}function y2(t,e){return Xl(g2,t,e||{})}function x2(t,e){return Xl(v2,t,e||{})}class b2{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:o},a){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:d};const f=o??c2.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=y2(u.webauthn.credential_options.publicKey,a?.create),{data:v,error:g}=await p2({publicKey:p,signal:f});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:g}}case"request":{const p=x2(u.webauthn.credential_options.publicKey,a?.request),{data:v,error:g}=await m2(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:f}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:g}}}}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new gs("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!r)return{data:null,error:new Lo("rpId is required for WebAuthn authentication")};try{if(!Xg())return{data:null,error:new gs("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:o},{request:a});if(!u)return{data:null,error:d};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:s,credential_response:f.credential_response}})}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new gs("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!r)return{data:null,error:new Lo("rpId is required for WebAuthn registration")};try{if(!Xg())return{data:null,error:new gs("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var g;return(g=v.data)===null||g===void 0?void 0:g.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:f,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:o},{create:a});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:s,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new gs("Unexpected error in register",u)}}}}r2();const w2={url:v_,storageKey:y_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Jg(t,e,r){return await r()}const ei={};class Mo{get jwks(){var e,r;return(r=(e=ei[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ei[this.storageKey]=Object.assign(Object.assign({},ei[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ei[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ei[this.storageKey]=Object.assign(Object.assign({},ei[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},w2),e);if(this.storageKey=a.storageKey,this.instanceID=(r=Mo.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Mo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&bt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Z_({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Oy(a.fetch),this.lock=a.lock||Jg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:bt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=t2:this.lock=Jg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new b2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Ry()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Yg(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Cy}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(bt()&&(r=R_(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),bt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:a}=await this._getSessionFromURL(r,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),k_(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return me(r)?this._returnResult({error:r}):this._returnResult({error:new gs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,o;try{const a=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:jr}),{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,s,o;try{let a;if("email"in e){const{email:v,password:g,options:x}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await Js(this.storage,this.storageKey)),a=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:g,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:b,code_challenge_method:w},xform:jr})}else if("phone"in e){const{phone:v,password:g,options:x}=e;a=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:g,data:(s=x?.data)!==null&&s!==void 0?s:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:jr})}else throw new El("You must provide either an email or phone number and a password");const{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:u,options:d}=e;r=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Kg})}else if("phone"in e){const{phone:a,password:u,options:d}=e;r=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Kg})}else throw new El("You must provide either an email or phone number and a password");const{data:s,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const a=new Xs;return this._returnResult({data:{user:null,session:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,o,a,u,d,f,p,v,g,x;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:F,wallet:_,statement:j,options:S}=e;let A;if(bt())if(typeof _=="object")A=_;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")A=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const T=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href),I=await A.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=Iy(I[0]);let M=(s=S?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!M){const X=await A.request({method:"eth_chainId"});M=n2(X)}const O={domain:T.host,address:V,statement:j,uri:T.href,version:"1",chainId:M,nonce:(o=S?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(a=S?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=S?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=S?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=S?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=S?.signInWithEthereum)===null||v===void 0?void 0:v.resources};b=i2(O),w=await A.request({method:"personal_sign",params:[s2(b),V]})}try{const{data:F,error:_}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:jr});if(_)throw _;if(!F||!F.session||!F.user){const j=new Xs;return this._returnResult({data:{user:null,session:null},error:j})}return F.session&&(await this._saveSession(F.session),await this._notifyAllSubscribers("SIGNED_IN",F.session)),this._returnResult({data:Object.assign({},F),error:_})}catch(F){if(me(F))return this._returnResult({data:{user:null,session:null},error:F});throw F}}async signInWithSolana(e){var r,s,o,a,u,d,f,p,v,g,x,b;let w,F;if("message"in e)w=e.message,F=e.signature;else{const{chain:_,wallet:j,statement:S,options:A}=e;let T;if(bt())if(typeof j=="object")T=j;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))T=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=j}const I=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const V=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),S?{statement:S}:null));let M;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")M=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)M=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)w=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),F=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${I.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(s=A?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=A?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((p=A?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((g=(v=A?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||g===void 0)&&g.length?["Resources",...A.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const V=await T.signMessage(new TextEncoder().encode(w),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");F=V}}try{const{data:_,error:j}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:vs(F)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:jr});if(j)throw j;if(!_||!_.session||!_.user){const S=new Xs;return this._returnResult({data:{user:null,session:null},error:S})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(me(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const r=await cs(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{const{data:a,error:u}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:jr});if(await Rn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const d=new Xs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:s,token:o,access_token:a,nonce:u}=e,d=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:jr}),{data:f,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const v=new Xs;return this._returnResult({data:{user:null,session:null},error:v})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(r){if(me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,o,a,u;try{if("email"in e){const{email:d,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Js(this.storage,this.storageKey));const{error:g}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:d,options:f}=e,{data:p,error:v}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new El("You must provide either an email or phone number.")}catch(d){if(me(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,s;try{let o,a;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:jr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,s,o,a,u;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Js(this.storage,this.storageKey));const p=await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:X_});return!((a=p.data)===null||a===void 0)&&a.url&&bt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(me(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Zt;const{error:o}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:a}=e,{error:u}=await we(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:a}=e,{data:u,error:d}=await we(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new El("You must provide either an email or phone number and a type")}catch(r){if(me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await cs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<fd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await cs(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=gd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=q_(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ln}):await this._useSession(async r=>{var s,o,a;const{data:u,error:d}=r;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zt}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Ln})})}catch(r){if(me(r))return __(r)&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new Zt;const u=o.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await Js(this.storage,this.storageKey));const{data:p,error:v}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:Ln});if(v)throw v;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(me(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zt;const r=Date.now()/1e3;let s=r,o=!0,a=null;const{payload:u}=md(e.access_token);if(u.exp&&(s=u.exp,o=s<=r),o){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Zt;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!bt())throw new Fl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Fl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Bg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Bg("No code detected.");const{data:S,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:d,expires_at:f,token_type:p}=e;if(!a||!d||!u||!p)throw new Fl("No session defined in URL");const v=Math.round(Date.now()/1e3),g=parseInt(d);let x=v+g;f&&(x=parseInt(f));const b=x-v;b*1e3<=oi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const w=x-g;v-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,x,v):v-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,x,v);const{data:F,error:_}=await this._getUser(a);if(_)throw _;const j={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:g,expires_at:x,refresh_token:u,token_type:p,user:F.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(s){if(me(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await cs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:a}=r;if(a)return this._returnResult({error:a});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(F_(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=P_(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,o;try{const{data:{session:a},error:u}=r;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Js(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:o}=await this._useSession(async a=>{var u,d,f,p,v;const{data:g,error:x}=a;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(p=g.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return bt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(me(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:o,data:{session:a}}=r;if(o)throw o;const{options:u,provider:d,token:f,access_token:p,nonce:v}=e,g=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:f,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:jr}),{data:x,error:b}=g;return b?this._returnResult({data:{user:null,session:null},error:b}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Xs}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:b}))}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,o;const{data:a,error:u}=r;if(u)throw u;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await I_(async o=>(o>0&&await D_(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jr})),(o,a)=>{const u=200*Math.pow(2,o);return a&&pd(a)&&Date.now()+u-s<oi})}catch(s){if(this._debug(r,"error",s),me(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),bt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await cs(this.storage,this.storageKey);if(o&&this.userStorage){let u=await cs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await ai(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:gd()}else if(o&&!o.user&&!o.user){const u=await cs(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await Rn(this.storage,this.storageKey+"-user"),await ai(this.storage,this.storageKey,o)):o.user=gd()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const a=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fd;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${fd}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),pd(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new lc;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new Zt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(o,"error",a),me(a)){const u={data:null,error:a};return pd(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(f){a.push(f)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await ai(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const a=Hg(o);await ai(this.storage,this.storageKey,a)}else{const o=Hg(r);await ai(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Rn(this.storage,this.storageKey),await Rn(this.storage,this.storageKey+"-code-verifier"),await Rn(this.storage,this.storageKey+"-user"),this.userStorage&&await Rn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),oi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/oi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${oi}ms, refresh threshold is ${rh} ticks`),o<=rh&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Dy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,u]=await Js(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(s?.queryParams){const a=new URLSearchParams(s.queryParams);o.push(a.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:o,error:a}=r;return a?this._returnResult({data:null,error:a}):await we(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,o;const{data:a,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await we(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?h2(e.webauthn.credential_response):f2(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:u2(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:d2(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=md(s.access_token);let u=null;a.aal&&(u=a.aal);let d=u;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=a.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await we(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Zt});const u=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&bt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Zt});const u=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&bt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await we(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(e){if(me(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?(await we(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zt})})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+w_>o)return s;const{data:a,error:u}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,s=a.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:b,error:w}=await this.getSession();if(w||!b.session)return this._returnResult({data:null,error:w});s=b.session.access_token}const{header:o,payload:a,signature:u,raw:{header:d,payload:f}}=md(s);r?.allowExpired||z_(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:b}=await this.getUser(s);if(b)throw b;return{data:{claims:a,header:o,signature:u},error:null}}const v=W_(o.alg),g=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,g,u,C_(`${d}.${f}`)))throw new ih("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}}Mo.nextInstanceID={};const E2=Mo;class F2 extends E2{constructor(e){super(e)}}class _2{constructor(e,r,s){var o,a,u;this.supabaseUrl=e,this.supabaseKey=r;const d=g_(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:l_,realtime:u_,auth:Object.assign(Object.assign({},c_),{storageKey:f}),global:a_},v=m_(s??{},p);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=v.global.headers)!==null&&a!==void 0?a:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=f_(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new uF(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new s_(this.storageUrl.href,this.headers,this.fetch,s?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new oF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:a,storageKey:u,flowType:d,lock:f,debug:p,throwOnError:v},g,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F2({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),g),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:a,flowType:d,lock:f,debug:p,throwOnError:v,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new AF(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const k2=(t,e,r)=>new _2(t,e,r);function j2(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}j2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");/*! Capacitor: https://capacitorjs.com/ - MIT License */var yi;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(yi||(yi={}));let yd=class extends Error{constructor(e,r,s){super(e),this.message=e,this.code=r,this.data=s}};const A2=t=>{var e,r;return t?.androidBridge?"android":!((r=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},S2=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},s=r.Plugins=r.Plugins||{},o=()=>e!==null?e.name:A2(t),a=()=>o()!=="web",u=g=>{const x=p.get(g);return!!(x?.platforms.has(o())||d(g))},d=g=>{var x;return(x=r.PluginHeaders)===null||x===void 0?void 0:x.find(b=>b.name===g)},f=g=>t.console.error(g),p=new Map,v=(g,x={})=>{const b=p.get(g);if(b)return console.warn(`Capacitor plugin "${g}" already registered. Cannot register plugins twice.`),b.proxy;const w=o(),F=d(g);let _;const j=async()=>(!_&&w in x?_=typeof x[w]=="function"?_=await x[w]():_=x[w]:e!==null&&!_&&"web"in x&&(_=typeof x.web=="function"?_=await x.web():_=x.web),_),S=(O,X)=>{var le,Ee;if(F){const Z=F?.methods.find(ee=>X===ee.name);if(Z)return Z.rtype==="promise"?ee=>r.nativePromise(g,X.toString(),ee):(ee,je)=>r.nativeCallback(g,X.toString(),ee,je);if(O)return(le=O[X])===null||le===void 0?void 0:le.bind(O)}else{if(O)return(Ee=O[X])===null||Ee===void 0?void 0:Ee.bind(O);throw new yd(`"${g}" plugin is not implemented on ${w}`,yi.Unimplemented)}},A=O=>{let X;const le=(...Ee)=>{const Z=j().then(ee=>{const je=S(ee,O);if(je){const pe=je(...Ee);return X=pe?.remove,pe}else throw new yd(`"${g}.${O}()" is not implemented on ${w}`,yi.Unimplemented)});return O==="addListener"&&(Z.remove=async()=>X()),Z};return le.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(le,"name",{value:O,writable:!1,configurable:!1}),le},T=A("addListener"),I=A("removeListener"),V=(O,X)=>{const le=T({eventName:O},X),Ee=async()=>{const ee=await le;I({eventName:O,callbackId:ee},X)},Z=new Promise(ee=>le.then(()=>ee({remove:Ee})));return Z.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Ee()},Z},M=new Proxy({},{get(O,X){switch(X){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return F?V:T;case"removeListener":return I;default:return A(X)}}});return s[g]=M,p.set(g,{name:g,proxy:M,platforms:new Set([...Object.keys(x),...F?[w]:[]])}),M};return r.convertFileSrc||(r.convertFileSrc=g=>g),r.getPlatform=o,r.handleError=f,r.isNativePlatform=a,r.isPluginAvailable=u,r.registerPlugin=v,r.Exception=yd,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},N2=t=>t.Capacitor=S2(t),$o=N2(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),cc=$o.registerPlugin;let My=class{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(r);const a=this.windowListeners[e];a&&!a.registered&&this.addWindowListener(a),s&&this.sendRetainedArgumentsForEvent(e);const u=async()=>this.removeListener(e,r);return Promise.resolve({remove:u})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,s){const o=this.listeners[e];if(!o){if(s){let a=this.retainedEventArguments[e];a||(a=[]),a.push(r),this.retainedEventArguments[e]=a}return}o.forEach(a=>a(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:s=>{this.notifyListeners(r,s)}}}unimplemented(e="not implemented"){return new $o.Exception(e,yi.Unimplemented)}unavailable(e="not available"){return new $o.Exception(e,yi.Unavailable)}async removeListener(e,r){const s=this.listeners[e];if(!s)return;const o=s.indexOf(r);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(s=>{this.notifyListeners(e,s)}))}};const Qg=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Zg=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class C2 extends My{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[o,a]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=Zg(o).trim(),a=Zg(a).trim(),r[o]=a}),r}async setCookie(e){try{const r=Qg(e.key),s=Qg(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,a=(e.path||"/").replace("path=",""),u=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${s||""}${o}; path=${a}; ${u};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}cc("CapacitorCookies",{web:()=>new C2});const T2=async t=>new Promise((e,r)=>{const s=new FileReader;s.onload=()=>{const o=s.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},s.onerror=o=>r(o),s.readAsDataURL(t)}),P2=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(o=>o.toLocaleLowerCase()).reduce((o,a,u)=>(o[a]=t[e[u]],o),{})},R2=(t,e=!0)=>t?Object.entries(t).reduce((s,o)=>{const[a,u]=o;let d,f;return Array.isArray(u)?(f="",u.forEach(p=>{d=e?encodeURIComponent(p):p,f+=`${a}=${d}&`}),f.slice(0,-1)):(d=e?encodeURIComponent(u):u,f=`${a}=${d}`),`${s}&${f}`},"").substr(1):null,O2=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),o=P2(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(o.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[u,d]of Object.entries(t.data||{}))a.set(u,d);r.body=a.toString()}else if(o.includes("multipart/form-data")||t.data instanceof FormData){const a=new FormData;if(t.data instanceof FormData)t.data.forEach((d,f)=>{a.append(f,d)});else for(const d of Object.keys(t.data))a.append(d,t.data[d]);r.body=a;const u=new Headers(r.headers);u.delete("content-type"),r.headers=u}else(o.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class D2 extends My{async request(e){const r=O2(e,e.webFetchExtra),s=R2(e.params,e.shouldEncodeUrlParams),o=s?`${e.url}?${s}`:e.url,a=await fetch(o,r),u=a.headers.get("content-type")||"";let{responseType:d="text"}=a.ok?e:{};u.includes("application/json")&&(d="json");let f,p;switch(d){case"arraybuffer":case"blob":p=await a.blob(),f=await T2(p);break;case"json":f=await a.json();break;case"document":case"text":default:f=await a.text()}const v={};return a.headers.forEach((g,x)=>{v[x]=g}),{data:f,headers:v,status:a.status,url:a.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}cc("CapacitorHttp",{web:()=>new D2});/*! Capacitor: https://capacitorjs.com/ - MIT License */const I2=t=>{const e=new Map;e.set("web",{name:"web"});const r=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},s=(a,u)=>{r.platforms.set(a,u)},o=a=>{r.platforms.has(a)&&(r.currentPlatform=r.platforms.get(a))};return r.addPlatform=s,r.setPlatform=o,r},L2=t=>t.CapacitorPlatforms=I2(t),$y=L2(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});$y.addPlatform;$y.setPlatform;var xi;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(xi||(xi={}));class xd extends Error{constructor(e,r){super(e),this.message=e,this.code=r}}const M2=t=>{var e,r;return t?.androidBridge?"android":!((r=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},$2=t=>{var e,r,s,o,a;const u=t.CapacitorCustomPlatform||null,d=t.Capacitor||{},f=d.Plugins=d.Plugins||{},p=t.CapacitorPlatforms,v=()=>u!==null?u.name:M2(t),g=((e=p?.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||v,x=()=>g()!=="web",b=((r=p?.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||x,w=M=>{const O=T.get(M);return!!(O?.platforms.has(g())||j(M))},F=((s=p?.currentPlatform)===null||s===void 0?void 0:s.isPluginAvailable)||w,_=M=>{var O;return(O=d.PluginHeaders)===null||O===void 0?void 0:O.find(X=>X.name===M)},j=((o=p?.currentPlatform)===null||o===void 0?void 0:o.getPluginHeader)||_,S=M=>t.console.error(M),A=(M,O,X)=>Promise.reject(`${X} does not have an implementation of "${O}".`),T=new Map,I=(M,O={})=>{const X=T.get(M);if(X)return console.warn(`Capacitor plugin "${M}" already registered. Cannot register plugins twice.`),X.proxy;const le=g(),Ee=j(M);let Z;const ee=async()=>(!Z&&le in O?Z=typeof O[le]=="function"?Z=await O[le]():Z=O[le]:u!==null&&!Z&&"web"in O&&(Z=typeof O.web=="function"?Z=await O.web():Z=O.web),Z),je=(W,P)=>{var z,K;if(Ee){const J=Ee?.methods.find(ne=>P===ne.name);if(J)return J.rtype==="promise"?ne=>d.nativePromise(M,P.toString(),ne):(ne,ye)=>d.nativeCallback(M,P.toString(),ne,ye);if(W)return(z=W[P])===null||z===void 0?void 0:z.bind(W)}else{if(W)return(K=W[P])===null||K===void 0?void 0:K.bind(W);throw new xd(`"${M}" plugin is not implemented on ${le}`,xi.Unimplemented)}},pe=W=>{let P;const z=(...K)=>{const J=ee().then(ne=>{const ye=je(ne,W);if(ye){const ge=ye(...K);return P=ge?.remove,ge}else throw new xd(`"${M}.${W}()" is not implemented on ${le}`,xi.Unimplemented)});return W==="addListener"&&(J.remove=async()=>P()),J};return z.toString=()=>`${W.toString()}() { [capacitor code] }`,Object.defineProperty(z,"name",{value:W,writable:!1,configurable:!1}),z},oe=pe("addListener"),te=pe("removeListener"),$=(W,P)=>{const z=oe({eventName:W},P),K=async()=>{const ne=await z;te({eventName:W,callbackId:ne},P)},J=new Promise(ne=>z.then(()=>ne({remove:K})));return J.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await K()},J},re=new Proxy({},{get(W,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Ee?$:oe;case"removeListener":return te;default:return pe(P)}}});return f[M]=re,T.set(M,{name:M,proxy:re,platforms:new Set([...Object.keys(O),...Ee?[le]:[]])}),re},V=((a=p?.currentPlatform)===null||a===void 0?void 0:a.registerPlugin)||I;return d.convertFileSrc||(d.convertFileSrc=M=>M),d.getPlatform=g,d.handleError=S,d.isNativePlatform=b,d.isPluginAvailable=F,d.pluginMethodNoop=A,d.registerPlugin=V,d.Exception=xd,d.DEBUG=!!d.DEBUG,d.isLoggingEnabled=!!d.isLoggingEnabled,d.platform=d.getPlatform(),d.isNative=d.isNativePlatform(),d},B2=t=>t.Capacitor=$2(t),Jl=B2(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),V2=Jl.registerPlugin;Jl.Plugins;class L4{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o);const a=async()=>this.removeListener(e,r),u=Promise.resolve({remove:a});return Object.defineProperty(u,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await a()}}),u}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r){const s=this.listeners[e];s&&s.forEach(o=>o(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:s=>{this.notifyListeners(r,s)}}}unimplemented(e="not implemented"){return new Jl.Exception(e,xi.Unimplemented)}unavailable(e="not available"){return new Jl.Exception(e,xi.Unavailable)}async removeListener(e,r){const s=this.listeners[e];if(!s)return;const o=s.indexOf(r);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const U2=V2("Http",{web:()=>Oo(()=>import("./web-E5FHP3EU.js"),[]).then(t=>new t.HttpWeb),electron:()=>Oo(()=>import("./web-E5FHP3EU.js"),[]).then(t=>new t.HttpWeb)}),z2="djsuqvmefbgnmoyfpqhi",W2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRqc3Vxdm1lZmJnbm1veWZwcWhpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMDc4MzcsImV4cCI6MjA3MTg4MzgzN30.ojH8W5hjbUbKKf_AaMnYzHGA5vf_fDtG8Bvguet8soA";let _l=null;const H2=async(t,e)=>{const r=typeof t=="string"?t:t.url,s=e||{},{method:o="GET",headers:a,body:u}=s,d={};a instanceof Headers?a.forEach((f,p)=>{d[p]=f}):a&&Object.assign(d,a);try{const f=await U2.request({url:r,method:o,headers:d,data:u?typeof u=="string"?JSON.parse(u):u:void 0}),p=new Blob([JSON.stringify(f.data)],{type:d["Content-Type"]||"application/json"});return new Response(p,{status:f.status,statusText:"OK",headers:f.headers})}catch(f){return console.error("Capacitor HTTP Fetch Error:",f),new Response(JSON.stringify({error:f.message||"Network request failed"}),{status:0,statusText:"Network Error"})}};function dt(){if(_l)return _l;const t=`https://${z2}.supabase.co`,e={auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:typeof window<"u"?window.localStorage:void 0}};return $o.isNativePlatform()&&(console.log("[Supabase] Using native HTTP fetch adapter for iOS/Android."),e.global={fetch:H2}),_l=k2(t,W2,e),_l}const Te=dt(),q2=Object.freeze(Object.defineProperty({__proto__:null,createClient:dt,supabase:Te},Symbol.toStringTag,{value:"Module"}));function K2(){const[t,e]=k.useState(null),[r,s]=k.useState(null),[o,a]=k.useState(!0),[u,d]=k.useState(!1),[f,p]=k.useState(!1);k.useEffect(()=>{const w=dt();w.auth.getSession().then(({data:{session:_}})=>{e(_?.user??null),_?.user?v(_.user.id):a(!1)});const{data:{subscription:F}}=w.auth.onAuthStateChange((_,j)=>{e(j?.user??null),j?.user?v(j.user.id):(s(null),a(!1))});return()=>F.unsubscribe()},[]);async function v(w){const F=dt();console.log("Loading street user for ID:",w);const{data:_,error:j}=await F.from("street_users").select("*").eq("id",w).single();if(console.log("Street user query result:",{streetUserData:_,userError:j}),j){console.error("Error loading street user:",{message:j.message,details:j.details,hint:j.hint,code:j.code,fullError:j}),a(!1);return}if(_){s(_);const{data:S,error:A}=await F.from("street_contract_acceptances").select("*").eq("user_id",w).single();console.log("Contract query result:",{contractData:S,contractError:A}),d(!S&&_.status==="pending");const T=localStorage.getItem(`onboarding_seen_${w}`);p(!T&&!S)}a(!1)}return{user:t,streetUser:r,loading:o,needsContract:u,needsOnboarding:f,signIn:async(w,F)=>{const _=dt();console.log("Calling Supabase signInWithPassword...");const{data:j,error:S}=await _.auth.signInWithPassword({email:w,password:F});return console.log("Supabase auth response - data:",j,"error:",S),{data:j,error:S}},signOut:async()=>{await dt().auth.signOut(),e(null),s(null)},markOnboardingComplete:()=>{t&&(localStorage.setItem(`onboarding_seen_${t.id}`,"true"),p(!1))}}}async function G2(){const t=dt();try{await t.from("street_ranks").select("*").limit(1)}catch{console.log("Database tables may not exist yet. They should be created via Supabase dashboard.");return}const{data:e}=await t.from("street_ranks").select("*");if(!e||e.length===0){const s=[{name:"Bronze",min_xp:0,order_index:1,perks_description:"Entry level. Learn the ropes. 15% platform fee share on first 15 venues for 12 months."},{name:"Silver",min_xp:1e3,order_index:2,perks_description:"Proven hustler. Priority lead approval. Early access to new features."},{name:"Gold",min_xp:2500,order_index:3,perks_description:"City mover. 20% platform fee share. Exclusive weekly missions."},{name:"Platinum",min_xp:5e3,order_index:4,perks_description:"Elite status. 25% platform fee share. Direct HQ line. First pick on high-value leads."},{name:"Diamond",min_xp:1e4,order_index:5,perks_description:"Top 1%. 30% platform fee share for life. VIP events. Mentor bonuses."},{name:"Black Key",min_xp:25e3,order_index:6,perks_description:"Legendary. Equity consideration. Co-create strategy with HQ. Lifetime rev-share on your network."}];for(const o of s)await t.from("street_ranks").insert(o)}const{data:r}=await t.from("street_missions").select("*");if(!r||r.length===0){const s=new Date().toISOString(),o=new Date(Date.now()+10080*60*1e3).toISOString(),a=[{title:"First Contact",description:"Add 3 new venue leads today",type:"daily",scope:"global",city:null,xp_reward:100,point_reward:10,required_count:3,valid_from:s,valid_to:o,created_by:null},{title:"Street Runner",description:"Complete 5 street runs this week",type:"weekly",scope:"global",city:null,xp_reward:500,point_reward:50,required_count:5,valid_from:s,valid_to:o,created_by:null},{title:"Relationship Builder",description:'Move 2 leads to "Follow Up" stage',type:"daily",scope:"global",city:null,xp_reward:150,point_reward:15,required_count:2,valid_from:s,valid_to:o,created_by:null}];for(const u of a)await t.from("street_missions").insert(u)}}var By=Hv();const Vy=Th(By);function Y2(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const X2=t=>{switch(t){case"success":return Z2;case"info":return tk;case"warning":return ek;case"error":return rk;default:return null}},J2=Array(12).fill(0),Q2=({visible:t,className:e})=>Q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Q.createElement("div",{className:"sonner-spinner"},J2.map((r,s)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Z2=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ek=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tk=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),rk=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nk=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),sk=()=>{const[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let oh=1;class ik{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:s,...o}=e,a=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:oh++,u=this.toasts.find(f=>f.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:s}),{...f,...e,id:a,dismissible:d,title:s}):f):this.addToast({title:s,...o,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=s!==void 0,u;const d=o.then(async p=>{if(u=["resolve",p],Q.isValidElement(p))a=!1,this.create({id:s,type:"default",message:p});else if(ak(p)&&!p.ok){a=!1;const g=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,w=typeof g=="object"&&!Q.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...w})}else if(p instanceof Error){a=!1;const g=typeof r.error=="function"?await r.error(p):r.error,x=typeof r.description=="function"?await r.description(p):r.description,w=typeof g=="object"&&!Q.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...w})}else if(r.success!==void 0){a=!1;const g=typeof r.success=="function"?await r.success(p):r.success,x=typeof r.description=="function"?await r.description(p):r.description,w=typeof g=="object"&&!Q.isValidElement(g)?g:{message:g};this.create({id:s,type:"success",description:x,...w})}}).catch(async p=>{if(u=["reject",p],r.error!==void 0){a=!1;const v=typeof r.error=="function"?await r.error(p):r.error,g=typeof r.description=="function"?await r.description(p):r.description,b=typeof v=="object"&&!Q.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:g,...b})}}).finally(()=>{a&&(this.dismiss(s),s=void 0),r.finally==null||r.finally.call(r)}),f=()=>new Promise((p,v)=>d.then(()=>u[0]==="reject"?v(u[1]):p(u[1])).catch(v));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(e,r)=>{const s=r?.id||oh++;return this.create({jsx:e(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Vt=new ik,ok=(t,e)=>{const r=e?.id||oh++;return Vt.addToast({title:t,...e,id:r}),r},ak=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",lk=ok,ck=()=>Vt.toasts,uk=()=>Vt.getActiveToasts(),Le=Object.assign(lk,{success:Vt.success,info:Vt.info,warning:Vt.warning,error:Vt.error,custom:Vt.custom,message:Vt.message,promise:Vt.promise,dismiss:Vt.dismiss,loading:Vt.loading},{getHistory:ck,getToasts:uk});Y2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function kl(t){return t.label!==void 0}const dk=3,hk="24px",fk="16px",e0=4e3,pk=356,mk=14,gk=45,vk=200;function Mr(...t){return t.filter(Boolean).join(" ")}function yk(t){const[e,r]=t.split("-"),s=[];return e&&s.push(e),r&&s.push(r),s}const xk=t=>{var e,r,s,o,a,u,d,f,p;const{invert:v,toast:g,unstyled:x,interacting:b,setHeights:w,visibleToasts:F,heights:_,index:j,toasts:S,expanded:A,removeToast:T,defaultRichColors:I,closeButton:V,style:M,cancelButtonStyle:O,actionButtonStyle:X,className:le="",descriptionClassName:Ee="",duration:Z,position:ee,gap:je,expandByDefault:pe,classNames:oe,icons:te,closeButtonAriaLabel:$="Close toast"}=t,[re,W]=Q.useState(null),[P,z]=Q.useState(null),[K,J]=Q.useState(!1),[ne,ye]=Q.useState(!1),[ge,ve]=Q.useState(!1),[Ce,We]=Q.useState(!1),[qt,Ot]=Q.useState(!1),[_s,Wn]=Q.useState(0),[ra,Pi]=Q.useState(0),Ur=Q.useRef(g.duration||Z||e0),Ri=Q.useRef(null),Kt=Q.useRef(null),Hn=j===0,an=j+1<=F,gt=g.type,zr=g.dismissible!==!1,na=g.className||"",sa=g.descriptionClassName||"",qn=Q.useMemo(()=>_.findIndex(ke=>ke.toastId===g.id)||0,[_,g.id]),Oi=Q.useMemo(()=>{var ke;return(ke=g.closeButton)!=null?ke:V},[g.closeButton,V]),Kn=Q.useMemo(()=>g.duration||Z||e0,[g.duration,Z]),ks=Q.useRef(0),sr=Q.useRef(0),ln=Q.useRef(0),cn=Q.useRef(null),[ia,oa]=ee.split("-"),aa=Q.useMemo(()=>_.reduce((ke,Je,ot)=>ot>=qn?ke:ke+Je.height,0),[_,qn]),js=sk(),Di=g.invert||v,Gn=gt==="loading";sr.current=Q.useMemo(()=>qn*je+aa,[qn,aa]),Q.useEffect(()=>{Ur.current=Kn},[Kn]),Q.useEffect(()=>{J(!0)},[]),Q.useEffect(()=>{const ke=Kt.current;if(ke){const Je=ke.getBoundingClientRect().height;return Pi(Je),w(ot=>[{toastId:g.id,height:Je,position:g.position},...ot]),()=>w(ot=>ot.filter(Et=>Et.toastId!==g.id))}},[w,g.id]),Q.useLayoutEffect(()=>{if(!K)return;const ke=Kt.current,Je=ke.style.height;ke.style.height="auto";const ot=ke.getBoundingClientRect().height;ke.style.height=Je,Pi(ot),w(Et=>Et.find(tt=>tt.toastId===g.id)?Et.map(tt=>tt.toastId===g.id?{...tt,height:ot}:tt):[{toastId:g.id,height:ot,position:g.position},...Et])},[K,g.title,g.description,w,g.id,g.jsx,g.action,g.cancel]);const ir=Q.useCallback(()=>{ye(!0),Wn(sr.current),w(ke=>ke.filter(Je=>Je.toastId!==g.id)),setTimeout(()=>{T(g)},vk)},[g,T,w,sr]);Q.useEffect(()=>{if(g.promise&&gt==="loading"||g.duration===1/0||g.type==="loading")return;let ke;return A||b||js?(()=>{if(ln.current<ks.current){const Et=new Date().getTime()-ks.current;Ur.current=Ur.current-Et}ln.current=new Date().getTime()})():(()=>{Ur.current!==1/0&&(ks.current=new Date().getTime(),ke=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),ir()},Ur.current))})(),()=>clearTimeout(ke)},[A,b,g,gt,js,ir]),Q.useEffect(()=>{g.delete&&(ir(),g.onDismiss==null||g.onDismiss.call(g,g))},[ir,g.delete]);function Ii(){var ke;if(te?.loading){var Je;return Q.createElement("div",{className:Mr(oe?.loader,g==null||(Je=g.classNames)==null?void 0:Je.loader,"sonner-loader"),"data-visible":gt==="loading"},te.loading)}return Q.createElement(Q2,{className:Mr(oe?.loader,g==null||(ke=g.classNames)==null?void 0:ke.loader),visible:gt==="loading"})}const un=g.icon||te?.[gt]||X2(gt);var Wr,Li;return Q.createElement("li",{tabIndex:0,ref:Kt,className:Mr(le,na,oe?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,oe?.default,oe?.[gt],g==null||(r=g.classNames)==null?void 0:r[gt]),"data-sonner-toast":"","data-rich-colors":(Wr=g.richColors)!=null?Wr:I,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":K,"data-promise":!!g.promise,"data-swiped":qt,"data-removed":ne,"data-visible":an,"data-y-position":ia,"data-x-position":oa,"data-index":j,"data-front":Hn,"data-swiping":ge,"data-dismissible":zr,"data-type":gt,"data-invert":Di,"data-swipe-out":Ce,"data-swipe-direction":P,"data-expanded":!!(A||pe&&K),"data-testid":g.testId,style:{"--index":j,"--toasts-before":j,"--z-index":S.length-j,"--offset":`${ne?_s:sr.current}px`,"--initial-height":pe?"auto":`${ra}px`,...M,...g.style},onDragEnd:()=>{ve(!1),W(null),cn.current=null},onPointerDown:ke=>{ke.button!==2&&(Gn||!zr||(Ri.current=new Date,Wn(sr.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(ve(!0),cn.current={x:ke.clientX,y:ke.clientY})))},onPointerUp:()=>{var ke,Je,ot;if(Ce||!zr)return;cn.current=null;const Et=Number(((ke=Kt.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),dn=Number(((Je=Kt.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),tt=new Date().getTime()-((ot=Ri.current)==null?void 0:ot.getTime()),ht=re==="x"?Et:dn,hn=Math.abs(ht)/tt;if(Math.abs(ht)>=gk||hn>.11){Wn(sr.current),g.onDismiss==null||g.onDismiss.call(g,g),z(re==="x"?Et>0?"right":"left":dn>0?"down":"up"),ir(),We(!0);return}else{var vt,Gt;(vt=Kt.current)==null||vt.style.setProperty("--swipe-amount-x","0px"),(Gt=Kt.current)==null||Gt.style.setProperty("--swipe-amount-y","0px")}Ot(!1),ve(!1),W(null)},onPointerMove:ke=>{var Je,ot,Et;if(!cn.current||!zr||((Je=window.getSelection())==null?void 0:Je.toString().length)>0)return;const tt=ke.clientY-cn.current.y,ht=ke.clientX-cn.current.x;var hn;const vt=(hn=t.swipeDirections)!=null?hn:yk(ee);!re&&(Math.abs(ht)>1||Math.abs(tt)>1)&&W(Math.abs(ht)>Math.abs(tt)?"x":"y");let Gt={x:0,y:0};const fn=or=>1/(1.5+Math.abs(or)/20);if(re==="y"){if(vt.includes("top")||vt.includes("bottom"))if(vt.includes("top")&&tt<0||vt.includes("bottom")&&tt>0)Gt.y=tt;else{const or=tt*fn(tt);Gt.y=Math.abs(or)<Math.abs(tt)?or:tt}}else if(re==="x"&&(vt.includes("left")||vt.includes("right")))if(vt.includes("left")&&ht<0||vt.includes("right")&&ht>0)Gt.x=ht;else{const or=ht*fn(ht);Gt.x=Math.abs(or)<Math.abs(ht)?or:ht}(Math.abs(Gt.x)>0||Math.abs(Gt.y)>0)&&Ot(!0),(ot=Kt.current)==null||ot.style.setProperty("--swipe-amount-x",`${Gt.x}px`),(Et=Kt.current)==null||Et.style.setProperty("--swipe-amount-y",`${Gt.y}px`)}},Oi&&!g.jsx&&gt!=="loading"?Q.createElement("button",{"aria-label":$,"data-disabled":Gn,"data-close-button":!0,onClick:Gn||!zr?()=>{}:()=>{ir(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Mr(oe?.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(Li=te?.close)!=null?Li:nk):null,(gt||g.icon||g.promise)&&g.icon!==null&&(te?.[gt]!==null||g.icon)?Q.createElement("div",{"data-icon":"",className:Mr(oe?.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Ii():null,g.type!=="loading"?un:null):null,Q.createElement("div",{"data-content":"",className:Mr(oe?.content,g==null||(a=g.classNames)==null?void 0:a.content)},Q.createElement("div",{"data-title":"",className:Mr(oe?.title,g==null||(u=g.classNames)==null?void 0:u.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?Q.createElement("div",{"data-description":"",className:Mr(Ee,sa,oe?.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),Q.isValidElement(g.cancel)?g.cancel:g.cancel&&kl(g.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||O,onClick:ke=>{kl(g.cancel)&&zr&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,ke),ir())},className:Mr(oe?.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,Q.isValidElement(g.action)?g.action:g.action&&kl(g.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||X,onClick:ke=>{kl(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,ke),!ke.defaultPrevented&&ir())},className:Mr(oe?.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function t0(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function bk(t,e){const r={};return[t,e].forEach((s,o)=>{const a=o===1,u=a?"--mobile-offset":"--offset",d=a?fk:hk;function f(p){["top","right","bottom","left"].forEach(v=>{r[`${u}-${v}`]=typeof p=="number"?`${p}px`:p})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(p=>{s[p]===void 0?r[`${u}-${p}`]=d:r[`${u}-${p}`]=typeof s[p]=="number"?`${s[p]}px`:s[p]}):f(d)}),r}const wk=Q.forwardRef(function(e,r){const{id:s,invert:o,position:a="bottom-right",hotkey:u=["altKey","KeyT"],expand:d,closeButton:f,className:p,offset:v,mobileOffset:g,theme:x="light",richColors:b,duration:w,style:F,visibleToasts:_=dk,toastOptions:j,dir:S=t0(),gap:A=mk,icons:T,containerAriaLabel:I="Notifications"}=e,[V,M]=Q.useState([]),O=Q.useMemo(()=>s?V.filter(K=>K.toasterId===s):V.filter(K=>!K.toasterId),[V,s]),X=Q.useMemo(()=>Array.from(new Set([a].concat(O.filter(K=>K.position).map(K=>K.position)))),[O,a]),[le,Ee]=Q.useState([]),[Z,ee]=Q.useState(!1),[je,pe]=Q.useState(!1),[oe,te]=Q.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=Q.useRef(null),re=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=Q.useRef(null),P=Q.useRef(!1),z=Q.useCallback(K=>{M(J=>{var ne;return(ne=J.find(ye=>ye.id===K.id))!=null&&ne.delete||Vt.dismiss(K.id),J.filter(({id:ye})=>ye!==K.id)})},[]);return Q.useEffect(()=>Vt.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{M(J=>J.map(ne=>ne.id===K.id?{...ne,delete:!0}:ne))});return}setTimeout(()=>{Vy.flushSync(()=>{M(J=>{const ne=J.findIndex(ye=>ye.id===K.id);return ne!==-1?[...J.slice(0,ne),{...J[ne],...K},...J.slice(ne+1)]:[K,...J]})})})}),[V]),Q.useEffect(()=>{if(x!=="system"){te(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:J})=>{te(J?"dark":"light")})}catch{K.addListener(({matches:ne})=>{try{te(ne?"dark":"light")}catch(ye){console.error(ye)}})}},[x]),Q.useEffect(()=>{V.length<=1&&ee(!1)},[V]),Q.useEffect(()=>{const K=J=>{var ne;if(u.every(ve=>J[ve]||J.code===ve)){var ge;ee(!0),(ge=$.current)==null||ge.focus()}J.code==="Escape"&&(document.activeElement===$.current||(ne=$.current)!=null&&ne.contains(document.activeElement))&&ee(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[u]),Q.useEffect(()=>{if($.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,P.current=!1)}},[$.current]),Q.createElement("section",{ref:r,"aria-label":`${I} ${re}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},X.map((K,J)=>{var ne;const[ye,ge]=K.split("-");return O.length?Q.createElement("ol",{key:K,dir:S==="auto"?t0():S,tabIndex:-1,ref:$,className:p,"data-sonner-toaster":!0,"data-sonner-theme":oe,"data-y-position":ye,"data-x-position":ge,style:{"--front-toast-height":`${((ne=le[0])==null?void 0:ne.height)||0}px`,"--width":`${pk}px`,"--gap":`${A}px`,...F,...bk(v,g)},onBlur:ve=>{P.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(P.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||P.current||(P.current=!0,W.current=ve.relatedTarget)},onMouseEnter:()=>ee(!0),onMouseMove:()=>ee(!0),onMouseLeave:()=>{je||ee(!1)},onDragEnd:()=>ee(!1),onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||pe(!0)},onPointerUp:()=>pe(!1)},O.filter(ve=>!ve.position&&J===0||ve.position===K).map((ve,Ce)=>{var We,qt;return Q.createElement(xk,{key:ve.id,icons:T,index:Ce,toast:ve,defaultRichColors:b,duration:(We=j?.duration)!=null?We:w,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:o,visibleToasts:_,closeButton:(qt=j?.closeButton)!=null?qt:f,interacting:je,position:K,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:z,toasts:O.filter(Ot=>Ot.position==ve.position),heights:le.filter(Ot=>Ot.position==ve.position),setHeights:Ee,expandByDefault:d,gap:A,expanded:Z,swipeDirections:e.swipeDirections})})):null}))}),ti=cc("PushNotifications",{});function r0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function uc(...t){return e=>{let r=!1;const s=t.map(o=>{const a=r0(o,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():r0(t[o],null)}}}}function nr(...t){return k.useCallback(uc(...t),t)}var Ek=Symbol.for("react.lazy"),Ql=Rh[" use ".trim().toString()];function Fk(t){return typeof t=="object"&&t!==null&&"then"in t}function Uy(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Ek&&"_payload"in t&&Fk(t._payload)}function zy(t){const e=kk(t),r=k.forwardRef((s,o)=>{let{children:a,...u}=s;Uy(a)&&typeof Ql=="function"&&(a=Ql(a._payload));const d=k.Children.toArray(a),f=d.find(Ak);if(f){const p=f.props.children,v=d.map(g=>g===f?k.Children.count(p)>1?k.Children.only(null):k.isValidElement(p)?p.props.children:null:g);return l.jsx(e,{...u,ref:o,children:k.isValidElement(p)?k.cloneElement(p,void 0,v):null})}return l.jsx(e,{...u,ref:o,children:a})});return r.displayName=`${t}.Slot`,r}var _k=zy("Slot");function kk(t){const e=k.forwardRef((r,s)=>{let{children:o,...a}=r;if(Uy(o)&&typeof Ql=="function"&&(o=Ql(o._payload)),k.isValidElement(o)){const u=Nk(o),d=Sk(a,o.props);return o.type!==k.Fragment&&(d.ref=s?uc(s,u):u),k.cloneElement(o,d)}return k.Children.count(o)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jk=Symbol("radix.slottable");function Ak(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jk}function Sk(t,e){const r={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?r[s]=(...d)=>{const f=a(...d);return o(...d),f}:o&&(r[s]=o):s==="style"?r[s]={...o,...a}:s==="className"&&(r[s]=[o,a].filter(Boolean).join(" "))}return{...t,...r}}function Nk(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Wy(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=Wy(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function Hy(){for(var t,e,r=0,s="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=Wy(t))&&(s&&(s+=" "),s+=e);return s}const n0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,s0=Hy,Ck=(t,e)=>r=>{var s;if(e?.variants==null)return s0(t,r?.class,r?.className);const{variants:o,defaultVariants:a}=e,u=Object.keys(o).map(p=>{const v=r?.[p],g=a?.[p];if(v===null)return null;const x=n0(v)||n0(g);return o[p][x]}),d=r&&Object.entries(r).reduce((p,v)=>{let[g,x]=v;return x===void 0||(p[g]=x),p},{}),f=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((p,v)=>{let{class:g,className:x,...b}=v;return Object.entries(b).every(w=>{let[F,_]=w;return Array.isArray(_)?_.includes({...a,...d}[F]):{...a,...d}[F]===_})?[...p,g,x]:p},[]);return s0(t,u,f,r?.class,r?.className)},Tk=(t,e)=>{const r=new Array(t.length+e.length);for(let s=0;s<t.length;s++)r[s]=t[s];for(let s=0;s<e.length;s++)r[t.length+s]=e[s];return r},Pk=(t,e)=>({classGroupId:t,validator:e}),qy=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),Zl="-",i0=[],Rk="arbitrary..",Ok=t=>{const e=Ik(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Dk(u);const d=u.split(Zl),f=d[0]===""&&d.length>1?1:0;return Ky(d,f,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const f=s[u],p=r[u];return f?p?Tk(p,f):f:p||i0}return r[u]||i0}}},Ky=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const o=t[e],a=r.nextPart.get(o);if(a){const p=Ky(t,e+1,a);if(p)return p}const u=r.validators;if(u===null)return;const d=e===0?t.join(Zl):t.slice(e).join(Zl),f=u.length;for(let p=0;p<f;p++){const v=u[p];if(v.validator(d))return v.classGroupId}},Dk=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),s=e.slice(0,r);return s?Rk+s:void 0})(),Ik=t=>{const{theme:e,classGroups:r}=t;return Lk(r,e)},Lk=(t,e)=>{const r=qy();for(const s in t){const o=t[s];zh(o,r,s,e)}return r},zh=(t,e,r,s)=>{const o=t.length;for(let a=0;a<o;a++){const u=t[a];Mk(u,e,r,s)}},Mk=(t,e,r,s)=>{if(typeof t=="string"){$k(t,e,r);return}if(typeof t=="function"){Bk(t,e,r,s);return}Vk(t,e,r,s)},$k=(t,e,r)=>{const s=t===""?e:Gy(e,t);s.classGroupId=r},Bk=(t,e,r,s)=>{if(Uk(t)){zh(t(s),e,r,s);return}e.validators===null&&(e.validators=[]),e.validators.push(Pk(r,t))},Vk=(t,e,r,s)=>{const o=Object.entries(t),a=o.length;for(let u=0;u<a;u++){const[d,f]=o[u];zh(f,Gy(e,d),r,s)}},Gy=(t,e)=>{let r=t;const s=e.split(Zl),o=s.length;for(let a=0;a<o;a++){const u=s[a];let d=r.nextPart.get(u);d||(d=qy(),r.nextPart.set(u,d)),r=d}return r},Uk=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,zk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),s=Object.create(null);const o=(a,u)=>{r[a]=u,e++,e>t&&(e=0,s=r,r=Object.create(null))};return{get(a){let u=r[a];if(u!==void 0)return u;if((u=s[a])!==void 0)return o(a,u),u},set(a,u){a in r?r[a]=u:o(a,u)}}},ah="!",o0=":",Wk=[],a0=(t,e,r,s,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:s,isExternal:o}),Hk=t=>{const{prefix:e,experimentalParseClassName:r}=t;let s=o=>{const a=[];let u=0,d=0,f=0,p;const v=o.length;for(let F=0;F<v;F++){const _=o[F];if(u===0&&d===0){if(_===o0){a.push(o.slice(f,F)),f=F+1;continue}if(_==="/"){p=F;continue}}_==="["?u++:_==="]"?u--:_==="("?d++:_===")"&&d--}const g=a.length===0?o:o.slice(f);let x=g,b=!1;g.endsWith(ah)?(x=g.slice(0,-1),b=!0):g.startsWith(ah)&&(x=g.slice(1),b=!0);const w=p&&p>f?p-f:void 0;return a0(a,b,x,w)};if(e){const o=e+o0,a=s;s=u=>u.startsWith(o)?a(u.slice(o.length)):a0(Wk,!1,u,void 0,!0)}if(r){const o=s;s=a=>r({className:a,parseClassName:o})}return s},qk=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,s)=>{e.set(r,1e6+s)}),r=>{const s=[];let o=[];for(let a=0;a<r.length;a++){const u=r[a],d=u[0]==="[",f=e.has(u);d||f?(o.length>0&&(o.sort(),s.push(...o),o=[]),s.push(u)):o.push(u)}return o.length>0&&(o.sort(),s.push(...o)),s}},Kk=t=>({cache:zk(t.cacheSize),parseClassName:Hk(t),sortModifiers:qk(t),...Ok(t)}),Gk=/\s+/,Yk=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:a}=e,u=[],d=t.trim().split(Gk);let f="";for(let p=d.length-1;p>=0;p-=1){const v=d[p],{isExternal:g,modifiers:x,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:F}=r(v);if(g){f=v+(f.length>0?" "+f:f);continue}let _=!!F,j=s(_?w.substring(0,F):w);if(!j){if(!_){f=v+(f.length>0?" "+f:f);continue}if(j=s(w),!j){f=v+(f.length>0?" "+f:f);continue}_=!1}const S=x.length===0?"":x.length===1?x[0]:a(x).join(":"),A=b?S+ah:S,T=A+j;if(u.indexOf(T)>-1)continue;u.push(T);const I=o(j,_);for(let V=0;V<I.length;++V){const M=I[V];u.push(A+M)}f=v+(f.length>0?" "+f:f)}return f},Xk=(...t)=>{let e=0,r,s,o="";for(;e<t.length;)(r=t[e++])&&(s=Yy(r))&&(o&&(o+=" "),o+=s);return o},Yy=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=Yy(t[s]))&&(r&&(r+=" "),r+=e);return r},Jk=(t,...e)=>{let r,s,o,a;const u=f=>{const p=e.reduce((v,g)=>g(v),t());return r=Kk(p),s=r.cache.get,o=r.cache.set,a=d,d(f)},d=f=>{const p=s(f);if(p)return p;const v=Yk(f,r);return o(f,v),v};return a=u,(...f)=>a(Xk(...f))},Qk=[],ct=t=>{const e=r=>r[t]||Qk;return e.isThemeGetter=!0,e},Xy=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Jy=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Zk=/^\d+\/\d+$/,ej=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ri=t=>Zk.test(t),Se=t=>!!t&&!Number.isNaN(Number(t)),On=t=>!!t&&Number.isInteger(Number(t)),bd=t=>t.endsWith("%")&&Se(t.slice(0,-1)),Zr=t=>ej.test(t),ij=()=>!0,oj=t=>tj.test(t)&&!rj.test(t),Qy=()=>!1,aj=t=>nj.test(t),lj=t=>sj.test(t),cj=t=>!ue(t)&&!de(t),uj=t=>ji(t,tx,Qy),ue=t=>Xy.test(t),us=t=>ji(t,rx,oj),wd=t=>ji(t,mj,Se),l0=t=>ji(t,Zy,Qy),dj=t=>ji(t,ex,lj),jl=t=>ji(t,nx,aj),de=t=>Jy.test(t),bo=t=>Ai(t,rx),hj=t=>Ai(t,gj),c0=t=>Ai(t,Zy),fj=t=>Ai(t,tx),pj=t=>Ai(t,ex),Al=t=>Ai(t,nx,!0),ji=(t,e,r)=>{const s=Xy.exec(t);return s?s[1]?e(s[1]):r(s[2]):!1},Ai=(t,e,r=!1)=>{const s=Jy.exec(t);return s?s[1]?e(s[1]):r:!1},Zy=t=>t==="position"||t==="percentage",ex=t=>t==="image"||t==="url",tx=t=>t==="length"||t==="size"||t==="bg-size",rx=t=>t==="length",mj=t=>t==="number",gj=t=>t==="family-name",nx=t=>t==="shadow",vj=()=>{const t=ct("color"),e=ct("font"),r=ct("text"),s=ct("font-weight"),o=ct("tracking"),a=ct("leading"),u=ct("breakpoint"),d=ct("container"),f=ct("spacing"),p=ct("radius"),v=ct("shadow"),g=ct("inset-shadow"),x=ct("text-shadow"),b=ct("drop-shadow"),w=ct("blur"),F=ct("perspective"),_=ct("aspect"),j=ct("ease"),S=ct("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...T(),de,ue],V=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],O=()=>[de,ue,f],X=()=>[ri,"full","auto",...O()],le=()=>[On,"none","subgrid",de,ue],Ee=()=>["auto",{span:["full",On,de,ue]},On,de,ue],Z=()=>[On,"auto",de,ue],ee=()=>["auto","min","max","fr",de,ue],je=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],oe=()=>["auto",...O()],te=()=>[ri,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],$=()=>[t,de,ue],re=()=>[...T(),c0,l0,{position:[de,ue]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",fj,uj,{size:[de,ue]}],z=()=>[bd,bo,us],K=()=>["","none","full",p,de,ue],J=()=>["",Se,bo,us],ne=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[Se,bd,c0,l0],ve=()=>["","none",w,de,ue],Ce=()=>["none",Se,de,ue],We=()=>["none",Se,de,ue],qt=()=>[Se,de,ue],Ot=()=>[ri,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zr],breakpoint:[Zr],color:[ij],container:[Zr],"drop-shadow":[Zr],ease:["in","out","in-out"],font:[cj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zr],shadow:[Zr],spacing:["px",Se],text:[Zr],"text-shadow":[Zr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ri,ue,de,_]}],container:["container"],columns:[{columns:[Se,ue,de,d]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:X()}],"inset-x":[{"inset-x":X()}],"inset-y":[{"inset-y":X()}],start:[{start:X()}],end:[{end:X()}],top:[{top:X()}],right:[{right:X()}],bottom:[{bottom:X()}],left:[{left:X()}],visibility:["visible","invisible","collapse"],z:[{z:[On,"auto",de,ue]}],basis:[{basis:[ri,"full","auto",d,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Se,ri,"auto","initial","none",ue]}],grow:[{grow:["",Se,de,ue]}],shrink:[{shrink:["",Se,de,ue]}],order:[{order:[On,"first","last","none",de,ue]}],"grid-cols":[{"grid-cols":le()}],"col-start-end":[{col:Ee()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":le()}],"row-start-end":[{row:Ee()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ee()}],"auto-rows":[{"auto-rows":ee()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...je(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...je()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":je()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[d,"screen",...te()]}],"min-w":[{"min-w":[d,"screen","none",...te()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",r,bo,us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,de,wd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bd,ue]}],"font-family":[{font:[hj,ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,de,ue]}],"line-clamp":[{"line-clamp":[Se,"none",de,wd]}],leading:[{leading:[a,...O()]}],"list-image":[{"list-image":["none",de,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",de,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Se,"from-font","auto",de,us]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Se,"auto",de,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},On,de,ue],radial:["",de,ue],conic:[On,de,ue]},pj,dj]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Se,de,ue]}],"outline-w":[{outline:["",Se,bo,us]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",v,Al,jl]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,Al,jl]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Se,us]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",x,Al,jl]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Se,de,ue]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Se]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[de,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Se]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",de,ue]}],filter:[{filter:["","none",de,ue]}],blur:[{blur:ve()}],brightness:[{brightness:[Se,de,ue]}],contrast:[{contrast:[Se,de,ue]}],"drop-shadow":[{"drop-shadow":["","none",b,Al,jl]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Se,de,ue]}],"hue-rotate":[{"hue-rotate":[Se,de,ue]}],invert:[{invert:["",Se,de,ue]}],saturate:[{saturate:[Se,de,ue]}],sepia:[{sepia:["",Se,de,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",de,ue]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[Se,de,ue]}],"backdrop-contrast":[{"backdrop-contrast":[Se,de,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Se,de,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Se,de,ue]}],"backdrop-invert":[{"backdrop-invert":["",Se,de,ue]}],"backdrop-opacity":[{"backdrop-opacity":[Se,de,ue]}],"backdrop-saturate":[{"backdrop-saturate":[Se,de,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",Se,de,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",de,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Se,"initial",de,ue]}],ease:[{ease:["linear","initial",j,de,ue]}],delay:[{delay:[Se,de,ue]}],animate:[{animate:["none",S,de,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[F,de,ue]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:qt()}],"skew-x":[{"skew-x":qt()}],"skew-y":[{"skew-y":qt()}],transform:[{transform:[de,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ot()}],"translate-x":[{"translate-x":Ot()}],"translate-y":[{"translate-y":Ot()}],"translate-z":[{"translate-z":Ot()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de,ue]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Se,bo,us,wd]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yj=Jk(vj);function Rt(...t){return yj(Hy(t))}const Wh=Ck("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Oe({className:t,variant:e,size:r,asChild:s=!1,...o}){const a=s?_k:"button";return l.jsx(a,{"data-slot":"button",className:Rt(Wh({variant:e,size:r,className:t})),...o})}const Hh=k.createContext({});function qh(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Kh=typeof window<"u",sx=Kh?k.useLayoutEffect:k.useEffect,dc=k.createContext(null);function Gh(t,e){t.indexOf(e)===-1&&t.push(e)}function Yh(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const nn=(t,e,r)=>r>e?e:r<t?t:r;let Xh=()=>{};const sn={},ix=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ox(t){return typeof t=="object"&&t!==null}const ax=t=>/^0[^.\s]+$/u.test(t);function Jh(t){let e;return()=>(e===void 0&&(e=t()),e)}const vr=t=>t,xj=(t,e)=>r=>e(t(r)),Yo=(...t)=>t.reduce(xj),Bo=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s};class Qh{constructor(){this.subscriptions=[]}add(e){return Gh(this.subscriptions,e),()=>Yh(this.subscriptions,e)}notify(e,r,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,s);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $r=t=>t*1e3,gr=t=>t/1e3;function lx(t,e){return e?t*(1e3/e):0}const cx=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,bj=1e-7,wj=12;function Ej(t,e,r,s,o){let a,u,d=0;do u=e+(r-e)/2,a=cx(u,s,o)-t,a>0?r=u:e=u;while(Math.abs(a)>bj&&++d<wj);return u}function Xo(t,e,r,s){if(t===e&&r===s)return vr;const o=a=>Ej(a,0,1,t,r);return a=>a===0||a===1?a:cx(o(a),e,s)}const ux=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dx=t=>e=>1-t(1-e),hx=Xo(.33,1.53,.69,.99),Zh=dx(hx),fx=ux(Zh),px=t=>(t*=2)<1?.5*Zh(t):.5*(2-Math.pow(2,-10*(t-1))),ef=t=>1-Math.sin(Math.acos(t)),mx=dx(ef),gx=ux(ef),Fj=Xo(.42,0,1,1),_j=Xo(0,0,.58,1),vx=Xo(.42,0,.58,1),kj=t=>Array.isArray(t)&&typeof t[0]!="number",yx=t=>Array.isArray(t)&&typeof t[0]=="number",jj={linear:vr,easeIn:Fj,easeInOut:vx,easeOut:_j,circIn:ef,circInOut:gx,circOut:mx,backIn:Zh,backInOut:fx,backOut:hx,anticipate:px},Aj=t=>typeof t=="string",u0=t=>{if(yx(t)){Xh(t.length===4);const[e,r,s,o]=t;return Xo(e,r,s,o)}else if(Aj(t))return jj[t];return t},Sl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Sj(t,e){let r=new Set,s=new Set,o=!1,a=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(v){u.has(v)&&(p.schedule(v),t()),v(d)}const p={schedule:(v,g=!1,x=!1)=>{const w=x&&o?r:s;return g&&u.add(v),w.has(v)||w.add(v),v},cancel:v=>{s.delete(v),u.delete(v)},process:v=>{if(d=v,o){a=!0;return}o=!0,[r,s]=[s,r],r.forEach(f),r.clear(),o=!1,a&&(a=!1,p.process(v))}};return p}const Nj=40;function xx(t,e){let r=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,u=Sl.reduce((A,T)=>(A[T]=Sj(a),A),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:v,update:g,preRender:x,render:b,postRender:w}=u,F=()=>{const A=sn.useManualTiming?o.timestamp:performance.now();r=!1,sn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(A-o.timestamp,Nj),1)),o.timestamp=A,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),v.process(o),g.process(o),x.process(o),b.process(o),w.process(o),o.isProcessing=!1,r&&e&&(s=!1,t(F))},_=()=>{r=!0,s=!0,o.isProcessing||t(F)};return{schedule:Sl.reduce((A,T)=>{const I=u[T];return A[T]=(V,M=!1,O=!1)=>(r||_(),I.schedule(V,M,O)),A},{}),cancel:A=>{for(let T=0;T<Sl.length;T++)u[Sl[T]].cancel(A)},state:o,steps:u}}const{schedule:ze,cancel:$n,state:wt,steps:Ed}=xx(typeof requestAnimationFrame<"u"?requestAnimationFrame:vr,!0);let $l;function Cj(){$l=void 0}const Ut={now:()=>($l===void 0&&Ut.set(wt.isProcessing||sn.useManualTiming?wt.timestamp:performance.now()),$l),set:t=>{$l=t,queueMicrotask(Cj)}},bx=t=>e=>typeof e=="string"&&e.startsWith(t),tf=bx("--"),Tj=bx("var(--"),rf=t=>Tj(t)?Pj.test(t.split("/*")[0].trim()):!1,Pj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Si={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vo={...Si,transform:t=>nn(0,1,t)},Nl={...Si,default:1},No=t=>Math.round(t*1e5)/1e5,nf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Rj(t){return t==null}const Oj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sf=(t,e)=>r=>!!(typeof r=="string"&&Oj.test(r)&&r.startsWith(t)||e&&!Rj(r)&&Object.prototype.hasOwnProperty.call(r,e)),wx=(t,e,r)=>s=>{if(typeof s!="string")return s;const[o,a,u,d]=s.match(nf);return{[t]:parseFloat(o),[e]:parseFloat(a),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},Dj=t=>nn(0,255,t),Fd={...Si,transform:t=>Math.round(Dj(t))},ys={test:sf("rgb","red"),parse:wx("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+Fd.transform(t)+", "+Fd.transform(e)+", "+Fd.transform(r)+", "+No(Vo.transform(s))+")"};function Ij(t){let e="",r="",s="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const lh={test:sf("#"),parse:Ij,transform:ys.transform},Jo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Dn=Jo("deg"),Br=Jo("%"),Fe=Jo("px"),Lj=Jo("vh"),Mj=Jo("vw"),d0={...Br,parse:t=>Br.parse(t)/100,transform:t=>Br.transform(t*100)},li={test:sf("hsl","hue"),parse:wx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+Br.transform(No(e))+", "+Br.transform(No(r))+", "+No(Vo.transform(s))+")"},st={test:t=>ys.test(t)||lh.test(t)||li.test(t),parse:t=>ys.test(t)?ys.parse(t):li.test(t)?li.parse(t):lh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ys.transform(t):li.transform(t),getAnimatableNone:t=>{const e=st.parse(t);return e.alpha=0,st.transform(e)}},$j=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Bj(t){return isNaN(t)&&typeof t=="string"&&(t.match(nf)?.length||0)+(t.match($j)?.length||0)>0}const Ex="number",Fx="color",Vj="var",Uj="var(",h0="${}",zj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uo(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(zj,f=>(st.test(f)?(s.color.push(a),o.push(Fx),r.push(st.parse(f))):f.startsWith(Uj)?(s.var.push(a),o.push(Vj),r.push(f)):(s.number.push(a),o.push(Ex),r.push(parseFloat(f))),++a,h0)).split(h0);return{values:r,split:d,indexes:s,types:o}}function _x(t){return Uo(t).values}function kx(t){const{split:e,types:r}=Uo(t),s=e.length;return o=>{let a="";for(let u=0;u<s;u++)if(a+=e[u],o[u]!==void 0){const d=r[u];d===Ex?a+=No(o[u]):d===Fx?a+=st.transform(o[u]):a+=o[u]}return a}}const Wj=t=>typeof t=="number"?0:st.test(t)?st.getAnimatableNone(t):t;function Hj(t){const e=_x(t);return kx(t)(e.map(Wj))}const Bn={test:Bj,parse:_x,createTransformer:kx,getAnimatableNone:Hj};function _d(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function qj({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let o=0,a=0,u=0;if(!e)o=a=u=r;else{const d=r<.5?r*(1+e):r+e-r*e,f=2*r-d;o=_d(f,d,t+1/3),a=_d(f,d,t),u=_d(f,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:s}}function ec(t,e){return r=>r>0?e:t}const Ge=(t,e,r)=>t+(e-t)*r,kd=(t,e,r)=>{const s=t*t,o=r*(e*e-s)+s;return o<0?0:Math.sqrt(o)},Kj=[lh,ys,li],Gj=t=>Kj.find(e=>e.test(t));function f0(t){const e=Gj(t);if(!e)return!1;let r=e.parse(t);return e===li&&(r=qj(r)),r}const p0=(t,e)=>{const r=f0(t),s=f0(e);if(!r||!s)return ec(t,e);const o={...r};return a=>(o.red=kd(r.red,s.red,a),o.green=kd(r.green,s.green,a),o.blue=kd(r.blue,s.blue,a),o.alpha=Ge(r.alpha,s.alpha,a),ys.transform(o))},ch=new Set(["none","hidden"]);function Yj(t,e){return ch.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Xj(t,e){return r=>Ge(t,e,r)}function of(t){return typeof t=="number"?Xj:typeof t=="string"?rf(t)?ec:st.test(t)?p0:Zj:Array.isArray(t)?jx:typeof t=="object"?st.test(t)?p0:Jj:ec}function jx(t,e){const r=[...t],s=r.length,o=t.map((a,u)=>of(a)(a,e[u]));return a=>{for(let u=0;u<s;u++)r[u]=o[u](a);return r}}function Jj(t,e){const r={...t,...e},s={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(s[o]=of(t[o])(t[o],e[o]));return o=>{for(const a in s)r[a]=s[a](o);return r}}function Qj(t,e){const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=t.indexes[a][s[a]],d=t.values[u]??0;r[o]=d,s[a]++}return r}const Zj=(t,e)=>{const r=Bn.createTransformer(e),s=Uo(t),o=Uo(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?ch.has(t)&&!o.values.length||ch.has(e)&&!s.values.length?Yj(t,e):Yo(jx(Qj(s,o),o.values),r):ec(t,e)};function Ax(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ge(t,e,r):of(t)(t,e)}const eA=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>ze.update(e,r),stop:()=>$n(e),now:()=>wt.isProcessing?wt.timestamp:Ut.now()}},Sx=(t,e,r=10)=>{let s="";const o=Math.max(Math.round(e/r),2);for(let a=0;a<o;a++)s+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},tc=2e4;function af(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<tc;)e+=r,s=t.next(e);return e>=tc?1/0:e}function tA(t,e=100,r){const s=r({...t,keyframes:[0,e]}),o=Math.min(af(s),tc);return{type:"keyframes",ease:a=>s.next(o*a).value/e,duration:gr(o)}}const rA=5;function Nx(t,e,r){const s=Math.max(e-rA,0);return lx(r-t(s),e-s)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jd=.001;function nA({duration:t=Xe.duration,bounce:e=Xe.bounce,velocity:r=Xe.velocity,mass:s=Xe.mass}){let o,a,u=1-e;u=nn(Xe.minDamping,Xe.maxDamping,u),t=nn(Xe.minDuration,Xe.maxDuration,gr(t)),u<1?(o=p=>{const v=p*u,g=v*t,x=v-r,b=uh(p,u),w=Math.exp(-g);return jd-x/b*w},a=p=>{const g=p*u*t,x=g*r+r,b=Math.pow(u,2)*Math.pow(p,2)*t,w=Math.exp(-g),F=uh(Math.pow(p,2),u);return(-o(p)+jd>0?-1:1)*((x-b)*w)/F}):(o=p=>{const v=Math.exp(-p*t),g=(p-r)*t+1;return-jd+v*g},a=p=>{const v=Math.exp(-p*t),g=(r-p)*(t*t);return v*g});const d=5/t,f=iA(o,a,d);if(t=$r(t),isNaN(f))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:t};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const sA=12;function iA(t,e,r){let s=r;for(let o=1;o<sA;o++)s=s-t(s)/e(s);return s}function uh(t,e){return t*Math.sqrt(1-e*e)}const oA=["duration","bounce"],aA=["stiffness","damping","mass"];function m0(t,e){return e.some(r=>t[r]!==void 0)}function lA(t){let e={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...t};if(!m0(t,aA)&&m0(t,oA))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),o=s*s,a=2*nn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Xe.mass,stiffness:o,damping:a}}else{const r=nA(t);e={...e,...r,mass:Xe.mass},e.isResolvedFromDuration=!0}return e}function rc(t=Xe.visualDuration,e=Xe.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=r;const a=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:v,duration:g,velocity:x,isResolvedFromDuration:b}=lA({...r,velocity:-gr(r.velocity||0)}),w=x||0,F=p/(2*Math.sqrt(f*v)),_=u-a,j=gr(Math.sqrt(f/v)),S=Math.abs(_)<5;s||(s=S?Xe.restSpeed.granular:Xe.restSpeed.default),o||(o=S?Xe.restDelta.granular:Xe.restDelta.default);let A;if(F<1){const I=uh(j,F);A=V=>{const M=Math.exp(-F*j*V);return u-M*((w+F*j*_)/I*Math.sin(I*V)+_*Math.cos(I*V))}}else if(F===1)A=I=>u-Math.exp(-j*I)*(_+(w+j*_)*I);else{const I=j*Math.sqrt(F*F-1);A=V=>{const M=Math.exp(-F*j*V),O=Math.min(I*V,300);return u-M*((w+F*j*_)*Math.sinh(O)+I*_*Math.cosh(O))/I}}const T={calculatedDuration:b&&g||null,next:I=>{const V=A(I);if(b)d.done=I>=g;else{let M=I===0?w:0;F<1&&(M=I===0?$r(w):Nx(A,I,V));const O=Math.abs(M)<=s,X=Math.abs(u-V)<=o;d.done=O&&X}return d.value=d.done?u:V,d},toString:()=>{const I=Math.min(af(T),tc),V=Sx(M=>T.next(I*M).value,I,30);return I+"ms "+V},toTransition:()=>{}};return T}rc.applyToOptions=t=>{const e=tA(t,100,rc);return t.ease=e.ease,t.duration=$r(e.duration),t.type="keyframes",t};function dh({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:v}){const g=t[0],x={done:!1,value:g},b=O=>d!==void 0&&O<d||f!==void 0&&O>f,w=O=>d===void 0?f:f===void 0||Math.abs(d-O)<Math.abs(f-O)?d:f;let F=r*e;const _=g+F,j=u===void 0?_:u(_);j!==_&&(F=j-g);const S=O=>-F*Math.exp(-O/s),A=O=>j+S(O),T=O=>{const X=S(O),le=A(O);x.done=Math.abs(X)<=p,x.value=x.done?j:le};let I,V;const M=O=>{b(x.value)&&(I=O,V=rc({keyframes:[x.value,w(x.value)],velocity:Nx(A,O,x.value),damping:o,stiffness:a,restDelta:p,restSpeed:v}))};return M(0),{calculatedDuration:null,next:O=>{let X=!1;return!V&&I===void 0&&(X=!0,T(O),M(O)),I!==void 0&&O>=I?V.next(O-I):(!X&&T(O),x)}}}function cA(t,e,r){const s=[],o=r||sn.mix||Ax,a=t.length-1;for(let u=0;u<a;u++){let d=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||vr:e;d=Yo(f,d)}s.push(d)}return s}function uA(t,e,{clamp:r=!0,ease:s,mixer:o}={}){const a=t.length;if(Xh(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=cA(e,s,o),f=d.length,p=v=>{if(u&&v<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(v<t[g+1]);g++);const x=Bo(t[g],t[g+1],v);return d[g](x)};return r?v=>p(nn(t[0],t[a-1],v)):p}function dA(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const o=Bo(0,e,s);t.push(Ge(r,1,o))}}function hA(t){const e=[0];return dA(e,t.length-1),e}function fA(t,e){return t.map(r=>r*e)}function pA(t,e){return t.map(()=>e||vx).splice(0,t.length-1)}function Co({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const o=kj(s)?s.map(u0):u0(s),a={done:!1,value:e[0]},u=fA(r&&r.length===e.length?r:hA(e),t),d=uA(u,e,{ease:Array.isArray(o)?o:pA(e,o)});return{calculatedDuration:t,next:f=>(a.value=d(f),a.done=f>=t,a)}}const mA=t=>t!==null;function lf(t,{repeat:e,repeatType:r="loop"},s,o=1){const a=t.filter(mA),d=o<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!d||s===void 0?a[d]:s}const gA={decay:dh,inertia:dh,tween:Co,keyframes:Co,spring:rc};function Cx(t){typeof t.type=="string"&&(t.type=gA[t.type])}class cf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const vA=t=>t/100;class uf extends cf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Ut.now()&&this.tick(Ut.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Cx(e);const{type:r=Co,repeat:s=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:d}=e;const f=r||Co;f!==Co&&typeof d[0]!="number"&&(this.mixKeyframes=Yo(vA,Ax(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=af(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:s,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:g,repeatType:x,repeatDelay:b,type:w,onUpdate:F,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?j<0:j>o;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let A=this.currentTime,T=s;if(g){const O=Math.min(this.currentTime,o)/d;let X=Math.floor(O),le=O%1;!le&&O>=1&&(le=1),le===1&&X--,X=Math.min(X,g+1),!!(X%2)&&(x==="reverse"?(le=1-le,b&&(le-=b/d)):x==="mirror"&&(T=u)),A=nn(0,1,le)*d}const I=S?{done:!1,value:v[0]}:T.next(A);a&&(I.value=a(I.value));let{done:V}=I;!S&&f!==null&&(V=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return M&&w!==dh&&(I.value=lf(v,this.options,_,this.speed)),F&&F(I.value),M&&this.finish(),I}then(e,r){return this.finished.then(e,r)}get duration(){return gr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gr(e)}get time(){return gr(this.currentTime)}set time(e){e=$r(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ut.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=gr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=eA,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ut.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function yA(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const xs=t=>t*180/Math.PI,hh=t=>{const e=xs(Math.atan2(t[1],t[0]));return fh(e)},xA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:hh,rotateZ:hh,skewX:t=>xs(Math.atan(t[1])),skewY:t=>xs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},fh=t=>(t=t%360,t<0&&(t+=360),t),g0=hh,v0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),y0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:v0,scaleY:y0,scale:t=>(v0(t)+y0(t))/2,rotateX:t=>fh(xs(Math.atan2(t[6],t[5]))),rotateY:t=>fh(xs(Math.atan2(-t[2],t[0]))),rotateZ:g0,rotate:g0,skewX:t=>xs(Math.atan(t[4])),skewY:t=>xs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ph(t){return t.includes("scale")?1:0}function mh(t,e){if(!t||t==="none")return ph(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(r)s=bA,o=r;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=xA,o=d}if(!o)return ph(e);const a=s[e],u=o[1].split(",").map(EA);return typeof a=="function"?a(u):u[a]}const wA=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return mh(r,e)};function EA(t){return parseFloat(t.trim())}const Ni=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ci=new Set(Ni),x0=t=>t===Si||t===Fe,FA=new Set(["x","y","z"]),_A=Ni.filter(t=>!FA.has(t));function kA(t){const e=[];return _A.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const ws={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>mh(e,"x"),y:(t,{transform:e})=>mh(e,"y")};ws.translateX=ws.x;ws.translateY=ws.y;const Es=new Set;let gh=!1,vh=!1,yh=!1;function Tx(){if(vh){const t=Array.from(Es).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const o=kA(s);o.length&&(r.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=r.get(s);o&&o.forEach(([a,u])=>{s.getValue(a)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}vh=!1,gh=!1,Es.forEach(t=>t.complete(yh)),Es.clear()}function Px(){Es.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vh=!0)})}function jA(){yh=!0,Px(),Tx(),yh=!1}class df{constructor(e,r,s,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Es.add(this),gh||(gh=!0,ze.read(Px),ze.resolveKeyframes(Tx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:o}=this;if(e[0]===null){const a=o?.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&r){const d=s.readValue(r,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}yA(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Es.delete(this)}cancel(){this.state==="scheduled"&&(Es.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const AA=t=>t.startsWith("--");function SA(t,e,r){AA(e)?t.style.setProperty(e,r):t.style[e]=r}const NA=Jh(()=>window.ScrollTimeline!==void 0),CA={};function TA(t,e){const r=Jh(t);return()=>CA[e]??r()}const Rx=TA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jo=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,b0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jo([0,.65,.55,1]),circOut:jo([.55,0,1,.45]),backIn:jo([.31,.01,.66,-.59]),backOut:jo([.33,1.53,.69,.99])};function Ox(t,e){if(t)return typeof t=="function"?Rx()?Sx(t,e):"ease-out":yx(t)?jo(t):Array.isArray(t)?t.map(r=>Ox(r,e)||b0.easeOut):b0[t]}function PA(t,e,r,{delay:s=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeOut",times:f}={},p=void 0){const v={[e]:r};f&&(v.offset=f);const g=Ox(d,o);Array.isArray(g)&&(v.easing=g);const x={delay:s,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(v,x)}function Dx(t){return typeof t=="function"&&"applyToOptions"in t}function RA({type:t,...e}){return Dx(t)&&Rx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class OA extends cf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:s,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Xh(typeof e.type!="string");const p=RA(e);this.animation=PA(r,s,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const v=lf(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):SA(r,s,v),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return gr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gr(e)}get time(){return gr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$r(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&NA()?(this.animation.timeline=e,vr):r(this)}}const Ix={anticipate:px,backInOut:fx,circInOut:gx};function DA(t){return t in Ix}function IA(t){typeof t.ease=="string"&&DA(t.ease)&&(t.ease=Ix[t.ease])}const w0=10;class LA extends OA{constructor(e){IA(e),Cx(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:s,onComplete:o,element:a,...u}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const d=new uf({...u,autoplay:!1}),f=$r(this.finishedTime??this.time);r.setWithVelocity(d.sample(f-w0).value,d.sample(f).value,w0),d.stop()}}const E0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Bn.test(t)||t==="0")&&!t.startsWith("url("));function MA(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function $A(t,e,r,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=E0(o,e),d=E0(a,e);return!u||!d?!1:MA(t)||(r==="spring"||Dx(r))&&s}function xh(t){t.duration=0,t.type="keyframes"}const BA=new Set(["opacity","clipPath","filter","transform"]),VA=Jh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function UA(t){const{motionValue:e,name:r,repeatDelay:s,repeatType:o,damping:a,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return VA()&&r&&BA.has(r)&&(r!=="transform"||!p)&&!f&&!s&&o!=="mirror"&&a!==0&&u!=="inertia"}const zA=40;class WA extends cf{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:d,name:f,motionValue:p,element:v,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ut.now();const x={autoplay:e,delay:r,type:s,repeat:o,repeatDelay:a,repeatType:u,name:f,motionValue:p,element:v,...g},b=v?.KeyframeResolver||df;this.keyframeResolver=new b(d,(w,F,_)=>this.onKeyframesResolved(w,F,x,!_),f,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,s,o){this.keyframeResolver=void 0;const{name:a,type:u,velocity:d,delay:f,isHandoff:p,onUpdate:v}=s;this.resolvedAt=Ut.now(),$A(e,a,u,d)||((sn.instantAnimations||!f)&&v?.(lf(e,s,r)),e[0]=e[e.length-1],xh(s),s.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>zA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:e},b=!p&&UA(x)?new LA({...x,element:x.motionValue.owner.current}):new uf(x);b.finished.then(()=>this.notifyFinished()).catch(vr),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),jA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const HA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qA(t){const e=HA.exec(t);if(!e)return[,];const[,r,s,o]=e;return[`--${r??s}`,o]}function Lx(t,e,r=1){const[s,o]=qA(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const u=a.trim();return ix(u)?parseFloat(u):u}return rf(o)?Lx(o,e,r+1):o}function hf(t,e){return t?.[e]??t?.default??t}const Mx=new Set(["width","height","top","left","right","bottom",...Ni]),KA={test:t=>t==="auto",parse:t=>t},$x=t=>e=>e.test(t),Bx=[Si,Fe,Br,Dn,Mj,Lj,KA],F0=t=>Bx.find($x(t));function GA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ax(t):!0}const YA=new Set(["brightness","contrast","saturate","opacity"]);function XA(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(nf)||[];if(!s)return t;const o=r.replace(s,"");let a=YA.has(e)?1:0;return s!==r&&(a*=100),e+"("+a+o+")"}const JA=/\b([a-z-]*)\(.*?\)/gu,bh={...Bn,getAnimatableNone:t=>{const e=t.match(JA);return e?e.map(XA).join(" "):t}},_0={...Si,transform:Math.round},QA={rotate:Dn,rotateX:Dn,rotateY:Dn,rotateZ:Dn,scale:Nl,scaleX:Nl,scaleY:Nl,scaleZ:Nl,skew:Dn,skewX:Dn,skewY:Dn,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Vo,originX:d0,originY:d0,originZ:Fe},ff={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...QA,zIndex:_0,fillOpacity:Vo,strokeOpacity:Vo,numOctaves:_0},ZA={...ff,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:bh,WebkitFilter:bh},Vx=t=>ZA[t];function Ux(t,e){let r=Vx(t);return r!==bh&&(r=Bn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const eS=new Set(["auto","none","0"]);function tS(t,e,r){let s=0,o;for(;s<t.length&&!o;){const a=t[s];typeof a=="string"&&!eS.has(a)&&Uo(a).values.length&&(o=t[s]),s++}if(o&&r)for(const a of e)t[a]=Ux(r,o)}class rS extends df{constructor(e,r,s,o,a){super(e,r,s,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),rf(p))){const v=Lx(p,r.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Mx.has(s)||e.length!==2)return;const[o,a]=e,u=F0(o),d=F0(a);if(u!==d)if(x0(u)&&x0(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else ws[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||GA(e[o]))&&s.push(o);s.length&&tS(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ws[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(r);o&&o.jump(this.measuredOrigin,!1);const a=s.length-1,u=s[a];s[a]=ws[r](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function nS(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=r?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const zx=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Wx(t){return ox(t)&&"offsetHeight"in t}const k0=30,sS=t=>!isNaN(parseFloat(t));class iS{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Ut.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ut.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sS(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Qh);const s=this.events[e].add(r);return e==="change"?()=>{s(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ut.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>k0)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,k0);return lx(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bi(t,e){return new iS(t,e)}const{schedule:pf}=xx(queueMicrotask,!1),Ar={x:!1,y:!1};function Hx(){return Ar.x||Ar.y}function oS(t){return t==="x"||t==="y"?Ar[t]?null:(Ar[t]=!0,()=>{Ar[t]=!1}):Ar.x||Ar.y?null:(Ar.x=Ar.y=!0,()=>{Ar.x=Ar.y=!1})}function qx(t,e){const r=nS(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[r,o,()=>s.abort()]}function j0(t){return!(t.pointerType==="touch"||Hx())}function aS(t,e,r={}){const[s,o,a]=qx(t,r),u=d=>{if(!j0(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const v=g=>{j0(g)&&(p(g),f.removeEventListener("pointerleave",v))};f.addEventListener("pointerleave",v,o)};return s.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const Kx=(t,e)=>e?t===e?!0:Kx(t,e.parentElement):!1,mf=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,lS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cS(t){return lS.has(t.tagName)||t.tabIndex!==-1}const Bl=new WeakSet;function A0(t){return e=>{e.key==="Enter"&&t(e)}}function Ad(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const uS=(t,e)=>{const r=t.currentTarget;if(!r)return;const s=A0(()=>{if(Bl.has(r))return;Ad(r,"down");const o=A0(()=>{Ad(r,"up")}),a=()=>Ad(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function S0(t){return mf(t)&&!Hx()}function dS(t,e,r={}){const[s,o,a]=qx(t,r),u=d=>{const f=d.currentTarget;if(!S0(d))return;Bl.add(f);const p=e(f,d),v=(b,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),Bl.has(f)&&Bl.delete(f),S0(b)&&typeof p=="function"&&p(b,{success:w})},g=b=>{v(b,f===window||f===document||r.useGlobalTarget||Kx(f,b.target))},x=b=>{v(b,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",x,o)};return s.forEach(d=>{(r.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),Wx(d)&&(d.addEventListener("focus",p=>uS(p,o)),!cS(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function Gx(t){return ox(t)&&"ownerSVGElement"in t}function hS(t){return Gx(t)&&t.tagName==="svg"}const St=t=>!!(t&&t.getVelocity),fS=[...Bx,st,Bn],pS=t=>fS.find($x(t)),gf=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function N0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function mS(...t){return e=>{let r=!1;const s=t.map(o=>{const a=N0(o,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():N0(t[o],null)}}}}function gS(...t){return k.useCallback(mS(...t),t)}class vS extends k.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=r.offsetParent,o=Wx(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function yS({children:t,isPresent:e,anchorX:r,root:s}){const o=k.useId(),a=k.useRef(null),u=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=k.useContext(gf),f=gS(a,t?.ref);return k.useInsertionEffect(()=>{const{width:p,height:v,top:g,left:x,right:b}=u.current;if(e||!a.current||!p||!v)return;const w=r==="left"?`left: ${x}`:`right: ${b}`;a.current.dataset.motionPopId=o;const F=document.createElement("style");d&&(F.nonce=d);const _=s??document.head;return _.appendChild(F),F.sheet&&F.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${v}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{_.contains(F)&&_.removeChild(F)}},[e]),l.jsx(vS,{isPresent:e,childRef:a,sizeRef:u,children:k.cloneElement(t,{ref:f})})}const xS=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:u,anchorX:d,root:f})=>{const p=qh(bS),v=k.useId();let g=!0,x=k.useMemo(()=>(g=!1,{id:v,initial:e,isPresent:r,custom:o,onExitComplete:b=>{p.set(b,!0);for(const w of p.values())if(!w)return;s&&s()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[r,p,s]);return a&&g&&(x={...x}),k.useMemo(()=>{p.forEach((b,w)=>p.set(w,!1))},[r]),k.useEffect(()=>{!r&&!p.size&&s&&s()},[r]),u==="popLayout"&&(t=l.jsx(yS,{isPresent:r,anchorX:d,root:f,children:t})),l.jsx(dc.Provider,{value:x,children:t})};function bS(){return new Map}function Yx(t=!0){const e=k.useContext(dc);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:o}=e,a=k.useId();k.useEffect(()=>{if(t)return o(a)},[t]);const u=k.useCallback(()=>t&&s&&s(a),[a,s,t]);return!r&&s?[!1,u]:[!0]}const Cl=t=>t.key||"";function C0(t){const e=[];return k.Children.forEach(t,r=>{k.isValidElement(r)&&e.push(r)}),e}const Qo=({children:t,custom:e,initial:r=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:a="sync",propagate:u=!1,anchorX:d="left",root:f})=>{const[p,v]=Yx(u),g=k.useMemo(()=>C0(t),[t]),x=u&&!p?[]:g.map(Cl),b=k.useRef(!0),w=k.useRef(g),F=qh(()=>new Map),[_,j]=k.useState(g),[S,A]=k.useState(g);sx(()=>{b.current=!1,w.current=g;for(let V=0;V<S.length;V++){const M=Cl(S[V]);x.includes(M)?F.delete(M):F.get(M)!==!0&&F.set(M,!1)}},[S,x.length,x.join("-")]);const T=[];if(g!==_){let V=[...g];for(let M=0;M<S.length;M++){const O=S[M],X=Cl(O);x.includes(X)||(V.splice(M,0,O),T.push(O))}return a==="wait"&&T.length&&(V=T),A(C0(V)),j(g),null}const{forceRender:I}=k.useContext(Hh);return l.jsx(l.Fragment,{children:S.map(V=>{const M=Cl(V),O=u&&!p?!1:g===S||x.includes(M),X=()=>{if(F.has(M))F.set(M,!0);else return;let le=!0;F.forEach(Ee=>{Ee||(le=!1)}),le&&(I?.(),A(w.current),u&&v?.(),s&&s())};return l.jsx(xS,{isPresent:O,initial:!b.current||r?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,root:f,onExitComplete:O?void 0:X,anchorX:d,children:V},M)})})},Xx=k.createContext({strict:!1}),T0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wi={};for(const t in T0)wi[t]={isEnabled:e=>T0[t].some(r=>!!e[r])};function wS(t){for(const e in t)wi[e]={...wi[e],...t[e]}}const ES=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ES.has(t)}let Jx=t=>!nc(t);function FS(t){typeof t=="function"&&(Jx=e=>e.startsWith("on")?!nc(e):t(e))}try{FS(require("@emotion/is-prop-valid").default)}catch{}function _S(t,e,r){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(Jx(o)||r===!0&&nc(o)||!e&&!nc(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const hc=k.createContext({});function fc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function zo(t){return typeof t=="string"||Array.isArray(t)}const vf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yf=["initial",...vf];function pc(t){return fc(t.animate)||yf.some(e=>zo(t[e]))}function Qx(t){return!!(pc(t)||t.variants)}function kS(t,e){if(pc(t)){const{initial:r,animate:s}=t;return{initial:r===!1||zo(r)?r:void 0,animate:zo(s)?s:void 0}}return t.inherit!==!1?e:{}}function jS(t){const{initial:e,animate:r}=kS(t,k.useContext(hc));return k.useMemo(()=>({initial:e,animate:r}),[P0(e),P0(r)])}function P0(t){return Array.isArray(t)?t.join(" "):t}const Wo={};function AS(t){for(const e in t)Wo[e]=t[e],tf(e)&&(Wo[e].isCSSVariable=!0)}function Zx(t,{layout:e,layoutId:r}){return Ci.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Wo[t]||t==="opacity")}const SS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NS=Ni.length;function CS(t,e,r){let s="",o=!0;for(let a=0;a<NS;a++){const u=Ni[a],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||r){const p=zx(d,ff[u]);if(!f){o=!1;const v=SS[u]||u;s+=`${v}(${p}) `}r&&(e[u]=p)}}return s=s.trim(),r?s=r(e,o?"":s):o&&(s="none"),s}function xf(t,e,r){const{style:s,vars:o,transformOrigin:a}=t;let u=!1,d=!1;for(const f in e){const p=e[f];if(Ci.has(f)){u=!0;continue}else if(tf(f)){o[f]=p;continue}else{const v=zx(p,ff[f]);f.startsWith("origin")?(d=!0,a[f]=v):s[f]=v}}if(e.transform||(u||r?s.transform=CS(e,t.transform,r):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:v=0}=a;s.transformOrigin=`${f} ${p} ${v}`}}const bf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eb(t,e,r){for(const s in e)!St(e[s])&&!Zx(s,r)&&(t[s]=e[s])}function TS({transformTemplate:t},e){return k.useMemo(()=>{const r=bf();return xf(r,e,t),Object.assign({},r.vars,r.style)},[e])}function PS(t,e){const r=t.style||{},s={};return eb(s,r,t),Object.assign(s,TS(t,e)),s}function RS(t,e){const r={},s=PS(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const OS={offset:"stroke-dashoffset",array:"stroke-dasharray"},DS={offset:"strokeDashoffset",array:"strokeDasharray"};function IS(t,e,r=1,s=0,o=!0){t.pathLength=1;const a=o?OS:DS;t[a.offset]=Fe.transform(-s);const u=Fe.transform(e),d=Fe.transform(r);t[a.array]=`${u} ${d}`}function tb(t,{attrX:e,attrY:r,attrScale:s,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...d},f,p,v){if(xf(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:x}=t;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=v?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),s!==void 0&&(g.scale=s),o!==void 0&&IS(g,o,a,u,!1)}const rb=()=>({...bf(),attrs:{}}),nb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function LS(t,e,r,s){const o=k.useMemo(()=>{const a=rb();return tb(a,e,nb(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};eb(a,t.style,t),o.style={...a,...o.style}}return o}const MS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wf(t){return typeof t!="string"||t.includes("-")?!1:!!(MS.indexOf(t)>-1||/[A-Z]/u.test(t))}function $S(t,e,r,{latestValues:s},o,a=!1){const d=(wf(t)?LS:RS)(e,s,o,t),f=_S(e,typeof t=="string",a),p=t!==k.Fragment?{...f,...d,ref:r}:{},{children:v}=e,g=k.useMemo(()=>St(v)?v.get():v,[v]);return k.createElement(t,{...p,children:g})}function R0(t){const e=[{},{}];return t?.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function Ef(t,e,r,s){if(typeof e=="function"){const[o,a]=R0(s);e=e(r!==void 0?r:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=R0(s);e=e(r!==void 0?r:t.custom,o,a)}return e}function Vl(t){return St(t)?t.get():t}function BS({scrapeMotionValuesFromProps:t,createRenderState:e},r,s,o){return{latestValues:VS(r,s,o,t),renderState:e()}}function VS(t,e,r,s){const o={},a=s(t,{});for(const x in a)o[x]=Vl(a[x]);let{initial:u,animate:d}=t;const f=pc(t),p=Qx(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=r?r.initial===!1:!1;v=v||u===!1;const g=v?d:u;if(g&&typeof g!="boolean"&&!fc(g)){const x=Array.isArray(g)?g:[g];for(let b=0;b<x.length;b++){const w=Ef(t,x[b]);if(w){const{transitionEnd:F,transition:_,...j}=w;for(const S in j){let A=j[S];if(Array.isArray(A)){const T=v?A.length-1:0;A=A[T]}A!==null&&(o[S]=A)}for(const S in F)o[S]=F[S]}}}return o}const sb=t=>(e,r)=>{const s=k.useContext(hc),o=k.useContext(dc),a=()=>BS(t,e,s,o);return r?a():qh(a)};function Ff(t,e,r){const{style:s}=t,o={};for(const a in s)(St(s[a])||e.style&&St(e.style[a])||Zx(a,t)||r?.getValue(a)?.liveStyle!==void 0)&&(o[a]=s[a]);return o}const US=sb({scrapeMotionValuesFromProps:Ff,createRenderState:bf});function ib(t,e,r){const s=Ff(t,e,r);for(const o in t)if(St(t[o])||St(e[o])){const a=Ni.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[a]=t[o]}return s}const zS=sb({scrapeMotionValuesFromProps:ib,createRenderState:rb}),WS=Symbol.for("motionComponentSymbol");function ci(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function HS(t,e,r){return k.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):ci(r)&&(r.current=s))},[e])}const _f=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qS="framerAppearId",ob="data-"+_f(qS),ab=k.createContext({});function KS(t,e,r,s,o){const{visualElement:a}=k.useContext(hc),u=k.useContext(Xx),d=k.useContext(dc),f=k.useContext(gf).reducedMotion,p=k.useRef(null);s=s||u.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:a,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const v=p.current,g=k.useContext(ab);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&GS(p.current,r,o,g);const x=k.useRef(!1);k.useInsertionEffect(()=>{v&&x.current&&v.update(r,d)});const b=r[ob],w=k.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return sx(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),w.current&&v.animationState&&v.animationState.animateChanges())}),k.useEffect(()=>{v&&(!w.current&&v.animationState&&v.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),w.current=!1),v.enteringChildren=void 0)}),v}function GS(t,e,r,s){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:lb(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&ci(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:f,layoutRoot:p})}function lb(t){if(t)return t.options.allowProjection!==!1?t.projection:lb(t.parent)}function Sd(t,{forwardMotionProps:e=!1}={},r,s){r&&wS(r);const o=wf(t)?zS:US;function a(d,f){let p;const v={...k.useContext(gf),...d,layoutId:YS(d)},{isStatic:g}=v,x=jS(d),b=o(d,g);if(!g&&Kh){XS();const w=JS(v);p=w.MeasureLayout,x.visualElement=KS(t,b,v,s,w.ProjectionNode)}return l.jsxs(hc.Provider,{value:x,children:[p&&x.visualElement?l.jsx(p,{visualElement:x.visualElement,...v}):null,$S(t,d,HS(b,x.visualElement,f),b,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=k.forwardRef(a);return u[WS]=t,u}function YS({layoutId:t}){const e=k.useContext(Hh).id;return e&&t!==void 0?e+"-"+t:t}function XS(t,e){k.useContext(Xx).strict}function JS(t){const{drag:e,layout:r}=wi;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function QS(t,e){if(typeof Proxy>"u")return Sd;const r=new Map,s=(a,u)=>Sd(a,u,t,e),o=(a,u)=>s(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?s:(r.has(u)||r.set(u,Sd(u,void 0,t,e)),r.get(u))})}function cb({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function ZS({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function eN(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function Nd(t){return t===void 0||t===1}function wh({scale:t,scaleX:e,scaleY:r}){return!Nd(t)||!Nd(e)||!Nd(r)}function fs(t){return wh(t)||ub(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ub(t){return O0(t.x)||O0(t.y)}function O0(t){return t&&t!=="0%"}function sc(t,e,r){const s=t-r,o=e*s;return r+o}function D0(t,e,r,s,o){return o!==void 0&&(t=sc(t,o,s)),sc(t,r,s)+e}function Eh(t,e=0,r=1,s,o){t.min=D0(t.min,e,r,s,o),t.max=D0(t.max,e,r,s,o)}function db(t,{x:e,y:r}){Eh(t.x,e.translate,e.scale,e.originPoint),Eh(t.y,r.translate,r.scale,r.originPoint)}const I0=.999999999999,L0=1.0000000000001;function tN(t,e,r,s=!1){const o=r.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=r[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&di(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,db(t,u)),s&&fs(a.latestValues)&&di(t,a.latestValues))}e.x<L0&&e.x>I0&&(e.x=1),e.y<L0&&e.y>I0&&(e.y=1)}function ui(t,e){t.min=t.min+e,t.max=t.max+e}function M0(t,e,r,s,o=.5){const a=Ge(t.min,t.max,o);Eh(t,e,r,a,s)}function di(t,e){M0(t.x,e.x,e.scaleX,e.scale,e.originX),M0(t.y,e.y,e.scaleY,e.scale,e.originY)}function hb(t,e){return cb(eN(t.getBoundingClientRect(),e))}function rN(t,e,r){const s=hb(t,r),{scroll:o}=e;return o&&(ui(s.x,o.offset.x),ui(s.y,o.offset.y)),s}const $0=()=>({translate:0,scale:1,origin:0,originPoint:0}),hi=()=>({x:$0(),y:$0()}),B0=()=>({min:0,max:0}),et=()=>({x:B0(),y:B0()}),Fh={current:null},fb={current:!1};function nN(){if(fb.current=!0,!!Kh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fh.current=t.matches;t.addEventListener("change",e),e()}else Fh.current=!1}const sN=new WeakMap;function iN(t,e,r){for(const s in e){const o=e[s],a=r[s];if(St(o))t.addValue(s,o);else if(St(a))t.addValue(s,bi(o,{owner:t}));else if(a!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,bi(u!==void 0?u:o,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const V0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oN{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=df,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ut.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ze.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=pc(r),this.isVariantNode=Qx(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const x in g){const b=g[x];f[x]!==void 0&&St(b)&&b.set(f[x])}}mount(e){this.current=e,sN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),fb.current||nN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fh.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$n(this.notifyUpdate),$n(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ci.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ze.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wi){const r=wi[e];if(!r)continue;const{isEnabled:s,Feature:o}=r;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<V0.length;s++){const o=V0[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=iN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=bi(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(ix(s)||ax(s))?s=parseFloat(s):!pS(s)&&Bn.test(r)&&(s=Ux(e,r)),this.setBaseTarget(e,St(s)?s.get():s)),St(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=Ef(this.props,r,this.presenceContext?.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!St(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Qh),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){pf.render(this.render)}}class pb extends oN{constructor(){super(...arguments),this.KeyframeResolver=rS}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;St(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function mb(t,{style:e,vars:r},s,o){const a=t.style;let u;for(u in e)a[u]=e[u];o?.applyProjectionStyles(a,s);for(u in r)a.setProperty(u,r[u])}function aN(t){return window.getComputedStyle(t)}class lN extends pb{constructor(){super(...arguments),this.type="html",this.renderInstance=mb}readValueFromInstance(e,r){if(Ci.has(r))return this.projection?.isProjecting?ph(r):wA(e,r);{const s=aN(e),o=(tf(r)?s.getPropertyValue(r):s[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return hb(e,r)}build(e,r,s){xf(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return Ff(e,r,s)}}const gb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cN(t,e,r,s){mb(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(gb.has(o)?o:_f(o),e.attrs[o])}class uN extends pb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Ci.has(r)){const s=Vx(r);return s&&s.default||0}return r=gb.has(r)?r:_f(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return ib(e,r,s)}build(e,r,s){tb(e,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,r,s,o){cN(e,r,s,o)}mount(e){this.isSVGTag=nb(e.tagName),super.mount(e)}}const dN=(t,e)=>wf(t)?new uN(e):new lN(e,{allowProjection:t!==k.Fragment});function pi(t,e,r){const s=t.getProps();return Ef(s,e,r!==void 0?r:s.custom,t)}const _h=t=>Array.isArray(t);function hN(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,bi(r))}function fN(t){return _h(t)?t[t.length-1]||0:t}function pN(t,e){const r=pi(t,e);let{transitionEnd:s={},transition:o={},...a}=r||{};a={...a,...s};for(const u in a){const d=fN(a[u]);hN(t,u,d)}}function mN(t){return!!(St(t)&&t.add)}function kh(t,e){const r=t.getValue("willChange");if(mN(r))return r.add(e);if(!r&&sn.WillChange){const s=new sn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function vb(t){return t.props[ob]}const gN=t=>t!==null;function vN(t,{repeat:e,repeatType:r="loop"},s){const o=t.filter(gN),a=e&&r!=="loop"&&e%2===1?0:o.length-1;return o[a]}const yN={type:"spring",stiffness:500,damping:25,restSpeed:10},xN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bN={type:"keyframes",duration:.8},wN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EN=(t,{keyframes:e})=>e.length>2?bN:Ci.has(t)?t.startsWith("scale")?xN(e[1]):yN:wN;function FN({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:p,...v}){return!!Object.keys(v).length}const kf=(t,e,r,s={},o,a)=>u=>{const d=hf(s,t)||{},f=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-$r(f);const v={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:o};FN(d)||Object.assign(v,EN(t,v)),v.duration&&(v.duration=$r(v.duration)),v.repeatDelay&&(v.repeatDelay=$r(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let g=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(xh(v),v.delay===0&&(g=!0)),(sn.instantAnimations||sn.skipAnimations)&&(g=!0,xh(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,g&&!a&&e.get()!==void 0){const x=vN(v.keyframes,d);if(x!==void 0){ze.update(()=>{v.onUpdate(x),v.onComplete()});return}}return d.isSync?new uf(v):new WA(v)};function _N({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function yb(t,e,{delay:r=0,transitionOverride:s,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(a=s);const f=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const v in d){const g=t.getValue(v,t.latestValues[v]??null),x=d[v];if(x===void 0||p&&_N(p,v))continue;const b={delay:r,...hf(a||{},v)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===w&&!b.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const j=vb(t);if(j){const S=window.MotionHandoffAnimation(j,v,ze);S!==null&&(b.startTime=S,F=!0)}}kh(t,v),g.start(kf(v,g,x,t.shouldReduceMotion&&Mx.has(v)?{type:!1}:b,t,F));const _=g.animation;_&&f.push(_)}return u&&Promise.all(f).then(()=>{ze.update(()=>{u&&pN(t,u)})}),f}function xb(t,e,r,s=0,o=1){const a=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),u=t.size,d=(u-1)*s;return typeof r=="function"?r(a,u):o===1?a*s:d-a*s}function jh(t,e,r={}){const s=pi(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(o=r.transitionOverride);const a=s?()=>Promise.all(yb(t,s,r)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:g}=o;return kN(t,e,f,p,v,g,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,p]=d==="beforeChildren"?[a,u]:[u,a];return f().then(()=>p())}else return Promise.all([a(),u(r.delay)])}function kN(t,e,r=0,s=0,o=0,a=1,u){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(jh(f,e,{...u,delay:r+(typeof s=="function"?0:s)+xb(t.variantChildren,f,s,o,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function jN(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(a=>jh(t,a,r));s=Promise.all(o)}else if(typeof e=="string")s=jh(t,e,r);else{const o=typeof e=="function"?pi(t,e,r.custom):e;s=Promise.all(yb(t,o,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}function bb(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}const AN=yf.length;function wb(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?wb(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<AN;r++){const s=yf[r],o=t.props[s];(zo(o)||o===!1)&&(e[s]=o)}return e}const SN=[...vf].reverse(),NN=vf.length;function CN(t){return e=>Promise.all(e.map(({animation:r,options:s})=>jN(t,r,s)))}function TN(t){let e=CN(t),r=U0(),s=!0;const o=f=>(p,v)=>{const g=pi(t,v,f==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:x,transitionEnd:b,...w}=g;p={...p,...w,...b}}return p};function a(f){e=f(t)}function u(f){const{props:p}=t,v=wb(t.parent)||{},g=[],x=new Set;let b={},w=1/0;for(let _=0;_<NN;_++){const j=SN[_],S=r[j],A=p[j]!==void 0?p[j]:v[j],T=zo(A),I=j===f?S.isActive:null;I===!1&&(w=_);let V=A===v[j]&&A!==p[j]&&T;if(V&&s&&t.manuallyAnimateOnMount&&(V=!1),S.protectedKeys={...b},!S.isActive&&I===null||!A&&!S.prevProp||fc(A)||typeof A=="boolean")continue;const M=PN(S.prevProp,A);let O=M||j===f&&S.isActive&&!V&&T||_>w&&T,X=!1;const le=Array.isArray(A)?A:[A];let Ee=le.reduce(o(j),{});I===!1&&(Ee={});const{prevResolvedValues:Z={}}=S,ee={...Z,...Ee},je=te=>{O=!0,x.has(te)&&(X=!0,x.delete(te)),S.needsAnimating[te]=!0;const $=t.getValue(te);$&&($.liveStyle=!1)};for(const te in ee){const $=Ee[te],re=Z[te];if(b.hasOwnProperty(te))continue;let W=!1;_h($)&&_h(re)?W=!bb($,re):W=$!==re,W?$!=null?je(te):x.add(te):$!==void 0&&x.has(te)?je(te):S.protectedKeys[te]=!0}S.prevProp=A,S.prevResolvedValues=Ee,S.isActive&&(b={...b,...Ee}),s&&t.blockInitialAnimation&&(O=!1);const pe=V&&M;O&&(!pe||X)&&g.push(...le.map(te=>{const $={type:j};if(typeof te=="string"&&s&&!pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:re}=t,W=pi(re,te);if(re.enteringChildren&&W){const{delayChildren:P}=W.transition||{};$.delay=xb(re.enteringChildren,t,P)}}return{animation:te,options:$}}))}if(x.size){const _={};if(typeof p.initial!="boolean"){const j=pi(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(_.transition=j.transition)}x.forEach(j=>{const S=t.getBaseTarget(j),A=t.getValue(j);A&&(A.liveStyle=!0),_[j]=S??null}),g.push({animation:_})}let F=!!g.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(F=!1),s=!1,F?e(g):Promise.resolve()}function d(f,p){if(r[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(f,p)),r[f].isActive=p;const v=u(f);for(const g in r)r[g].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>r,reset:()=>{r=U0()}}}function PN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bb(e,t):!1}function ds(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function U0(){return{animate:ds(!0),whileInView:ds(),whileHover:ds(),whileTap:ds(),whileDrag:ds(),whileFocus:ds(),exit:ds()}}class zn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class RN extends zn{constructor(e){super(e),e.animationState||(e.animationState=TN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ON=0;class DN extends zn{constructor(){super(...arguments),this.id=ON++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const IN={animation:{Feature:RN},exit:{Feature:DN}};function Ho(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function Zo(t){return{point:{x:t.pageX,y:t.pageY}}}const LN=t=>e=>mf(e)&&t(e,Zo(e));function To(t,e,r,s){return Ho(t,e,LN(r),s)}const Eb=1e-4,MN=1-Eb,$N=1+Eb,Fb=.01,BN=0-Fb,VN=0+Fb;function Pt(t){return t.max-t.min}function UN(t,e,r){return Math.abs(t-e)<=r}function z0(t,e,r,s=.5){t.origin=s,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=Pt(r)/Pt(e),t.translate=Ge(r.min,r.max,t.origin)-t.originPoint,(t.scale>=MN&&t.scale<=$N||isNaN(t.scale))&&(t.scale=1),(t.translate>=BN&&t.translate<=VN||isNaN(t.translate))&&(t.translate=0)}function Po(t,e,r,s){z0(t.x,e.x,r.x,s?s.originX:void 0),z0(t.y,e.y,r.y,s?s.originY:void 0)}function W0(t,e,r){t.min=r.min+e.min,t.max=t.min+Pt(e)}function zN(t,e,r){W0(t.x,e.x,r.x),W0(t.y,e.y,r.y)}function H0(t,e,r){t.min=e.min-r.min,t.max=t.min+Pt(e)}function Ro(t,e,r){H0(t.x,e.x,r.x),H0(t.y,e.y,r.y)}function pr(t){return[t("x"),t("y")]}const _b=({current:t})=>t?t.ownerDocument.defaultView:null,q0=(t,e)=>Math.abs(t-e);function WN(t,e){const r=q0(t.x,e.x),s=q0(t.y,e.y);return Math.sqrt(r**2+s**2)}class kb{constructor(e,r,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Td(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=WN(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:F}=x,{timestamp:_}=wt;this.history.push({...F,timestamp:_});const{onStart:j,onMove:S}=this.handlers;b||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Cd(b,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:w,onSessionEnd:F,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Td(x.type==="pointercancel"?this.lastMoveEventInfo:Cd(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,j),F&&F(x,j)},!mf(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const d=Zo(e),f=Cd(d,this.transformPagePoint),{point:p}=f,{timestamp:v}=wt;this.history=[{...p,timestamp:v}];const{onSessionStart:g}=r;g&&g(e,Td(f,this.history)),this.removeListeners=Yo(To(this.contextWindow,"pointermove",this.handlePointerMove),To(this.contextWindow,"pointerup",this.handlePointerUp),To(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$n(this.updatePoint)}}function Cd(t,e){return e?{point:e(t.point)}:t}function K0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Td({point:t},e){return{point:t,delta:K0(t,jb(e)),offset:K0(t,HN(e)),velocity:qN(e,.1)}}function HN(t){return t[0]}function jb(t){return t[t.length-1]}function qN(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const o=jb(t);for(;r>=0&&(s=t[r],!(o.timestamp-s.timestamp>$r(e)));)r--;if(!s)return{x:0,y:0};const a=gr(o.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-s.x)/a,y:(o.y-s.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function KN(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?Ge(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?Ge(r,t,s.max):Math.min(t,r)),t}function G0(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function GN(t,{top:e,left:r,bottom:s,right:o}){return{x:G0(t.x,r,o),y:G0(t.y,e,s)}}function Y0(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function YN(t,e){return{x:Y0(t.x,e.x),y:Y0(t.y,e.y)}}function XN(t,e){let r=.5;const s=Pt(t),o=Pt(e);return o>s?r=Bo(e.min,e.max-s,t.min):s>o&&(r=Bo(t.min,t.max-o,e.min)),nn(0,1,r)}function JN(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Ah=.35;function QN(t=Ah){return t===!1?t=0:t===!0&&(t=Ah),{x:X0(t,"left","right"),y:X0(t,"top","bottom")}}function X0(t,e,r){return{min:J0(t,e),max:J0(t,r)}}function J0(t,e){return typeof t=="number"?t:t[e]||0}const ZN=new WeakMap;class eC{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Zo(g).point)},u=(g,x)=>{const{drag:b,dragPropagation:w,onDragStart:F}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oS(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pr(j=>{let S=this.getAxisMotionValue(j).get()||0;if(Br.test(S)){const{projection:A}=this.visualElement;if(A&&A.layout){const T=A.layout.layoutBox[j];T&&(S=Pt(T)*(parseFloat(S)/100))}}this.originPoint[j]=S}),F&&ze.postRender(()=>F(g,x)),kh(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},d=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x;const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:F,onDrag:_}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=x;if(w&&this.currentDirection===null){this.currentDirection=tC(j),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),_&&_(g,x)},f=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x,this.stop(g,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>pr(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new kb(e,{onSessionStart:a,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:_b(this.visualElement)})}stop(e,r){const s=e||this.latestPointerEvent,o=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&ze.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:o}=this.getProps();if(!s||!Tl(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=KN(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&ci(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=GN(s.layoutBox,e):this.constraints=!1,this.elastic=QN(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&pr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=JN(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!ci(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=rN(s,o.root,this.visualElement.getTransformPagePoint());let u=YN(o.layout.layoutBox,a);if(r){const d=r(ZS(u));this.hasMutatedConstraints=!!d,d&&(u=cb(d))}return u}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=pr(v=>{if(!Tl(v,r,this.currentDirection))return;let g=f&&f[v]||{};u&&(g={min:0,max:0});const x=o?200:1e6,b=o?40:1e7,w={type:"inertia",velocity:s?e[v]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(v,w)});return Promise.all(p).then(d)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return kh(this.visualElement,e),s.start(kf(e,s,0,r,this.visualElement,!1))}stopAnimation(){pr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[r];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){pr(r=>{const{drag:s}=this.getProps();if(!Tl(r,s,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(r);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[r];a.set(e[r]-Ge(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!ci(r)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};pr(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=XN({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),pr(u=>{if(!Tl(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(Ge(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;ZN.set(this.visualElement,this);const e=this.visualElement.current,r=To(e,"pointerdown",f=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();ci(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ze.read(s);const u=Ho(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(pr(v=>{const g=this.getAxisMotionValue(v);g&&(this.originPoint[v]+=f[v].translate,g.set(g.get()+f[v].translate))}),this.visualElement.render())}));return()=>{u(),r(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Ah,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function Tl(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function tC(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class rC extends zn{constructor(e){super(e),this.removeGroupControls=vr,this.removeListeners=vr,this.controls=new eC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Q0=t=>(e,r)=>{t&&ze.postRender(()=>t(e,r))};class nC extends zn{constructor(){super(...arguments),this.removePointerDownListener=vr}onPointerDown(e){this.session=new kb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_b(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Q0(e),onStart:Q0(r),onMove:s,onEnd:(a,u)=>{delete this.session,o&&ze.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=To(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ul={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Z0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Fe.test(t))t=parseFloat(t);else return t;const r=Z0(t,e.target.x),s=Z0(t,e.target.y);return`${r}% ${s}%`}},sC={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,o=Bn.parse(t);if(o.length>5)return s;const a=Bn.createTransformer(t),u=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,f=r.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const p=Ge(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}};let Pd=!1;class iC extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:o}=this.props,{projection:a}=e;AS(oC),a&&(r.group&&r.group.add(a),s&&s.register&&o&&s.register(a),Pd&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ul.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:o,isPresent:a}=this.props,{projection:u}=s;return u&&(u.isPresent=a,Pd=!0,o||e.layoutDependency!==r||r===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||ze.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:o}=e;Pd=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ab(t){const[e,r]=Yx(),s=k.useContext(Hh);return l.jsx(iC,{...t,layoutGroup:s,switchLayoutGroup:k.useContext(ab),isPresent:e,safeToRemove:r})}const oC={borderRadius:{...wo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wo,borderTopRightRadius:wo,borderBottomLeftRadius:wo,borderBottomRightRadius:wo,boxShadow:sC};function aC(t,e,r){const s=St(t)?t:bi(t);return s.start(kf("",s,e,r)),s.animation}const lC=(t,e)=>t.depth-e.depth;class cC{constructor(){this.children=[],this.isDirty=!1}add(e){Gh(this.children,e),this.isDirty=!0}remove(e){Yh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(lC),this.isDirty=!1,this.children.forEach(e)}}function uC(t,e){const r=Ut.now(),s=({timestamp:o})=>{const a=o-r;a>=e&&($n(s),t(a-e))};return ze.setup(s,!0),()=>$n(s)}const Sb=["TopLeft","TopRight","BottomLeft","BottomRight"],dC=Sb.length,ev=t=>typeof t=="string"?parseFloat(t):t,tv=t=>typeof t=="number"||Fe.test(t);function hC(t,e,r,s,o,a){o?(t.opacity=Ge(0,r.opacity??1,fC(s)),t.opacityExit=Ge(e.opacity??1,0,pC(s))):a&&(t.opacity=Ge(e.opacity??1,r.opacity??1,s));for(let u=0;u<dC;u++){const d=`border${Sb[u]}Radius`;let f=rv(e,d),p=rv(r,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||tv(f)===tv(p)?(t[d]=Math.max(Ge(ev(f),ev(p),s),0),(Br.test(p)||Br.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||r.rotate)&&(t.rotate=Ge(e.rotate||0,r.rotate||0,s))}function rv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const fC=Nb(0,.5,mx),pC=Nb(.5,.95,vr);function Nb(t,e,r){return s=>s<t?0:s>e?1:r(Bo(t,e,s))}function nv(t,e){t.min=e.min,t.max=e.max}function fr(t,e){nv(t.x,e.x),nv(t.y,e.y)}function sv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function iv(t,e,r,s,o){return t-=e,t=sc(t,1/r,s),o!==void 0&&(t=sc(t,1/o,s)),t}function mC(t,e=0,r=1,s=.5,o,a=t,u=t){if(Br.test(e)&&(e=parseFloat(e),e=Ge(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Ge(a.min,a.max,s);t===a&&(d-=e),t.min=iv(t.min,e,r,d,o),t.max=iv(t.max,e,r,d,o)}function ov(t,e,[r,s,o],a,u){mC(t,e[r],e[s],e[o],e.scale,a,u)}const gC=["x","scaleX","originX"],vC=["y","scaleY","originY"];function av(t,e,r,s){ov(t.x,e,gC,r?r.x:void 0,s?s.x:void 0),ov(t.y,e,vC,r?r.y:void 0,s?s.y:void 0)}function lv(t){return t.translate===0&&t.scale===1}function Cb(t){return lv(t.x)&&lv(t.y)}function cv(t,e){return t.min===e.min&&t.max===e.max}function yC(t,e){return cv(t.x,e.x)&&cv(t.y,e.y)}function uv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Tb(t,e){return uv(t.x,e.x)&&uv(t.y,e.y)}function dv(t){return Pt(t.x)/Pt(t.y)}function hv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xC{constructor(){this.members=[]}add(e){Gh(this.members,e),e.scheduleRender()}remove(e){if(Yh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let s;for(let o=r;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bC(t,e,r){let s="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=r?.z||0;if((o||a||u)&&(s=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:p,rotate:v,rotateX:g,rotateY:x,skewX:b,skewY:w}=r;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),g&&(s+=`rotateX(${g}deg) `),x&&(s+=`rotateY(${x}deg) `),b&&(s+=`skewX(${b}deg) `),w&&(s+=`skewY(${w}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const Rd=["","X","Y","Z"],wC=1e3;let EC=0;function Od(t,e,r,s){const{latestValues:o}=e;o[t]&&(r[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Pb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=vb(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ze,!(o||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Pb(s)}function Rb({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=EC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kC),this.nodes.forEach(NC),this.nodes.forEach(CC),this.nodes.forEach(jC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new cC)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Qh),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Gx(u)&&!hS(u),this.instance=u;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let v,g=0;const x=()=>this.root.updateBlockedByResize=!1;ze.read(()=>{g=window.innerWidth}),t(u,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,v&&v(),v=uC(x,250),Ul.hasAnimatedSinceResize&&(Ul.hasAnimatedSinceResize=!1,this.nodes.forEach(mv)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||p.getDefaultTransition()||DC,{onLayoutAnimationStart:F,onLayoutAnimationComplete:_}=p.getProps(),j=!this.targetLayout||!Tb(this.targetLayout,b),S=!g&&x;if(this.options.layoutRoot||this.resumeFrom||S||g&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...hf(w,"layout"),onPlay:F,onComplete:_};(p.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(v,S)}else g||mv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$n(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TC),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Pb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const g=this.path[v];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(SC),this.nodes.forEach(FC),this.nodes.forEach(_C)):this.nodes.forEach(pv),this.clearAllSnapshots();const d=Ut.now();wt.delta=nn(0,1e3/60,d-wt.timestamp),wt.timestamp=d,wt.isProcessing=!0,Ed.update.process(wt),Ed.preRender.process(wt),Ed.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AC),this.sharedNodes.forEach(PC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pt(this.snapshot.measuredBox.x)&&!Pt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Cb(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||fs(this.latestValues)||v)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),IC(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return et();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(LC))){const{scroll:p}=this.root;p&&(ui(d.x,p.offset.x),ui(d.y,p.offset.y))}return d}removeElementScroll(u){const d=et();if(fr(d,u),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:v,options:g}=p;p!==this.root&&v&&g.layoutScroll&&(v.wasRoot&&fr(d,u),ui(d.x,v.offset.x),ui(d.y,v.offset.y))}return d}applyTransform(u,d=!1){const f=et();fr(f,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&di(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),fs(v.latestValues)&&di(f,v.latestValues)}return fs(this.latestValues)&&di(f,this.latestValues),f}removeTransform(u){const d=et();fr(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!fs(p.latestValues))continue;wh(p.latestValues)&&p.updateSnapshot();const v=et(),g=p.measurePageBox();fr(v,g),av(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return fs(this.latestValues)&&av(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:g}=this.options;if(!(!this.layout||!(v||g))){if(this.resolvedRelativeTargetAt=wt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Ro(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fr(this.target,this.layout.layoutBox),db(this.target,this.targetDelta)):fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Ro(this.relativeTargetOrigin,this.target,x.target),fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wh(this.parent.latestValues)||ub(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;fr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;tN(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=et());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sv(this.prevProjectionDelta.x,this.projectionDelta.x),sv(this.prevProjectionDelta.y,this.projectionDelta.y)),Po(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!hv(this.projectionDelta.x,this.prevProjectionDelta.x)||!hv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hi(),this.projectionDelta=hi(),this.projectionDeltaWithTransform=hi()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},v={...this.latestValues},g=hi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=et(),b=f?f.source:void 0,w=this.layout?this.layout.source:void 0,F=b!==w,_=this.getStack(),j=!_||_.members.length<=1,S=!!(F&&!j&&this.options.crossfade===!0&&!this.path.some(OC));this.animationProgress=0;let A;this.mixTargetDelta=T=>{const I=T/1e3;gv(g.x,u.x,I),gv(g.y,u.y,I),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ro(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RC(this.relativeTarget,this.relativeTargetOrigin,x,I),A&&yC(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=et()),fr(A,this.relativeTarget)),F&&(this.animationValues=v,hC(v,p,this.latestValues,I,S,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&($n(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{Ul.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bi(0)),this.currentAnimation=aC(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:v}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&Ob(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||et();const g=Pt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+g;const x=Pt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+x}fr(d,f),di(d,v),Po(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new xC),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&Od("z",u,p,this.animationValues);for(let v=0;v<Rd.length;v++)Od(`rotate${Rd[v]}`,u,p,this.animationValues),Od(`skew${Rd[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Vl(d?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Vl(d?.pointerEvents)||""),this.hasProjected&&!fs(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let g=bC(this.projectionDeltaWithTransform,this.treeScale,v);f&&(g=f(v,g)),u.transform=g;const{x,y:b}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,p.animationValues?u.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const w in Wo){if(v[w]===void 0)continue;const{correct:F,applyTo:_,isCSSVariable:j}=Wo[w],S=g==="none"?v[w]:F(v[w],p);if(_){const A=_.length;for(let T=0;T<A;T++)u[_[T]]=S}else j?this.options.visualElement.renderState.vars[w]=S:u[w]=S}this.options.layoutId&&(u.pointerEvents=p===this?Vl(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(fv),this.root.sharedNodes.clear()}}}function FC(t){t.updateLayout()}function _C(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?pr(v=>{const g=a?e.measuredBox[v]:e.layoutBox[v],x=Pt(g);g.min=r[v].min,g.max=g.min+x}):Ob(o,e.layoutBox,r)&&pr(v=>{const g=a?e.measuredBox[v]:e.layoutBox[v],x=Pt(r[v]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+x)});const u=hi();Po(u,r,e.layoutBox);const d=hi();a?Po(d,t.applyTransform(s,!0),e.measuredBox):Po(d,r,e.layoutBox);const f=!Cb(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:g,layout:x}=v;if(g&&x){const b=et();Ro(b,e.layoutBox,g.layoutBox);const w=et();Ro(w,r,x.layoutBox),Tb(b,w)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=b,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function kC(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jC(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function AC(t){t.clearSnapshot()}function fv(t){t.clearMeasurements()}function pv(t){t.isLayoutDirty=!1}function SC(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function NC(t){t.resolveTargetDelta()}function CC(t){t.calcProjection()}function TC(t){t.resetSkewAndRotation()}function PC(t){t.removeLeadSnapshot()}function gv(t,e,r){t.translate=Ge(e.translate,0,r),t.scale=Ge(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function vv(t,e,r,s){t.min=Ge(e.min,r.min,s),t.max=Ge(e.max,r.max,s)}function RC(t,e,r,s){vv(t.x,e.x,r.x,s),vv(t.y,e.y,r.y,s)}function OC(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DC={duration:.45,ease:[.4,0,.1,1]},yv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xv=yv("applewebkit/")&&!yv("chrome/")?Math.round:vr;function bv(t){t.min=xv(t.min),t.max=xv(t.max)}function IC(t){bv(t.x),bv(t.y)}function Ob(t,e,r){return t==="position"||t==="preserve-aspect"&&!UN(dv(e),dv(r),.2)}function LC(t){return t!==t.root&&t.scroll?.wasRoot}const MC=Rb({attachResizeListener:(t,e)=>Ho(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dd={current:void 0},Db=Rb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dd.current){const t=new MC({});t.mount(window),t.setOptions({layoutScroll:!0}),Dd.current=t}return Dd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$C={pan:{Feature:nC},drag:{Feature:rC,ProjectionNode:Db,MeasureLayout:Ab}};function wv(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,a=s[o];a&&ze.postRender(()=>a(e,Zo(e)))}class BC extends zn{mount(){const{current:e}=this.node;e&&(this.unmount=aS(e,(r,s)=>(wv(this.node,s,"Start"),o=>wv(this.node,o,"End"))))}unmount(){}}class VC extends zn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yo(Ho(this.node.current,"focus",()=>this.onFocus()),Ho(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ev(t,e,r){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),a=s[o];a&&ze.postRender(()=>a(e,Zo(e)))}class UC extends zn{mount(){const{current:e}=this.node;e&&(this.unmount=dS(e,(r,s)=>(Ev(this.node,s,"Start"),(o,{success:a})=>Ev(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sh=new WeakMap,Id=new WeakMap,zC=t=>{const e=Sh.get(t.target);e&&e(t)},WC=t=>{t.forEach(zC)};function HC({root:t,...e}){const r=t||document;Id.has(r)||Id.set(r,{});const s=Id.get(r),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(WC,{root:t,...e})),s[o]}function qC(t,e,r){const s=HC(e);return Sh.set(t,r),s.observe(t),()=>{Sh.delete(t),s.unobserve(t)}}const KC={some:0,all:1};class GC extends zn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:o="some",once:a}=e,u={root:r?r.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:KC[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:g}=this.node.getProps(),x=p?v:g;x&&x(f)};return qC(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(YC(e,r))&&this.startObserver()}unmount(){}}function YC({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const XC={inView:{Feature:GC},tap:{Feature:UC},focus:{Feature:VC},hover:{Feature:BC}},JC={layout:{ProjectionNode:Db,MeasureLayout:Ab}},QC={...IN,...XC,...$C,...JC},U=QS(QC,dN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),Fv=t=>{const e=eT(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ib=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:u,...d},f)=>k.createElement("svg",{ref:f,...tT,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:Ib("lucide",o),...d},[...u.map(([p,v])=>k.createElement(p,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const r=k.forwardRef(({className:s,...o},a)=>k.createElement(rT,{ref:a,iconNode:e,className:Ib(`lucide-${ZC(Fv(t))}`,`lucide-${t}`,s),...o}));return r.displayName=Fv(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wt=Ae("arrow-left",nT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],rr=Ae("award",sT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],bs=Ae("bell",iT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],aT=Ae("camera",oT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cT=Ae("check",lT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_v=Ae("chevron-right",uT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hT=Ae("circle-check-big",dT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tn=Ae("circle-check",fT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ea=Ae("clock",pT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gT=Ae("copy",mT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ei=Ae("crown",vT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Cr=Ae("dollar-sign",yT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],bT=Ae("download",xT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Pl=Ae("external-link",wT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Ti=Ae("flame",ET);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],_T=Ae("gift",FT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],jT=Ae("house",kT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ST=Ae("instagram",AT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lb=Ae("lock",NT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],TT=Ae("log-out",CT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Fi=Ae("mail",PT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Vr=Ae("map-pin",RT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],kv=Ae("medal",OT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],IT=Ae("pen",DT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],mc=Ae("phone",LT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Mb=Ae("play",MT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zl=Ae("plus",$T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],VT=Ae("refresh-cw",BT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$b=Ae("save",UT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bb=Ae("settings",zT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],HT=Ae("share-2",WT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],KT=Ae("shield",qT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],jf=Ae("sparkles",GT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],XT=Ae("square",YT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Wl=Ae("star",JT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zt=Ae("target",QT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],jv=Ae("trash-2",ZT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Tr=Ae("trending-up",e5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],rn=Ae("trophy",t5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Af=Ae("user",r5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],s5=Ae("users",n5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sf=Ae("x",i5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Nt=Ae("zap",o5);function a5({onNavigateToLogin:t,onNavigateToApply:e}){return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505] relative overflow-hidden",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]",style:{backgroundSize:"200% 100%"}}),l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx(U.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-32 -right-32 w-64 h-64 bg-[#8A4FFF] opacity-10 rotate-45"}),l.jsx(U.div,{animate:{rotate:-360,scale:[1,1.2,1]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute -bottom-32 -left-32 w-64 h-64 bg-[#FF7A59] opacity-10 rounded-full"})]}),l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 py-12 relative z-10",children:[l.jsxs(U.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"mb-12 text-center",children:[l.jsxs("div",{className:"inline-block border-4 border-[#F6F2EE] p-8 mb-6 bg-gradient-to-br from-[#8A4FFF] to-[#7A3FEF] relative overflow-hidden",style:{boxShadow:"8px 8px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx(U.div,{animate:{rotate:[0,5,0,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:l.jsx("h1",{className:"text-6xl font-black text-[#F6F2EE] tracking-tight",children:"PP"})}),l.jsx(U.div,{animate:{scale:[1,1.5],opacity:[.5,0]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 border-4 border-[#FF7A59]"})]}),l.jsx(U.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-[#F6F2EE] mb-2 tracking-wide",children:"PATRON PASS"}),l.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"inline-block px-4 py-2 bg-[#FF7A59] border-3 border-[#F6F2EE]",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:l.jsx("span",{className:"text-[#F6F2EE] uppercase tracking-widest text-sm font-bold",children:"Street Team"})})]}),l.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"text-center mb-12 max-w-md",children:[l.jsxs("h1",{className:"text-[#F6F2EE] mb-4 leading-tight",children:["RUN THE CITY.",l.jsx("br",{}),"BUILD THE NETWORK."]}),l.jsx("p",{className:"text-[#A0A0A0] text-base leading-relaxed",children:"Join the street team. Sign venues. Earn commissions. Climb the ranks. Build your empire."})]}),l.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"grid grid-cols-3 gap-3 mb-12 w-full max-w-md",children:[l.jsxs("div",{className:"p-3 bg-[#151515] border-2 border-[#8A4FFF] text-center",children:[l.jsx(Nt,{className:"w-6 h-6 text-[#8A4FFF] mx-auto mb-2"}),l.jsx("p",{className:"text-[#F6F2EE] text-xs uppercase tracking-wide font-bold",children:"Gamified"})]}),l.jsxs("div",{className:"p-3 bg-[#151515] border-2 border-[#FF7A59] text-center",children:[l.jsx(Tr,{className:"w-6 h-6 text-[#FF7A59] mx-auto mb-2"}),l.jsx("p",{className:"text-[#F6F2EE] text-xs uppercase tracking-wide font-bold",children:"Ranked"})]}),l.jsxs("div",{className:"p-3 bg-[#151515] border-2 border-[#FFD700] text-center",children:[l.jsx(Cr,{className:"w-6 h-6 text-[#FFD700] mx-auto mb-2"}),l.jsx("p",{className:"text-[#F6F2EE] text-xs uppercase tracking-wide font-bold",children:"Paid"})]})]}),l.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},className:"w-full max-w-sm space-y-4",children:[l.jsx(U.div,{whileHover:{scale:1.02,x:4},whileTap:{scale:.98},children:l.jsxs(Oe,{onClick:t,className:"w-full h-16 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider transition-all relative overflow-hidden group",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx("span",{className:"relative z-10 text-lg font-bold",children:"Login"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 transform -skew-x-12 group-hover:translate-x-full transition-transform duration-700"})]})}),l.jsx(U.div,{whileHover:{scale:1.02,x:4},whileTap:{scale:.98},children:l.jsx(Oe,{onClick:e,variant:"outline",className:"w-full h-16 bg-transparent hover:bg-[#151515] text-[#F6F2EE] border-4 border-[#F6F2EE] hover:border-[#FF7A59] uppercase tracking-wider transition-all",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:l.jsx("span",{className:"text-lg font-bold",children:"Apply to Join"})})})]}),l.jsxs(U.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:1.3,type:"spring"},className:"mt-16 flex gap-3",children:[l.jsx(U.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,delay:0},className:"w-4 h-4 bg-[#8A4FFF] border-2 border-[#F6F2EE]"}),l.jsx(U.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,delay:.2},className:"w-4 h-4 bg-[#FF7A59] border-2 border-[#F6F2EE]"}),l.jsx(U.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,delay:.4},className:"w-4 h-4 bg-[#8A4FFF] border-2 border-[#F6F2EE]"})]})]}),l.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"px-6 py-6 text-center text-xs text-[#A0A0A0] uppercase tracking-widest",children:"Elite Nightlife Network"})]})}function it({className:t,type:e,...r}){return l.jsx("input",{type:e,"data-slot":"input",className:Rt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var l5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],c5=l5.reduce((t,e)=>{const r=zy(`Primitive.${e}`),s=k.forwardRef((o,a)=>{const{asChild:u,...d}=o,f=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...d,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),u5="Label",Vb=k.forwardRef((t,e)=>l.jsx(c5.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Vb.displayName=u5;var d5=Vb;function Ie({className:t,...e}){return l.jsx(d5,{"data-slot":"label",className:Rt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function h5({onBack:t,onLogin:e}){const[r,s]=k.useState(""),[o,a]=k.useState(""),[u,d]=k.useState(!1),[f,p]=k.useState(""),v=async g=>{g.preventDefault(),p(""),d(!0);try{console.log("Attempting to reach:","https://djsuqvmefbgnmoyfpqhi.supabase.co");const x=await fetch("https://djsuqvmefbgnmoyfpqhi.supabase.co/rest/v1/",{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRqc3Vxdm1lZmJnbm1veWZwcWhpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMDc4MzcsImV4cCI6MjA3MTg4MzgzN30.ojH8W5hjbUbKKf_AaMnYzHGA5vf_fDtG8Bvguet8soA"}});console.log("Basic connectivity test response status:",x.status)}catch(x){console.error("Basic connectivity test failed:",x)}try{console.log("Attempting login with:",r),await e(r,o),console.log("Login successful")}catch(x){console.error("Login error:",x),p(x.message||"Login failed. Please try again.")}finally{d(!1)}};return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4 flex items-center gap-4",children:[l.jsx("button",{onClick:t,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE]",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("h3",{className:"text-[#F6F2EE]",children:"Login"})]}),l.jsx("div",{className:"flex-1 px-6 py-8",children:l.jsxs("form",{onSubmit:v,className:"max-w-md mx-auto space-y-6",children:[l.jsxs("div",{children:[l.jsx(Ie,{htmlFor:"email",className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Email"}),l.jsx(it,{id:"email",type:"email",value:r,onChange:g=>s(g.target.value),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"street@patronpass.com"})]}),l.jsxs("div",{children:[l.jsx(Ie,{htmlFor:"password",className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Password"}),l.jsx(it,{id:"password",type:"password",value:o,onChange:g=>a(g.target.value),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:""})]}),f&&l.jsx("div",{className:"p-4 bg-[#FF4444] border-3 border-[#F6F2EE] text-[#F6F2EE]",children:l.jsx("p",{className:"text-sm",children:f})}),l.jsx(Oe,{type:"submit",disabled:u,className:"w-full h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider disabled:opacity-50",children:u?"Logging in...":"Login"}),l.jsxs("div",{className:"mt-8 p-4 bg-[#151515] border-2 border-[#8A4FFF]",children:[l.jsx("p",{className:"text-xs text-[#A0A0A0] uppercase tracking-wide mb-2",children:"Test Account"}),l.jsx("p",{className:"text-sm text-[#F6F2EE] font-mono",children:"test@patronpass.com"}),l.jsx("p",{className:"text-sm text-[#F6F2EE] font-mono",children:"TestPass123!"})]})]})})]})}function gc({className:t,...e}){return l.jsx("textarea",{"data-slot":"textarea",className:Rt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const f5=["nightlife","sales","promo","hospitality","events","marketing"];function p5({onBack:t}){const[e,r]=k.useState({full_name:"",email:"",phone:"",city:"",instagram_handle:"",experience_tags:[],why_join:""}),[s,o]=k.useState(!1),[a,u]=k.useState(!1),[d,f]=k.useState(""),p=g=>{r(x=>({...x,experience_tags:x.experience_tags.includes(g)?x.experience_tags.filter(b=>b!==g):[...x.experience_tags,g]}))},v=async g=>{g.preventDefault(),f(""),u(!0);try{const x=dt(),{error:b}=await x.from("street_applications").insert({...e,status:"submitted"});if(b)throw b;o(!0)}catch(x){f(x.message||"Failed to submit application")}finally{u(!1)}};return s?l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#050505] px-6",children:l.jsxs("div",{className:"max-w-md w-full text-center",children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsx("div",{className:"p-6 bg-[#151515] border-4 border-[#8A4FFF]",children:l.jsx(tn,{className:"w-16 h-16 text-[#8A4FFF]"})})}),l.jsx("h2",{className:"text-[#F6F2EE] mb-4",children:"APPLICATION SUBMITTED"}),l.jsx("p",{className:"text-[#A0A0A0] mb-8",children:"Your application is under review. You'll hear from us within 24-48 hours."}),l.jsx(Oe,{onClick:t,className:"w-full h-12 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider",children:"Back to Welcome"})]})}):l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4 flex items-center gap-4",children:[l.jsx("button",{onClick:t,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE]",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("h3",{className:"text-[#F6F2EE]",children:"Join Street Team"})]}),l.jsx("div",{className:"flex-1 px-6 py-8 overflow-y-auto",children:l.jsxs("form",{onSubmit:v,className:"max-w-md mx-auto space-y-6 pb-8",children:[l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Full Name"}),l.jsx(it,{value:e.full_name,onChange:g=>r({...e,full_name:g.target.value}),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"Jordan Smith"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Email"}),l.jsx(it,{type:"email",value:e.email,onChange:g=>r({...e,email:g.target.value}),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"jordan@email.com"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Phone"}),l.jsx(it,{type:"tel",value:e.phone,onChange:g=>r({...e,phone:g.target.value}),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"+1-555-0123"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"City"}),l.jsx(it,{value:e.city,onChange:g=>r({...e,city:g.target.value}),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"Brooklyn, NY"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Instagram Handle"}),l.jsx(it,{value:e.instagram_handle,onChange:g=>r({...e,instagram_handle:g.target.value}),className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"@yourhandle"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3 block",children:"Experience (select all that apply)"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:f5.map(g=>l.jsx("button",{type:"button",onClick:()=>p(g),className:`p-3 border-3 uppercase text-sm tracking-wide transition-all ${e.experience_tags.includes(g)?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-[#151515] border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:g},g))})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Why do you want to join the Street Team?"}),l.jsx(gc,{value:e.why_join,onChange:g=>r({...e,why_join:g.target.value}),required:!0,rows:5,className:"bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] resize-none",placeholder:"Tell us about your hustle..."})]}),d&&l.jsx("div",{className:"p-4 bg-[#FF4444] border-3 border-[#F6F2EE] text-[#F6F2EE]",children:l.jsx("p",{className:"text-sm",children:d})}),l.jsx(Oe,{type:"submit",disabled:a,className:"w-full h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider disabled:opacity-50",children:a?"Submitting...":"Submit Application"})]})})]})}function m5(t,e){const r=k.createContext(e),s=a=>{const{children:u,...d}=a,f=k.useMemo(()=>d,Object.values(d));return l.jsx(r.Provider,{value:f,children:u})};s.displayName=t+"Provider";function o(a){const u=k.useContext(r);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[s,o]}function vc(t,e=[]){let r=[];function s(a,u){const d=k.createContext(u),f=r.length;r=[...r,u];const p=g=>{const{scope:x,children:b,...w}=g,F=x?.[t]?.[f]||d,_=k.useMemo(()=>w,Object.values(w));return l.jsx(F.Provider,{value:_,children:b})};p.displayName=a+"Provider";function v(g,x){const b=x?.[t]?.[f]||d,w=k.useContext(b);if(w)return w;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[p,v]}const o=()=>{const a=r.map(u=>k.createContext(u));return function(d){const f=d?.[t]||a;return k.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return o.scopeName=t,[s,g5(o,...e)]}function g5(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=s.reduce((d,{useScope:f,scopeName:p})=>{const g=f(a)[`__scope${p}`];return{...d,...g}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}function yr(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}var _i=globalThis?.document?k.useLayoutEffect:()=>{},v5=Rh[" useInsertionEffect ".trim().toString()]||_i;function Nf({prop:t,defaultProp:e,onChange:r=()=>{},caller:s}){const[o,a,u]=y5({defaultProp:e,onChange:r}),d=t!==void 0,f=d?t:o;{const v=k.useRef(t!==void 0);k.useEffect(()=>{const g=v.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,s])}const p=k.useCallback(v=>{if(d){const g=x5(v)?v(t):v;g!==t&&u.current?.(g)}else a(v)},[d,t,a,u]);return[f,p]}function y5({defaultProp:t,onChange:e}){const[r,s]=k.useState(t),o=k.useRef(r),a=k.useRef(e);return v5(()=>{a.current=e},[e]),k.useEffect(()=>{o.current!==r&&(a.current?.(r),o.current=r)},[r,o]),[r,s,a]}function x5(t){return typeof t=="function"}function Ub(t){const e=k.useRef({value:t,previous:t});return k.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function zb(t){const[e,r]=k.useState(void 0);return _i(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,d;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,d=p.blockSize}else u=t.offsetWidth,d=t.offsetHeight;r({width:u,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}function b5(t,e){return k.useReducer((r,s)=>e[r][s]??r,t)}var ta=t=>{const{present:e,children:r}=t,s=w5(e),o=typeof r=="function"?r({present:s.isPresent}):k.Children.only(r),a=nr(s.ref,E5(o));return typeof r=="function"||s.isPresent?k.cloneElement(o,{ref:a}):null};ta.displayName="Presence";function w5(t){const[e,r]=k.useState(),s=k.useRef(null),o=k.useRef(t),a=k.useRef("none"),u=t?"mounted":"unmounted",[d,f]=b5(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const p=Rl(s.current);a.current=d==="mounted"?p:"none"},[d]),_i(()=>{const p=s.current,v=o.current;if(v!==t){const x=a.current,b=Rl(p);t?f("MOUNT"):b==="none"||p?.display==="none"?f("UNMOUNT"):f(v&&x!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),_i(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,g=b=>{const F=Rl(s.current).includes(CSS.escape(b.animationName));if(b.target===e&&F&&(f("ANIMATION_END"),!o.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},x=b=>{b.target===e&&(a.current=Rl(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:k.useCallback(p=>{s.current=p?getComputedStyle(p):null,r(p)},[])}}function Rl(t){return t?.animationName||"none"}function E5(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function F5(t){const e=_5(t),r=k.forwardRef((s,o)=>{const{children:a,...u}=s,d=k.Children.toArray(a),f=d.find(j5);if(f){const p=f.props.children,v=d.map(g=>g===f?k.Children.count(p)>1?k.Children.only(null):k.isValidElement(p)?p.props.children:null:g);return l.jsx(e,{...u,ref:o,children:k.isValidElement(p)?k.cloneElement(p,void 0,v):null})}return l.jsx(e,{...u,ref:o,children:a})});return r.displayName=`${t}.Slot`,r}function _5(t){const e=k.forwardRef((r,s)=>{const{children:o,...a}=r;if(k.isValidElement(o)){const u=S5(o),d=A5(a,o.props);return o.type!==k.Fragment&&(d.ref=s?uc(s,u):u),k.cloneElement(o,d)}return k.Children.count(o)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var k5=Symbol("radix.slottable");function j5(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===k5}function A5(t,e){const r={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?r[s]=(...d)=>{const f=a(...d);return o(...d),f}:o&&(r[s]=o):s==="style"?r[s]={...o,...a}:s==="className"&&(r[s]=[o,a].filter(Boolean).join(" "))}return{...t,...r}}function S5(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var N5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=N5.reduce((t,e)=>{const r=F5(`Primitive.${e}`),s=k.forwardRef((o,a)=>{const{asChild:u,...d}=o,f=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...d,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function C5(t,e){t&&By.flushSync(()=>t.dispatchEvent(e))}var yc="Checkbox",[T5]=vc(yc),[P5,Cf]=T5(yc);function R5(t){const{__scopeCheckbox:e,checked:r,children:s,defaultChecked:o,disabled:a,form:u,name:d,onCheckedChange:f,required:p,value:v="on",internal_do_not_use_render:g}=t,[x,b]=Nf({prop:r,defaultProp:o??!1,onChange:f,caller:yc}),[w,F]=k.useState(null),[_,j]=k.useState(null),S=k.useRef(!1),A=w?!!u||!!w.closest("form"):!0,T={checked:x,disabled:a,setChecked:b,control:w,setControl:F,name:d,form:u,value:v,hasConsumerStoppedPropagationRef:S,required:p,defaultChecked:Mn(o)?!1:o,isFormControl:A,bubbleInput:_,setBubbleInput:j};return l.jsx(P5,{scope:e,...T,children:O5(g)?g(T):s})}var Wb="CheckboxTrigger",Hb=k.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...s},o)=>{const{control:a,value:u,disabled:d,checked:f,required:p,setControl:v,setChecked:g,hasConsumerStoppedPropagationRef:x,isFormControl:b,bubbleInput:w}=Cf(Wb,t),F=nr(o,v),_=k.useRef(f);return k.useEffect(()=>{const j=a?.form;if(j){const S=()=>g(_.current);return j.addEventListener("reset",S),()=>j.removeEventListener("reset",S)}},[a,g]),l.jsx(Ht.button,{type:"button",role:"checkbox","aria-checked":Mn(f)?"mixed":f,"aria-required":p,"data-state":Jb(f),"data-disabled":d?"":void 0,disabled:d,value:u,...s,ref:F,onKeyDown:yr(e,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:yr(r,j=>{g(S=>Mn(S)?!0:!S),w&&b&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})})});Hb.displayName=Wb;var qb=k.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:s,checked:o,defaultChecked:a,required:u,disabled:d,value:f,onCheckedChange:p,form:v,...g}=t;return l.jsx(R5,{__scopeCheckbox:r,checked:o,defaultChecked:a,disabled:d,required:u,onCheckedChange:p,name:s,form:v,value:f,internal_do_not_use_render:({isFormControl:x})=>l.jsxs(l.Fragment,{children:[l.jsx(Hb,{...g,ref:e,__scopeCheckbox:r}),x&&l.jsx(Xb,{__scopeCheckbox:r})]})})});qb.displayName=yc;var Kb="CheckboxIndicator",Gb=k.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:s,...o}=t,a=Cf(Kb,r);return l.jsx(ta,{present:s||Mn(a.checked)||a.checked===!0,children:l.jsx(Ht.span,{"data-state":Jb(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...t.style}})})});Gb.displayName=Kb;var Yb="CheckboxBubbleInput",Xb=k.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:s,hasConsumerStoppedPropagationRef:o,checked:a,defaultChecked:u,required:d,disabled:f,name:p,value:v,form:g,bubbleInput:x,setBubbleInput:b}=Cf(Yb,t),w=nr(r,b),F=Ub(a),_=zb(s);k.useEffect(()=>{const S=x;if(!S)return;const A=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(A,"checked").set,V=!o.current;if(F!==a&&I){const M=new Event("click",{bubbles:V});S.indeterminate=Mn(a),I.call(S,Mn(a)?!1:a),S.dispatchEvent(M)}},[x,F,a,o]);const j=k.useRef(Mn(a)?!1:a);return l.jsx(Ht.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??j.current,required:d,disabled:f,name:p,value:v,form:g,...e,tabIndex:-1,ref:w,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Xb.displayName=Yb;function O5(t){return typeof t=="function"}function Mn(t){return t==="indeterminate"}function Jb(t){return Mn(t)?"indeterminate":t?"checked":"unchecked"}function D5({className:t,...e}){return l.jsx(qb,{"data-slot":"checkbox",className:Rt("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(Gb,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:l.jsx(cT,{className:"size-3.5"})})})}const I5=`INDEPENDENT CONTRACTOR AGREEMENT

This Independent Contractor Agreement (the "Agreement") is entered into as of the date of electronic signature below (the "Effective Date") by and between Patron Pass Inc., a Delaware corporation ("Company"), and the individual signing below ("Contractor").

WHEREAS, Company operates a membership platform for nightlife venues and hospitality businesses; and

WHEREAS, Contractor desires to provide venue acquisition and relationship management services to Company as an independent contractor;

NOW, THEREFORE, in consideration of the mutual covenants and agreements hereinafter set forth, the parties agree as follows:

1. ENGAGEMENT OF SERVICES
Company hereby engages Contractor to provide venue acquisition, relationship management, and promotional services (the "Services") on an independent contractor basis. Contractor agrees to perform the Services in accordance with Company's guidelines and quality standards.

2. INDEPENDENT CONTRACTOR STATUS
The parties intend that Contractor shall be an independent contractor and not an employee, agent, joint venturer, or partner of Company. Contractor shall have no authority to bind Company in any manner whatsoever. Contractor is solely responsible for all taxes, withholdings, and other statutory obligations.

3. COMPENSATION STRUCTURE
Contractor shall be compensated based on the following structure:
   a) Revenue Share: Contractor shall receive a percentage share of platform fees generated by venues they successfully onboard and activate, subject to tiered commission rates based on performance rank.
   b) Bonuses: Performance-based bonuses as determined by Company for achieving specific milestones.
   c) Payment Terms: Payments shall be made monthly, net 30 days from the end of each calendar month, subject to venue payment receipt.

4. TERM AND TERMINATION
This Agreement shall commence on the Effective Date and continue until terminated by either party upon thirty (30) days' written notice. Company may terminate this Agreement immediately for cause, including but not limited to fraud, misrepresentation, or violation of Company policies.

5. CONFIDENTIALITY
Contractor acknowledges that during the term of this Agreement, Contractor will have access to confidential and proprietary information of Company. Contractor agrees to maintain the confidentiality of such information and not to disclose it to any third party or use it for any purpose other than performing the Services.

6. INTELLECTUAL PROPERTY
All work product, materials, and intellectual property created by Contractor in connection with the Services shall be deemed works made for hire and shall be the sole property of Company. To the extent any such work product does not qualify as a work made for hire, Contractor hereby assigns all right, title, and interest in such work product to Company.

7. NON-SOLICITATION
During the term of this Agreement and for a period of twelve (12) months thereafter, Contractor shall not, directly or indirectly, solicit or attempt to solicit any venue or business that is a client of Company to terminate or reduce its relationship with Company.

8. REPRESENTATIONS AND WARRANTIES
Contractor represents and warrants that:
   a) Contractor has the full right, power, and authority to enter into this Agreement and perform the Services;
   b) The execution and performance of this Agreement will not violate any other agreement to which Contractor is a party;
   c) All information provided to Company is accurate and complete.

9. INDEMNIFICATION
Contractor agrees to indemnify, defend, and hold harmless Company and its officers, directors, employees, and agents from and against any and all claims, damages, liabilities, costs, and expenses arising out of or relating to Contractor's performance of the Services or breach of this Agreement.

10. GENERAL PROVISIONS
This Agreement constitutes the entire agreement between the parties and supersedes all prior agreements and understandings. This Agreement may be amended only by written agreement signed by both parties. This Agreement shall be governed by the laws of the State of Delaware.

BY ELECTRONICALLY SIGNING BELOW, CONTRACTOR ACKNOWLEDGES THAT CONTRACTOR HAS READ THIS AGREEMENT, UNDERSTANDS IT, AND AGREES TO BE BOUND BY ITS TERMS AND CONDITIONS.`;function L5({userId:t,onComplete:e}){const[r,s]=k.useState(!1),[o,a]=k.useState(""),[u,d]=k.useState(!1),[f,p]=k.useState(""),v=async g=>{if(g.preventDefault(),!r){p("You must agree to the terms to continue");return}if(!o.trim()){p("Please type your full legal name");return}p(""),d(!0);try{const x=dt(),{error:b}=await x.from("street_contract_acceptances").insert({user_id:t,agreement_version:"1.0",accepted_at:new Date().toISOString(),typed_signature:o,device_info:navigator.userAgent});if(b)throw b;const{error:w}=await x.from("street_users").update({status:"active"}).eq("id",t);if(w)throw w;e()}catch(x){p(x.message||"Failed to accept contract")}finally{d(!1)}};return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:l.jsx("h3",{className:"text-[#F6F2EE]",children:"Independent Contractor Agreement"})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("div",{className:"p-6 bg-[#151515] border-3 border-[#F6F2EE] mb-6",children:l.jsx("div",{className:"prose prose-invert max-w-none",children:l.jsx("pre",{className:"whitespace-pre-wrap text-sm text-[#F6F2EE] leading-relaxed font-sans",children:I5})})}),l.jsxs("form",{onSubmit:v,className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-3 p-4 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsx(D5,{id:"agree",checked:r,onCheckedChange:g=>s(g),className:"mt-1 border-2 border-[#F6F2EE] data-[state=checked]:bg-[#8A4FFF]"}),l.jsx(Ie,{htmlFor:"agree",className:"text-[#F6F2EE] cursor-pointer leading-relaxed",children:"I have read and agree to the terms of this Independent Contractor Agreement"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Type your full legal name (this is your signature)"}),l.jsx(it,{value:o,onChange:g=>a(g.target.value),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"Your Full Legal Name"})]}),f&&l.jsx("div",{className:"p-4 bg-[#FF4444] border-3 border-[#F6F2EE] text-[#F6F2EE]",children:l.jsx("p",{className:"text-sm",children:f})}),l.jsx(Oe,{type:"submit",disabled:u||!r||!o.trim(),className:"w-full h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider disabled:opacity-50",children:u?"Processing...":"Sign & Continue"})]})]})})]})}const Eo=[{icon:Vr,title:"ADD VENUES",description:"Hit the streets. Walk into bars, cafs, nightclubs. Build relationships with owners and GMs. Log every conversation.",color:"#8A4FFF"},{icon:zt,title:"COMPLETE MISSIONS",description:"Daily and weekly challenges keep you sharp. Earn XP for every action. Track your streak. Stay hungry.",color:"#FF7A59"},{icon:Tr,title:"CLIMB THE RANKS",description:"Bronze  Silver  Gold  Platinum  Diamond  Black Key. Each rank unlocks better perks and higher rev-share.",color:"#8A4FFF"},{icon:Cr,title:"GET PAID",description:"Earn 15-30% of platform fees from venues you sign. Recurring revenue as long as they stay active. Build your network, build your income.",color:"#FF7A59"}];function M5({onComplete:t}){const[e,r]=k.useState(0),s=()=>{e<Eo.length-1?r(e+1):t()},o=()=>{t()},a=Eo[e],u=a.icon;return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505] px-6 py-12",children:[l.jsx("div",{className:"flex justify-end mb-8",children:l.jsx("button",{onClick:o,className:"text-[#A0A0A0] uppercase text-sm tracking-widest hover:text-[#F6F2EE] transition-colors",children:"Skip"})}),l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-md mx-auto",children:[l.jsx("div",{className:"mb-8 p-8 border-4 border-[#F6F2EE] grain-texture",style:{backgroundColor:a.color},children:l.jsx(u,{className:"w-20 h-20 text-[#F6F2EE]"})}),l.jsx("h2",{className:"text-[#F6F2EE] mb-4 text-center",children:a.title}),l.jsx("p",{className:"text-[#A0A0A0] text-center mb-12 leading-relaxed",children:a.description}),l.jsx("div",{className:"flex gap-2 mb-8",children:Eo.map((d,f)=>l.jsx("div",{className:`h-2 w-8 border-2 border-[#F6F2EE] transition-colors ${f===e?"bg-[#8A4FFF]":"bg-transparent"}`},f))}),l.jsx(Oe,{onClick:s,className:"w-full h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider",children:e<Eo.length-1?"Next":"Get Started"})]}),l.jsxs("div",{className:"text-center text-xs text-[#A0A0A0] uppercase tracking-widest mt-8",children:[e+1," / ",Eo.length]})]})}async function Tf(t){const e=dt();try{const r=new Set,{data:s}=await e.from("street_runs").select("created_at").eq("user_id",t).order("created_at",{ascending:!1});s?.forEach(w=>{const F=new Date(w.created_at).toISOString().split("T")[0];r.add(F)});const{data:o}=await e.from("street_venue_leads").select("created_at").eq("created_by_user_id",t).order("created_at",{ascending:!1});o?.forEach(w=>{const F=new Date(w.created_at).toISOString().split("T")[0];r.add(F)});const{data:a}=await e.from("street_xp_events").select("created_at").eq("user_id",t).order("created_at",{ascending:!1});a?.forEach(w=>{const F=new Date(w.created_at).toISOString().split("T")[0];r.add(F)});const u=Array.from(r).sort().reverse();if(u.length===0)return{currentStreak:0,longestStreak:0,lastActivityDate:null,isActiveToday:!1};const d=new Date().toISOString().split("T")[0];let f=0,p=0,v=0,g=new Date(d);const x=u[0]===d;for(let w=0;w<u.length;w++){const F=u[w],_=g.toISOString().split("T")[0];if(F===_)f++,g.setDate(g.getDate()-1);else break}let b=null;v=1;for(const w of u){const F=new Date(w);b?Math.floor((b.getTime()-F.getTime())/864e5)===1?(v++,p=Math.max(p,v)):v=1:p=1,b=F}return{currentStreak:f,longestStreak:Math.max(p,f),lastActivityDate:u[0],isActiveToday:x}}catch(r){return console.error("Error calculating streak:",r),{currentStreak:0,longestStreak:0,lastActivityDate:null,isActiveToday:!1}}}async function xc({userId:t,amount:e,source:r,sourceId:s=null,pointsAmount:o=0}){try{const a=dt(),{data:u,error:d}=await a.from("street_users").select("total_xp, current_rank").eq("id",t).single();if(d||!u)return{success:!1,newTotalXP:0,previousRank:"Bronze",newRank:"Bronze",rankUp:!1,error:"User not found"};const f=u.current_rank,{error:p}=await a.from("street_xp_events").insert({user_id:t,source:r,source_id:s,xp_amount:e,points_amount:o});if(p)return console.error("Error logging XP event:",p),{success:!1,newTotalXP:u.total_xp,previousRank:f,newRank:f,rankUp:!1,error:"Failed to log XP event"};const{data:v,error:g}=await a.from("street_xp_events").select("xp_amount").eq("user_id",t);if(g)return console.error("Error calculating total XP:",g),{success:!1,newTotalXP:u.total_xp,previousRank:f,newRank:f,rankUp:!1,error:"Failed to calculate total XP"};const x=v?.reduce((_,j)=>_+j.xp_amount,0)||0,b=await Qb(x),{error:w}=await a.from("street_users").update({total_xp:x,current_rank:b}).eq("id",t);if(w)return console.error("Error updating user XP/rank:",w),{success:!1,newTotalXP:x,previousRank:f,newRank:f,rankUp:!1,error:"Failed to update user"};const F=f!==b;if(F&&typeof window<"u"){const _=new CustomEvent("rank-up",{detail:{previousRank:f,newRank:b,totalXP:x}});window.dispatchEvent(_)}return{success:!0,newTotalXP:x,previousRank:f,newRank:b,rankUp:F}}catch(a){return console.error("Unexpected error in awardXP:",a),{success:!1,newTotalXP:0,previousRank:"Bronze",newRank:"Bronze",rankUp:!1,error:"Unexpected error"}}}async function Qb(t){try{const e=dt(),{data:r,error:s}=await e.from("street_ranks").select("name, min_xp").order("min_xp",{ascending:!1});if(s||!r||r.length===0)return console.error("Error fetching ranks:",s),"Bronze";for(const o of r)if(t>=o.min_xp)return o.name;return"Bronze"}catch(e){return console.error("Unexpected error calculating rank:",e),"Bronze"}}function qo(t){return{Bronze:.15,Silver:.15,Gold:.2,Platinum:.25,Diamond:.3,"Black Key":.3}[t]||.15}const $5=Object.freeze(Object.defineProperty({__proto__:null,awardXP:xc,calculateRank:Qb,getCommissionRateByRank:qo},Symbol.toStringTag,{value:"Module"}));function B5({user:t,onNavigate:e}){const[r,s]=k.useState({streak:0,longestStreak:0,isActiveToday:!1,venuesThisWeek:0,venuesThisMonth:0,venuesPending:0,venuesLive:0,estimatedMonthlyEarnings:0,todayMissions:[],activeMissions:[],recentRuns:[],unreadNotifications:0,totalLeads:0,weekProgress:0}),[o,a]=k.useState(!0);k.useEffect(()=>{u()},[t.id]);async function u(){const x=dt();try{const[b,w,F,_,j,S,A,T,I]=await Promise.all([Tf(t.id),x.from("street_venue_leads").select("*").eq("created_by_user_id",t.id).gte("created_at",new Date(Date.now()-6048e5).toISOString()),x.from("street_venue_leads").select("*").eq("created_by_user_id",t.id).gte("created_at",new Date(Date.now()-2592e6).toISOString()),x.from("street_venue_leads").select("*").eq("created_by_user_id",t.id).eq("status","signed_pending"),x.from("street_venue_leads").select("*").eq("created_by_user_id",t.id).eq("status","live"),x.from("street_venue_leads").select("*").eq("created_by_user_id",t.id),x.from("street_missions").select("*, street_mission_progress!left(*)").or(`scope.eq.global,city.eq.${t.city}`).lte("valid_from",new Date().toISOString()).gte("valid_to",new Date().toISOString()).limit(5),x.from("street_runs").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(3),x.from("street_notifications").select("*").eq("user_id",t.id).eq("is_read",!1)]),V=qo(t.current_rank),O=(j.data?.length||0)*150*V,X=A.data?.filter(Z=>!Z.street_mission_progress?.[0]?.is_completed)||[],Ee=Math.min((w.data?.length||0)/10*100,100);s({streak:b.currentStreak,longestStreak:b.longestStreak,isActiveToday:b.isActiveToday,venuesThisWeek:w.data?.length||0,venuesThisMonth:F.data?.length||0,venuesPending:_.data?.length||0,venuesLive:j.data?.length||0,estimatedMonthlyEarnings:O,todayMissions:A.data?.slice(0,2)||[],activeMissions:X,recentRuns:T.data||[],unreadNotifications:I.data?.length||0,totalLeads:S.data?.length||0,weekProgress:Ee})}catch(b){console.error("Error loading dashboard:",b)}finally{a(!1)}}const d=V5(t.current_rank),f=U5(t.current_rank),p=t.total_xp-f,v=d-f,g=Math.min(p/v*100,100);return o?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#050505]",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block border-4 border-[#8A4FFF] p-6 mb-4 bg-[#151515] animate-pulse",children:l.jsx(Nt,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading Dashboard..."})]})}):l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505] relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]"}),l.jsxs("div",{className:"relative border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Vr,{className:"w-4 h-4 text-[#8A4FFF]"}),l.jsx("h4",{className:"text-[#A0A0A0] uppercase tracking-widest text-xs",children:t.city})]}),l.jsx("h2",{className:"text-[#F6F2EE]",children:t.full_name})]}),l.jsxs("button",{onClick:()=>e("notifications"),className:"relative p-3 border-3 border-[#F6F2EE] hover:bg-[#8A4FFF] hover:border-[#8A4FFF] transition-all active:scale-95",children:[l.jsx(bs,{className:"w-5 h-5 text-[#F6F2EE]"}),r.unreadNotifications>0&&l.jsx(U.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 min-w-5 h-5 px-1 bg-[#FF7A59] border-2 border-[#151515] flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-[#F6F2EE] font-bold",children:r.unreadNotifications})})]})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rr,{className:"w-4 h-4 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE] uppercase text-sm tracking-wide font-bold",children:t.current_rank})]}),l.jsxs("span",{className:"text-[#A0A0A0] text-xs",children:[t.total_xp.toLocaleString()," / ",d.toLocaleString()," XP"]})]}),l.jsx("div",{className:"h-2 bg-[#050505] border-2 border-[#F6F2EE] overflow-hidden relative",children:l.jsx(U.div,{initial:{width:0},animate:{width:`${g}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#8A4FFF] to-[#FF7A59]"})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:[l.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[l.jsxs(U.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},onClick:()=>e("earnings"),className:"col-span-3 p-5 bg-gradient-to-br from-[#8A4FFF] to-[#7A3FEF] border-4 border-[#F6F2EE] relative overflow-hidden cursor-pointer active:scale-98 transition-transform",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Cr,{className:"w-5 h-5 text-[#F6F2EE]"}),l.jsx("span",{className:"text-[#F6F2EE] text-xs uppercase tracking-widest opacity-90",children:"Monthly Rev"})]}),l.jsxs("h1",{className:"text-[#F6F2EE] mb-1",children:["$",Math.floor(r.estimatedMonthlyEarnings)]}),l.jsxs("p",{className:"text-[#F6F2EE] text-xs opacity-75",children:[r.venuesLive," live venues"]})]}),l.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-[#FF7A59] opacity-20 rotate-45"})]}),l.jsx(U.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"col-span-2 p-5 bg-[#151515] border-4 border-[#FF7A59] relative overflow-hidden",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:l.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[l.jsx("div",{className:`p-3 border-2 mb-2 ${r.isActiveToday?"bg-[#FF7A59] border-[#F6F2EE] animate-pulse":"bg-transparent border-[#FF7A59]"}`,children:l.jsx(Ti,{className:`w-8 h-8 ${r.isActiveToday?"text-[#F6F2EE]":"text-[#FF7A59]"}`})}),l.jsx("h3",{className:"text-[#F6F2EE] mb-0",children:r.streak}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase tracking-wide",children:"Day Streak"}),!r.isActiveToday&&r.streak>0&&l.jsx("p",{className:"text-[#FF7A59] text-xs mt-1",children:" Log activity today!"})]})})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"p-4 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zt,{className:"w-4 h-4 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE] text-sm uppercase tracking-wide font-bold",children:"This Week's Grind"})]}),l.jsxs("span",{className:"text-[#A0A0A0] text-xs",children:[r.venuesThisWeek," / 10 venues"]})]}),l.jsxs("div",{className:"h-3 bg-[#050505] border-2 border-[#F6F2EE] overflow-hidden relative",children:[l.jsx(U.div,{initial:{width:0},animate:{width:`${r.weekProgress}%`},transition:{duration:.8,delay:.4},className:"h-full bg-[#8A4FFF]"}),r.weekProgress>=100&&l.jsx(U.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-1 top-1/2 -translate-y-1/2",children:l.jsx(Nt,{className:"w-4 h-4 text-[#FFD700]"})})]})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.4},className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#8A4FFF]",children:r.venuesThisMonth}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase mt-1",children:"Month"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.45},className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#FF7A59]",children:r.venuesPending}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase mt-1",children:"Pending"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5},className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#8A4FFF]",children:r.venuesLive}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase mt-1",children:"Live"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.55},className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#A0A0A0]",children:r.totalLeads}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase mt-1",children:"Total"})]})]}),r.activeMissions.length>0&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"text-[#F6F2EE] flex items-center gap-2",children:[l.jsx(zt,{className:"w-5 h-5 text-[#8A4FFF]"}),"ACTIVE MISSIONS"]}),l.jsxs("button",{onClick:()=>e("missions"),className:"text-[#8A4FFF] text-xs uppercase tracking-wider hover:text-[#FF7A59] transition-colors flex items-center gap-1",children:["View All",l.jsx(_v,{className:"w-4 h-4"})]})]}),l.jsx("div",{className:"space-y-2",children:r.activeMissions.slice(0,2).map((x,b)=>{const F=x.street_mission_progress?.[0]?.current_count||0,_=Math.min(F/x.required_count*100,100);return l.jsxs(U.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.7+b*.1},className:"p-4 bg-[#151515] border-3 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors cursor-pointer",onClick:()=>e("missions"),children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:x.title}),l.jsxs("p",{className:"text-[#A0A0A0] text-xs",children:[F," / ",x.required_count,"  ",x.type]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("span",{className:"text-[#8A4FFF] font-bold text-sm",children:["+",x.xp_reward," XP"]})})]}),l.jsx("div",{className:"h-2 bg-[#050505] border-2 border-[#F6F2EE] overflow-hidden",children:l.jsx(U.div,{initial:{width:0},animate:{width:`${_}%`},transition:{duration:.5,delay:.8+b*.1},className:"h-full bg-[#8A4FFF]"})})]},x.id)})})]}),l.jsx(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},children:l.jsxs(Oe,{onClick:()=>e("start-run"),className:"w-full h-16 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider flex items-center justify-center gap-3 relative overflow-hidden group",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 transform -skew-x-12 group-hover:translate-x-full transition-transform duration-700"}),l.jsx(Mb,{className:"w-6 h-6"}),l.jsx("span",{className:"text-base font-bold",children:"Start New Run"}),l.jsx(Nt,{className:"w-5 h-5 text-[#FFD700]"})]})}),r.recentRuns.length>0&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},children:[l.jsxs("h4",{className:"text-[#F6F2EE] mb-3 flex items-center gap-2",children:[l.jsx(ea,{className:"w-5 h-5 text-[#A0A0A0]"}),"RECENT RUNS"]}),l.jsx("div",{className:"space-y-2",children:r.recentRuns.map((x,b)=>l.jsx(U.div,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:1+b*.05},className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors cursor-pointer",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F6F2EE] text-sm font-bold mb-1",children:x.title||"Street Run"}),l.jsxs("p",{className:"text-[#A0A0A0] text-xs",children:[x.neighborhood||"Downtown","  ",x.actual_venue_count||0," venues"]})]}),l.jsx(_v,{className:"w-5 h-5 text-[#A0A0A0]"})]})},x.id))})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 gap-3",children:[l.jsxs(Oe,{onClick:()=>e("pipeline"),variant:"outline",className:"h-24 flex flex-col items-center justify-center gap-2 border-3 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515] hover:border-[#8A4FFF] bg-transparent transition-all",children:[l.jsx(Vr,{className:"w-6 h-6"}),l.jsx("span",{className:"text-xs uppercase tracking-wide font-bold",children:"Lead Pipeline"})]}),l.jsxs(Oe,{onClick:()=>e("leaderboard"),variant:"outline",className:"h-24 flex flex-col items-center justify-center gap-2 border-3 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515] hover:border-[#8A4FFF] bg-transparent transition-all",children:[l.jsx(Tr,{className:"w-6 h-6"}),l.jsx("span",{className:"text-xs uppercase tracking-wide font-bold",children:"Leaderboard"})]})]})]})]})}function V5(t){return{Bronze:1e3,Silver:2500,Gold:5e3,Platinum:1e4,Diamond:25e3,"Black Key":99999}[t]||1e3}function U5(t){return{Bronze:0,Silver:1e3,Gold:2500,Platinum:5e3,Diamond:1e4,"Black Key":25e3}[t]||0}const z5=["Lower East Side","Williamsburg","Bushwick","East Village","SoHo","West Village","Brooklyn Heights","Park Slope","Greenpoint","Astoria"];function W5({user:t,onBack:e,onRunStarted:r}){const[s,o]=k.useState({title:"",neighborhood:"",plannedVenueCount:5}),[a,u]=k.useState(!1),[d,f]=k.useState(""),p=async v=>{v.preventDefault(),f(""),u(!0);try{const g=dt(),x=s.title||`${s.neighborhood} Street Run`,{data:b,error:w}=await g.from("street_runs").insert({user_id:t.id,title:x,city:t.city,neighborhood:s.neighborhood,start_time:new Date().toISOString(),planned_venue_count:s.plannedVenueCount,actual_venue_count:0,status:"active"}).select().single();if(w)throw w;b&&r(b.id)}catch(g){f(g.message||"Failed to start run")}finally{u(!1)}};return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4 flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE]",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("h3",{className:"text-[#F6F2EE]",children:"Start Street Run"})]}),l.jsx("div",{className:"flex-1 px-6 py-8 overflow-y-auto",children:l.jsxs("form",{onSubmit:p,className:"max-w-md mx-auto space-y-6",children:[l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Run Title (optional)"}),l.jsx(it,{value:s.title,onChange:v=>o({...s,title:v.target.value}),className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"Thursday Night Crawl"}),l.jsx("p",{className:"text-xs text-[#A0A0A0] mt-2",children:"Leave blank to auto-generate from neighborhood"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3 block",children:"Neighborhood"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:z5.map(v=>l.jsx("button",{type:"button",onClick:()=>o({...s,neighborhood:v}),className:`p-3 border-3 text-sm transition-all ${s.neighborhood===v?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-[#151515] border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:v},v))})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 block",children:"Planned Venues"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{type:"button",onClick:()=>o({...s,plannedVenueCount:Math.max(1,s.plannedVenueCount-1)}),className:"w-12 h-12 border-3 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#8A4FFF] transition-colors",children:"-"}),l.jsx("div",{className:"flex-1 text-center",children:l.jsx("p",{className:"text-3xl font-bold text-[#F6F2EE]",children:s.plannedVenueCount})}),l.jsx("button",{type:"button",onClick:()=>o({...s,plannedVenueCount:s.plannedVenueCount+1}),className:"w-12 h-12 border-3 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#8A4FFF] transition-colors",children:"+"})]})]}),d&&l.jsx("div",{className:"p-4 bg-[#FF4444] border-3 border-[#F6F2EE] text-[#F6F2EE]",children:l.jsx("p",{className:"text-sm",children:d})}),l.jsxs(Oe,{type:"submit",disabled:a||!s.neighborhood,className:"w-full h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-4 border-[#F6F2EE] uppercase tracking-wider disabled:opacity-50 flex items-center justify-center gap-3",children:[l.jsx(Mb,{className:"w-5 h-5"}),a?"Starting...":"Start Run"]}),l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#8A4FFF]",children:[l.jsx("p",{className:"text-xs text-[#A0A0A0] uppercase tracking-wide mb-2",children:"Pro Tip"}),l.jsx("p",{className:"text-sm text-[#F6F2EE]",children:"Set a target, but stay flexible. The best conversations happen when you're not rushed."})]})]})})]})}async function Pf(t,e,r=1){try{const{data:s}=await Te.from("street_users").select("city").eq("id",t).single();if(!s)return[];const o=await H5(s.city,e);if(o.length===0)return[];const a=[];for(const u of o){let{data:d}=await Te.from("street_mission_progress").select("*").eq("mission_id",u.id).eq("user_id",t).single();if(!d){const{data:g,error:x}=await Te.from("street_mission_progress").insert({mission_id:u.id,user_id:t,current_count:0,is_completed:!1,completed_at:null,xp_awarded:!1}).select().single();if(x){console.error("Error creating mission progress:",x);continue}d=g}if(d.is_completed&&d.xp_awarded)continue;const f=d.current_count+r,p=f>=u.required_count,{error:v}=await Te.from("street_mission_progress").update({current_count:f,is_completed:p,completed_at:p&&!d.is_completed?new Date().toISOString():d.completed_at}).eq("id",d.id);if(v){console.error("Error updating mission progress:",v);continue}a.push({missionId:u.id,newCount:f,completed:p}),p&&!d.is_completed&&await q5(t,u)}return a}catch(s){return console.error("Unexpected error in updateMissionProgress:",s),[]}}async function H5(t,e){const r=new Date().toISOString(),{data:s}=await Te.from("street_missions").select("*").or(`scope.eq.global,city.eq.${t}`).lte("valid_from",r).gte("valid_to",r);return s?s.filter(o=>{const a=o.description.toLowerCase();switch(o.title.toLowerCase(),e){case"lead_added":return a.includes("add")&&(a.includes("lead")||a.includes("venue"));case"run_completed":return a.includes("complete")&&a.includes("run");case"lead_to_follow_up":return a.includes("follow up");case"lead_to_signed_pending":return a.includes("signed")||a.includes("sign");case"lead_to_live":return a.includes("live");default:return!1}}):[]}async function q5(t,e){try{await Te.from("street_notifications").insert({user_id:t,title:" Mission Complete!",body:`You completed "${e.title}". Claim your ${e.xp_reward} XP reward!`,type:"mission",is_read:!1})}catch(r){console.error("Error creating mission notification:",r)}}async function K5(t,e){try{const{data:r}=await Te.from("street_missions").select("*").eq("id",e).single(),{data:s}=await Te.from("street_mission_progress").select("*").eq("mission_id",e).eq("user_id",t).single();if(!r||!s)return{success:!1,xpAwarded:0,error:"Mission or progress not found"};if(!s.is_completed)return{success:!1,xpAwarded:0,error:"Mission not completed yet"};if(s.xp_awarded)return{success:!1,xpAwarded:0,error:"Reward already claimed"};const{awardXP:o}=await Oo(async()=>{const{awardXP:u}=await Promise.resolve().then(()=>$5);return{awardXP:u}},void 0),a=await o({userId:t,amount:r.xp_reward,source:"mission",sourceId:e,pointsAmount:r.point_reward});return a.success?(await Te.from("street_mission_progress").update({xp_awarded:!0}).eq("id",s.id),{success:!0,xpAwarded:r.xp_reward}):{success:!1,xpAwarded:0,error:a.error}}catch(r){return console.error("Unexpected error claiming mission:",r),{success:!1,xpAwarded:0,error:"Unexpected error"}}}function G5({runId:t,onBack:e,onAddQuickLead:r,onAddFullLead:s,onEndRun:o}){const[a,u]=k.useState(null),[d,f]=k.useState(0),[p,v]=k.useState([]),[g,x]=k.useState(!1),[b,w]=k.useState(!1),F=k.useRef(null),_=k.useRef(null);k.useEffect(()=>{j();const Z=setInterval(()=>{f(ee=>ee+1),d%30===0&&S()},1e3);return()=>{clearInterval(Z),T()}},[t]);async function j(){const{data:Z}=await Te.from("street_runs").select("*").eq("id",t).single();if(Z){u(Z);const ee=new Date(Z.start_time).getTime(),je=Date.now();f(Math.floor((je-ee)/1e3)),S(Z)}}async function S(Z=a){if(!Z)return;const{data:ee}=await Te.from("street_venue_leads").select("*").eq("created_by_user_id",Z.user_id).gte("created_at",Z.start_time).order("created_at",{ascending:!1});v(ee||[])}async function A(){try{const Z=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});F.current&&(F.current.srcObject=Z,_.current=Z,w(!0))}catch(Z){console.error("Camera access denied:",Z),Le.error("Camera access required for photos")}}function T(){_.current&&(_.current.getTracks().forEach(Z=>Z.stop()),_.current=null),w(!1)}async function I(){if(!F.current)return;const Z=document.createElement("canvas");Z.width=F.current.videoWidth,Z.height=F.current.videoHeight;const ee=Z.getContext("2d");ee&&(ee.drawImage(F.current,0,0),Z.toBlob(async je=>{je&&(Le.success("Photo captured!",{description:"Add venue details to attach photo"}),T(),s())},"image/jpeg",.9))}const V=async()=>{if(!a)return;await Te.from("street_runs").update({end_time:new Date().toISOString(),actual_venue_count:p.length,status:"completed"}).eq("id",t);const Z=50,ee=p.length*10,je=d>3600?25:0,pe=Z+ee+je,oe=await xc({userId:a.user_id,amount:pe,source:"run_completed",sourceId:t,pointsAmount:5+p.length});oe.success&&(Le.success(`Run completed  +${pe} XP earned!`,{description:oe.rankUp?` Promoted to ${oe.newRank}!`:`${p.length} venues logged`}),await Pf(a.user_id,"run_completed")),o()};if(!a)return l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block border-4 border-[#8A4FFF] p-6 mb-4 bg-[#151515] animate-pulse",children:l.jsx(Nt,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading Run..."})]})});const M=Math.floor(d/3600),O=Math.floor(d%3600/60),X=d%60,le=a.target_venue_count||10,Ee=Math.min(p.length/le*100,100);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505] relative overflow-hidden",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]",style:{backgroundSize:"200% 100%"}}),l.jsxs("div",{className:"relative border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-[#F6F2EE]",children:a.title}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(Vr,{className:"w-3 h-3 text-[#8A4FFF]"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:a.neighborhood})]})]}),l.jsx(U.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"px-3 py-1 bg-[#FF7A59] border-2 border-[#F6F2EE]",children:l.jsx("span",{className:"text-[#F6F2EE] text-xs font-bold uppercase tracking-wider",children:"LIVE"})})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"p-6 bg-gradient-to-br from-[#8A4FFF] to-[#7A3FEF] border-4 border-[#F6F2EE] relative overflow-hidden",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[l.jsx(ea,{className:"w-5 h-5 text-[#F6F2EE]"}),l.jsx("span",{className:"text-[#F6F2EE] text-xs uppercase tracking-widest",children:"Time Active"})]}),l.jsxs("p",{className:"text-5xl font-bold text-[#F6F2EE] font-mono text-center tracking-wider",children:[String(M).padStart(2,"0"),":",String(O).padStart(2,"0"),":",String(X).padStart(2,"0")]})]}),l.jsx(U.div,{animate:{scale:[1,1.5,1],opacity:[.3,0,.3]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 bg-[#FF7A59]"})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:[l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"p-5 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zt,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE] uppercase tracking-wide font-bold",children:"Progress"})]}),l.jsxs("span",{className:"text-[#A0A0A0] text-sm",children:[p.length," / ",le," venues"]})]}),l.jsxs("div",{className:"h-4 bg-[#050505] border-2 border-[#F6F2EE] overflow-hidden relative",children:[l.jsx(U.div,{initial:{width:0},animate:{width:`${Ee}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-[#8A4FFF] to-[#FF7A59]"}),Ee>=100&&l.jsx(U.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"absolute right-1 top-1/2 -translate-y-1/2",children:l.jsx(tn,{className:"w-5 h-5 text-[#FFD700]"})})]}),Ee>=100&&l.jsx(U.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-[#FFD700] text-sm mt-2 font-bold uppercase tracking-wide",children:" Goal Crushed!"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(U.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:l.jsxs(Oe,{onClick:r,className:"w-full h-24 flex flex-col items-center justify-center gap-2 bg-[#8A4FFF] hover:bg-[#7A3FEF] border-4 border-[#F6F2EE] text-[#F6F2EE] relative overflow-hidden group",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx(zl,{className:"w-8 h-8"}),l.jsx("span",{className:"text-sm uppercase tracking-wide font-bold",children:"Add Lead"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 transform -skew-x-12 group-hover:translate-x-full transition-transform duration-700"})]})}),l.jsx(U.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:l.jsxs(Oe,{onClick:b?I:A,className:"w-full h-24 flex flex-col items-center justify-center gap-2 bg-[#FF7A59] hover:bg-[#EE6A49] border-4 border-[#F6F2EE] text-[#F6F2EE] relative overflow-hidden",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx(aT,{className:"w-8 h-8"}),l.jsx("span",{className:"text-sm uppercase tracking-wide font-bold",children:b?"Capture":"Camera"})]})})]}),l.jsx(Qo,{children:b&&l.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative border-4 border-[#FF7A59] overflow-hidden",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx("video",{ref:F,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover bg-black"}),l.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-[#FF7A59] m-4 pointer-events-none"}),l.jsx("button",{onClick:T,className:"absolute top-2 right-2 p-2 bg-[#050505] border-2 border-[#F6F2EE] hover:bg-[#FF4444] transition-colors",children:l.jsx("span",{className:"text-[#F6F2EE] text-xs font-bold",children:""})})]})}),p.length>0&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"text-[#F6F2EE] uppercase tracking-wide flex items-center gap-2",children:[l.jsx(Ti,{className:"w-5 h-5 text-[#FF7A59]"}),"Venues Logged"]}),l.jsx("span",{className:"text-[#8A4FFF] font-bold",children:p.length})]}),l.jsx("div",{className:"space-y-2",children:p.map((Z,ee)=>l.jsx(U.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:ee*.05},className:"p-4 bg-[#151515] border-3 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:Z.venue_name}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#A0A0A0]",children:[l.jsx(Vr,{className:"w-3 h-3"}),l.jsx("span",{children:Z.address})]})]}),l.jsx("div",{className:`px-2 py-1 border-2 text-xs font-bold uppercase tracking-wider ${Z.status==="new"?"border-[#A0A0A0] text-[#A0A0A0]":Z.status==="contacted"?"border-[#8A4FFF] text-[#8A4FFF]":Z.status==="verbal_yes"?"border-[#FF7A59] text-[#FF7A59]":Z.status==="signed_pending"?"border-[#FFD700] text-[#FFD700]":"border-[#00FF00] text-[#00FF00]"}`,children:Z.status.replace("_"," ")})]})},Z.id))})]}),p.length===0&&l.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[l.jsx("div",{className:"inline-block p-8 bg-[#151515] border-3 border-[#F6F2EE] mb-4",children:l.jsx(zt,{className:"w-16 h-16 text-[#A0A0A0]"})}),l.jsx("p",{className:"text-[#A0A0A0] mb-2",children:"No venues logged yet"}),l.jsx("p",{className:"text-[#8A4FFF] text-sm",children:"Hit the streets and start adding leads!"})]}),l.jsx(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:g?l.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},className:"p-5 bg-[#151515] border-4 border-[#FF4444] space-y-3",children:[l.jsx("p",{className:"text-[#F6F2EE] text-center font-bold",children:"End this run?"}),l.jsxs("p",{className:"text-[#A0A0A0] text-sm text-center",children:["You logged ",p.length," venues in ",Math.floor(d/60)," minutes"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(Oe,{onClick:()=>x(!1),variant:"outline",className:"border-2 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515]",children:"Cancel"}),l.jsx(Oe,{onClick:V,className:"bg-[#FF4444] hover:bg-[#EE3333] border-2 border-[#F6F2EE] text-[#F6F2EE]",children:"Confirm"})]})]}):l.jsxs(Oe,{onClick:()=>x(!0),variant:"outline",className:"w-full h-14 border-3 border-[#FF4444] text-[#FF4444] hover:bg-[#FF4444] hover:text-[#F6F2EE] uppercase tracking-wider font-bold transition-all",children:[l.jsx(XT,{className:"w-5 h-5 mr-2"}),"End Run"]})})]})]})}const Av=[{id:"new",label:"New",color:"#A0A0A0",emoji:""},{id:"contacted",label:"Contacted",color:"#8A4FFF",emoji:""},{id:"follow_up",label:"Follow Up",color:"#8A4FFF",emoji:""},{id:"demo_scheduled",label:"Demo",color:"#FF7A59",emoji:""},{id:"verbal_yes",label:"Verbal Yes",color:"#FF7A59",emoji:""},{id:"signed_pending",label:"Signed",color:"#FFD700",emoji:""},{id:"live",label:"Live",color:"#00FF00",emoji:""}];function Y5({user:t,onBack:e,onAddLead:r,onViewLead:s}){const[o,a]=k.useState([]),[u,d]=k.useState("new"),[f,p]=k.useState(!0),[v,g]=k.useState("");k.useEffect(()=>{x()},[t.id]);async function x(){const A=dt(),{data:T}=await A.from("street_venue_leads").select("*").eq("created_by_user_id",t.id).order("created_at",{ascending:!1});a(T||[]),p(!1)}const b=o.filter(A=>{const T=A.status===u,I=v===""||A.venue_name.toLowerCase().includes(v.toLowerCase())||A.address.toLowerCase().includes(v.toLowerCase());return T&&I}),w=Av.find(A=>A.id===u),F=Av.map(A=>({...A,count:o.filter(T=>T.status===A.id).length})),_=o.length,j=o.filter(A=>A.status==="live").length,S=_>0?(j/_*100).toFixed(0):0;return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]"}),l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("h3",{className:"text-[#F6F2EE] flex-1",children:"Lead Pipeline"}),l.jsx("button",{onClick:r,className:"p-2 border-2 border-[#8A4FFF] bg-[#8A4FFF] hover:bg-[#7A3FEF] transition-colors active:scale-95",children:l.jsx(zl,{className:"w-5 h-5 text-[#F6F2EE]"})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[l.jsxs("div",{className:"p-3 bg-[#050505] border-2 border-[#8A4FFF] text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-[#8A4FFF]",children:_}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase",children:"Total"})]}),l.jsxs("div",{className:"p-3 bg-[#050505] border-2 border-[#00FF00] text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-[#00FF00]",children:j}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase",children:"Live"})]}),l.jsxs("div",{className:"p-3 bg-[#050505] border-2 border-[#FF7A59] text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-[#FF7A59]",children:[S,"%"]}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase",children:"Rate"})]})]}),l.jsx("div",{className:"relative mb-4",children:l.jsx("input",{type:"text",value:v,onChange:A=>g(A.target.value),placeholder:"Search venues...",className:"w-full h-12 bg-[#050505] border-3 border-[#F6F2EE] text-[#F6F2EE] px-4 focus:border-[#8A4FFF] transition-colors placeholder:text-[#A0A0A0]"})}),l.jsx("div",{className:"overflow-x-auto -mx-6 px-6",children:l.jsx("div",{className:"flex gap-2 min-w-max pb-2",children:F.map(A=>{const T=u===A.id;return l.jsxs(U.button,{onClick:()=>d(A.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:`px-4 py-3 border-3 uppercase text-xs tracking-wider whitespace-nowrap transition-all relative overflow-hidden ${T?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-[#151515] border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,style:T?{boxShadow:"3px 3px 0px rgba(0, 0, 0, 0.8)"}:{},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:A.emoji}),l.jsx("span",{className:"font-bold",children:A.label}),l.jsxs("span",{className:`ml-1 ${T?"text-[#F6F2EE]":"text-[#8A4FFF]"}`,children:["(",A.count,")"]})]}),T&&l.jsx(U.div,{layoutId:"activeStage",className:"absolute bottom-0 left-0 right-0 h-1 bg-[#FF7A59]"})]},A.id)})})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:f?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(U.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"inline-block p-6 bg-[#151515] border-3 border-[#8A4FFF] mb-4",children:l.jsx(Tr,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading leads..."})]}):b.length===0?l.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[l.jsx("div",{className:"inline-block p-8 bg-[#151515] border-4 border-[#F6F2EE] mb-4",children:l.jsx("span",{className:"text-6xl",children:w?.emoji})}),l.jsxs("h3",{className:"text-[#F6F2EE] mb-2",children:["No leads in ",w?.label]}),l.jsx("p",{className:"text-[#A0A0A0] mb-6 text-sm",children:v?"Try different search terms":"Start adding venues to build your pipeline"}),l.jsxs(Oe,{onClick:r,className:"bg-[#8A4FFF] hover:bg-[#7A3FEF] border-3 border-[#F6F2EE] text-[#F6F2EE] uppercase tracking-wider",children:[l.jsx(zl,{className:"w-5 h-5 mr-2"}),"Add Lead"]})]}):l.jsx("div",{className:"space-y-3 pb-6",children:l.jsx(Qo,{mode:"popLayout",children:b.map((A,T)=>{const I=Math.floor((Date.now()-new Date(A.created_at).getTime())/864e5);return l.jsxs(U.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:T*.03},onClick:()=>s(A.id),whileHover:{scale:1.01,x:4},whileTap:{scale:.99},className:"p-5 bg-[#151515] border-3 border-[#F6F2EE] hover:border-[#8A4FFF] cursor-pointer transition-all relative overflow-hidden group",style:{boxShadow:"3px 3px 0px rgba(0, 0, 0, 0.6)"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#8A4FFF]/5 to-[#FF7A59]/5 opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h4",{className:"text-[#F6F2EE] font-bold mb-1 flex items-center gap-2",children:[A.venue_name,A.venue_type&&l.jsxs("span",{className:"text-xs text-[#A0A0A0] font-normal uppercase",children:[" ",A.venue_type]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#A0A0A0] mb-2",children:[l.jsx(Vr,{className:"w-3 h-3"}),l.jsx("span",{className:"text-xs",children:A.address})]})]}),l.jsxs("div",{className:"px-3 py-1 border-2 text-xs font-bold uppercase tracking-wider whitespace-nowrap",style:{borderColor:w?.color||"#A0A0A0",color:w?.color||"#A0A0A0"},children:[w?.emoji," ",w?.label]})]}),(A.contact_name||A.contact_phone||A.contact_email)&&l.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-[#A0A0A0] mb-3",children:[A.contact_name&&l.jsxs("span",{className:"flex items-center gap-1",children:[" ",A.contact_name,A.contact_role&&l.jsxs("span",{className:"opacity-75",children:["(",A.contact_role,")"]})]}),A.contact_phone&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(mc,{className:"w-3 h-3"}),A.contact_phone]}),A.contact_email&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Fi,{className:"w-3 h-3"}),A.contact_email]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-[#F6F2EE]/20",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#A0A0A0]",children:[l.jsx(ea,{className:"w-3 h-3"}),l.jsx("span",{children:I===0?"Today":I===1?"Yesterday":`${I} days ago`})]}),A.estimated_revenue&&l.jsxs("div",{className:"flex items-center gap-1 text-xs text-[#8A4FFF] font-bold",children:[l.jsx(Cr,{className:"w-3 h-3"}),l.jsxs("span",{children:["$",A.estimated_revenue,"/mo"]})]})]}),A.notes&&l.jsx("div",{className:"mt-2 pt-2 border-t border-[#F6F2EE]/20",children:l.jsxs("p",{className:"text-xs text-[#A0A0A0] italic line-clamp-1",children:['"',A.notes,'"']})})]}),l.jsx(U.div,{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0},children:l.jsx("span",{className:"text-[#8A4FFF] text-xl",children:""})})]},A.id)})})})}),l.jsx(U.button,{onClick:r,whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-24 right-6 w-16 h-16 bg-[#8A4FFF] hover:bg-[#7A3FEF] border-4 border-[#F6F2EE] flex items-center justify-center z-50 shadow-lg",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:l.jsx(zl,{className:"w-8 h-8 text-[#F6F2EE]"})})]})}const X5=[{value:"restaurant",label:" Restaurant",emoji:""},{value:"bar",label:" Bar",emoji:""},{value:"caf",label:" Caf",emoji:""},{value:"bakery",label:" Bakery",emoji:""},{value:"brewery",label:" Brewery",emoji:""},{value:"nightclub",label:" Nightclub",emoji:""},{value:"lounge",label:" Lounge",emoji:""},{value:"other",label:" Other",emoji:""}],J5=[{id:"cold_walk_in",label:"Cold Walk-In",icon:""},{id:"friend_intro",label:"Friend Intro",icon:""},{id:"referral",label:"Referral",icon:""},{id:"event",label:"Event",icon:""},{id:"social_media",label:"Social Media",icon:""}];function Q5({user:t,runId:e,onBack:r,onSuccess:s}){const[o,a]=k.useState({venue_name:"",address:"",venue_type:"",contact_name:"",contact_role:"",contact_phone:"",contact_email:"",relationship_strength:3,lead_source:"cold_walk_in",notes:""}),[u,d]=k.useState(!1),[f,p]=k.useState(1),v=async b=>{b.preventDefault(),d(!0);try{const w=Math.min(100,30+(o.contact_name?15:0)+(o.contact_phone?15:0)+(o.contact_email?15:0)+o.relationship_strength*5),{error:F}=await Te.from("street_venue_leads").insert({...o,created_by_user_id:t.id,city:t.city,heat_score:w,status:"new"});if(F)throw F;const _=25,j=await xc({userId:t.id,amount:_,source:"lead_added",pointsAmount:2});await Pf(t.id,"lead_added"),Le.success("Lead added successfully!",{description:`+${_} XP earned! `}),s()}catch(w){console.error("Error adding lead:",w),Le.error("Failed to add lead",{description:w.message})}finally{d(!1)}},g=o.venue_name&&o.address&&o.venue_type,x=Math.min(100,30+(o.contact_name?15:0)+(o.contact_phone?15:0)+(o.contact_email?15:0)+o.relationship_strength*5);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]"}),l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:r,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("h3",{className:"text-[#F6F2EE] flex-1",children:"Add New Lead"}),e&&l.jsx("div",{className:"px-3 py-1 bg-[#FF7A59] border-2 border-[#F6F2EE]",children:l.jsx("span",{className:"text-[#F6F2EE] text-xs font-bold uppercase",children:"On Run"})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`flex-1 h-2 border-2 ${f>=1?"bg-[#8A4FFF] border-[#8A4FFF]":"bg-transparent border-[#F6F2EE]"}`}),l.jsx("div",{className:`flex-1 h-2 border-2 ${f>=2?"bg-[#8A4FFF] border-[#8A4FFF]":"bg-transparent border-[#F6F2EE]"}`}),l.jsx("div",{className:`flex-1 h-2 border-2 ${f>=3?"bg-[#8A4FFF] border-[#8A4FFF]":"bg-transparent border-[#F6F2EE]"}`})]}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsx("span",{className:`text-xs uppercase tracking-wider ${f>=1?"text-[#8A4FFF]":"text-[#A0A0A0]"}`,children:"Venue"}),l.jsx("span",{className:`text-xs uppercase tracking-wider ${f>=2?"text-[#8A4FFF]":"text-[#A0A0A0]"}`,children:"Contact"}),l.jsx("span",{className:`text-xs uppercase tracking-wider ${f>=3?"text-[#8A4FFF]":"text-[#A0A0A0]"}`,children:"Details"})]})]}),l.jsxs("form",{onSubmit:v,className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:[f===1&&l.jsxs(U.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-[#8A4FFF] border-3 border-[#F6F2EE] mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Vr,{className:"w-5 h-5 text-[#F6F2EE]"}),l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wide font-bold",children:"Venue Information"})]}),l.jsx("p",{className:"text-[#F6F2EE] text-sm opacity-90",children:"Start with the basics - where is this venue?"})]}),l.jsxs("div",{children:[l.jsxs(Ie,{className:"text-[#F6F2EE] mb-2 flex items-center gap-2",children:["Venue Name ",l.jsx("span",{className:"text-[#FF7A59]",children:"*"})]}),l.jsx(it,{type:"text",value:o.venue_name,onChange:b=>a({...o,venue_name:b.target.value}),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"The Night Owl"})]}),l.jsxs("div",{children:[l.jsxs(Ie,{className:"text-[#F6F2EE] mb-2 flex items-center gap-2",children:["Address ",l.jsx("span",{className:"text-[#FF7A59]",children:"*"})]}),l.jsx(it,{type:"text",value:o.address,onChange:b=>a({...o,address:b.target.value}),required:!0,className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"123 Main St, Downtown"})]}),l.jsxs("div",{children:[l.jsxs(Ie,{className:"text-[#F6F2EE] mb-2 flex items-center gap-2",children:["Venue Type ",l.jsx("span",{className:"text-[#FF7A59]",children:"*"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:X5.map(b=>l.jsxs(U.button,{type:"button",onClick:()=>a({...o,venue_type:b.value}),whileTap:{scale:.95},className:`p-3 border-3 transition-all ${o.venue_type===b.value?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-[#151515] border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:[l.jsx("span",{className:"text-lg mr-2",children:b.emoji}),l.jsx("span",{className:"text-sm uppercase tracking-wider font-bold",children:b.label.split(" ")[1]||b.label})]},b.value))})]}),l.jsx(Oe,{type:"button",onClick:()=>p(2),disabled:!g,className:"w-full h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] border-3 border-[#F6F2EE] text-[#F6F2EE] uppercase tracking-wider font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue to Contact Info "})]}),f===2&&l.jsxs(U.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-[#8A4FFF] border-3 border-[#F6F2EE] mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Af,{className:"w-5 h-5 text-[#F6F2EE]"}),l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wide font-bold",children:"Contact Information"})]}),l.jsx("p",{className:"text-[#F6F2EE] text-sm opacity-90",children:"Who did you talk to? (Optional but recommended)"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] mb-2",children:"Contact Name"}),l.jsx(it,{type:"text",value:o.contact_name,onChange:b=>a({...o,contact_name:b.target.value}),className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"Alex Johnson"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] mb-2",children:"Role / Title"}),l.jsx(it,{type:"text",value:o.contact_role,onChange:b=>a({...o,contact_role:b.target.value}),className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"Owner, Manager, etc."})]}),l.jsxs("div",{children:[l.jsxs(Ie,{className:"text-[#F6F2EE] mb-2 flex items-center gap-2",children:[l.jsx(mc,{className:"w-4 h-4"}),"Phone Number"]}),l.jsx(it,{type:"tel",value:o.contact_phone,onChange:b=>a({...o,contact_phone:b.target.value}),className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"+1 (555) 123-4567"})]}),l.jsxs("div",{children:[l.jsxs(Ie,{className:"text-[#F6F2EE] mb-2 flex items-center gap-2",children:[l.jsx(Fi,{className:"w-4 h-4"}),"Email Address"]}),l.jsx(it,{type:"email",value:o.contact_email,onChange:b=>a({...o,contact_email:b.target.value}),className:"h-12 bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] focus:border-[#8A4FFF]",placeholder:"alex@venue.com"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Oe,{type:"button",onClick:()=>p(1),variant:"outline",className:"flex-1 h-12 border-3 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515]",children:" Back"}),l.jsx(Oe,{type:"button",onClick:()=>p(3),className:"flex-1 h-12 bg-[#8A4FFF] hover:bg-[#7A3FEF] border-3 border-[#F6F2EE] text-[#F6F2EE] uppercase tracking-wider font-bold",children:"Continue "})]})]}),f===3&&l.jsxs(U.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-[#8A4FFF] border-3 border-[#F6F2EE] mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Nt,{className:"w-5 h-5 text-[#F6F2EE]"}),l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wide font-bold",children:"Additional Details"})]}),l.jsx("p",{className:"text-[#F6F2EE] text-sm opacity-90",children:"Help us understand the context"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs(Ie,{className:"text-[#F6F2EE] flex items-center gap-2",children:[l.jsx(Ti,{className:"w-4 h-4 text-[#FF7A59]"}),"Relationship Strength"]}),l.jsxs("span",{className:"text-[#8A4FFF] font-bold",children:[o.relationship_strength,"/5"]})]}),l.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(b=>l.jsx("button",{type:"button",onClick:()=>a({...o,relationship_strength:b}),className:`flex-1 h-12 border-3 transition-all ${o.relationship_strength>=b?"bg-[#FF7A59] border-[#F6F2EE]":"bg-[#151515] border-[#F6F2EE] hover:border-[#FF7A59]"}`,children:l.jsx("span",{className:"text-2xl",children:o.relationship_strength>=b?"":""})},b))}),l.jsx("p",{className:"text-[#A0A0A0] text-xs mt-2",children:o.relationship_strength===1?"Just met":o.relationship_strength===2?"Friendly chat":o.relationship_strength===3?"Good conversation":o.relationship_strength===4?"Strong interest":"Very interested / Ready to sign"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] mb-2",children:"How did you connect?"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:J5.map(b=>l.jsxs("button",{type:"button",onClick:()=>a({...o,lead_source:b.id}),className:`p-3 border-3 transition-all ${o.lead_source===b.id?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-[#151515] border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:[l.jsx("span",{className:"text-lg mr-2",children:b.icon}),l.jsx("span",{className:"text-xs uppercase tracking-wider font-bold",children:b.label})]},b.id))})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] mb-2",children:"Notes"}),l.jsx(gc,{value:o.notes,onChange:b=>a({...o,notes:b.target.value}),rows:4,className:"bg-[#151515] border-3 border-[#F6F2EE] text-[#F6F2EE] resize-none focus:border-[#8A4FFF]",placeholder:"Conversation highlights, follow-up items, next steps..."})]}),l.jsxs("div",{className:"p-4 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-[#F6F2EE] text-sm uppercase tracking-wide",children:"Lead Heat Score"}),l.jsxs("span",{className:"text-[#FF7A59] font-bold text-lg",children:[x,"/100"]})]}),l.jsx("div",{className:"h-2 bg-[#050505] border-2 border-[#F6F2EE] overflow-hidden",children:l.jsx(U.div,{initial:{width:0},animate:{width:`${x}%`},className:"h-full bg-gradient-to-r from-[#8A4FFF] to-[#FF7A59]"})}),l.jsx("p",{className:"text-[#A0A0A0] text-xs mt-2",children:"Based on contact info completeness & relationship strength"})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(Oe,{type:"button",onClick:()=>p(2),variant:"outline",className:"flex-1 h-14 border-3 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515]",children:" Back"}),l.jsx(Oe,{type:"submit",disabled:u,className:"flex-1 h-14 bg-[#8A4FFF] hover:bg-[#7A3FEF] border-3 border-[#F6F2EE] text-[#F6F2EE] uppercase tracking-wider font-bold disabled:opacity-50 relative overflow-hidden group",children:u?l.jsx(U.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:l.jsx(Nt,{className:"w-5 h-5"})}):l.jsxs(l.Fragment,{children:[l.jsx($b,{className:"w-5 h-5 mr-2"}),"Save Lead (+25 XP)",l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 transform -skew-x-12 group-hover:translate-x-full transition-transform duration-700"})]})})]})]})]})]})}let Fo={checked:!1,exists:!1,checkedAt:0};async function Rf(){const t=Date.now(),e=t-Fo.checkedAt;if(Fo.checked&&e<300*1e3)return Fo.exists;try{const{error:r}=await Te.from("website_partnership_inquiries").select("id").limit(1),s=!r||!r.message.includes("does not exist");return Fo={checked:!0,exists:s,checkedAt:t},s}catch(r){return console.log("Website tables check error (this is OK if not set up yet):",r),Fo={checked:!0,exists:!1,checkedAt:t},!1}}async function Zb(t){try{if(!await Rf())return console.log(" Skipping website sync - website tables not yet set up"),{success:!0,skipped:!0,error:"Website tables not yet configured (this is OK)"};if(t.status!=="signed_pending"&&t.status!=="live")return{success:!1,error:"Lead must be signed_pending or live to sync to website CRM"};const{data:r}=await Te.from("website_partnership_inquiries").eq("street_team_lead_id",t.id).select("id").single();if(r){const{data:u,error:d}=await Te.from("website_partnership_inquiries").update({venue_name:t.venue_name,contact_name:t.contact_name,contact_email:t.contact_email,contact_phone:t.contact_phone,city:t.city,status:t.status==="live"?"active":"pending",updated_at:new Date().toISOString()}).eq("id",r.id).select("id").single();if(d)throw d;return await Te.from("street_venue_leads").update({website_inquiry_id:r.id}).eq("id",t.id),{success:!0,websiteInquiryId:r.id}}const{data:s,error:o}=await Te.from("website_partnership_inquiries").insert({venue_name:t.venue_name,contact_name:t.contact_name,contact_email:t.contact_email,contact_phone:t.contact_phone,city:t.city,source:"street_team",status:t.status==="live"?"active":"pending",street_team_lead_id:t.id,street_team_agent_id:t.user_id,notes:t.notes||""}).select("id").single();if(o)throw o;const{error:a}=await Te.from("street_venue_leads").update({website_inquiry_id:s.id}).eq("id",t.id);if(a)throw a;return{success:!0,websiteInquiryId:s.id}}catch(e){return console.error("Error syncing lead to website CRM:",e),{success:!1,error:e.message}}}async function Z5(){try{if(!await Rf())return console.log(" Skipping bulk sync - website tables not yet set up"),{success:!0,syncedCount:0,errors:["Website tables not yet configured (this is OK)"]};const{data:e,error:r}=await Te.from("street_venue_leads").select("*").in("status",["signed_pending","live"]).is("website_inquiry_id",null);if(r)throw r;if(!e||e.length===0)return{success:!0,syncedCount:0,errors:[]};let s=0;const o=[];for(const a of e){const u=await Zb(a);u.success&&!u.skipped?s++:u.success||o.push(`${a.venue_name}: ${u.error}`)}return{success:!0,syncedCount:s,errors:o}}catch(t){return console.error("Error in bulk sync:",t),{success:!1,syncedCount:0,errors:[t.message]}}}async function eP(t){try{const r=await Rf()?"hq_unified_leads":"hq_unified_leads_lite";let s=Te.from(r).select("*");t?.city,t?.status,t?.agentId;const{data:o,error:a}=await s.order("lead_updated_at",{ascending:!1});if(a)throw a;return o||[]}catch(e){return console.error("Error getting unified leads:",e),[]}}async function tP(){try{const{data:t}=await Te.from("street_venue_leads").select("status, estimated_monthly_revenue, actual_monthly_revenue, user_id");if(!t)return{totalLeads:0,liveVenues:0,activeAgents:0,estimatedRevenue:0,actualRevenue:0,conversionRate:0};const e=t.filter(u=>u.status==="live").length,r=new Set(t.map(u=>u.user_id)).size,s=t.filter(u=>u.status==="live").reduce((u,d)=>u+(d.estimated_monthly_revenue||150),0),o=t.filter(u=>u.status==="live").reduce((u,d)=>u+(d.actual_monthly_revenue||d.estimated_monthly_revenue||150),0),a=t.length>0?e/t.length*100:0;return{totalLeads:t.length,liveVenues:e,activeAgents:r,estimatedRevenue:s,actualRevenue:o,conversionRate:a}}catch(t){return console.error("Error getting HQ metrics:",t),{totalLeads:0,liveVenues:0,activeAgents:0,estimatedRevenue:0,actualRevenue:0,conversionRate:0}}}const Sv=[{id:"new",label:"New",color:"#A0A0A0"},{id:"contacted",label:"Contacted",color:"#8A4FFF"},{id:"follow_up",label:"Follow Up",color:"#8A4FFF"},{id:"demo_scheduled",label:"Demo Scheduled",color:"#FF7A59"},{id:"verbal_yes",label:"Verbal Yes",color:"#FF7A59"},{id:"signed_pending",label:"Signed Pending",color:"#FFD700"},{id:"live",label:"Live",color:"#00FF00"}];function rP({leadId:t,user:e,onBack:r,onLeadUpdated:s}){const[o,a]=k.useState(null),[u,d]=k.useState(!0),[f,p]=k.useState(!1),[v,g]=k.useState(!1),[x,b]=k.useState({});k.useEffect(()=>{w()},[t]);async function w(){d(!0);try{const{data:S,error:A}=await Te.from("street_venue_leads").select("*").eq("id",t).single();if(A)throw A;a(S),b(S)}catch(S){console.error("Error loading lead:",S),Le.error("Failed to load lead details")}finally{d(!1)}}async function F(S){if(!o)return;const A=o.status;p(!0);try{const{error:T}=await Te.from("street_venue_leads").update({status:S,...S==="live"&&!o.first_membership_date&&{first_membership_date:new Date().toISOString()}}).eq("id",t);if(T)throw T;let I=0,V=null;if(S==="contacted"&&A==="new"?(I=10,V="lead_to_contacted"):S==="follow_up"?(I=15,V="lead_to_follow_up"):S==="demo_scheduled"?(I=25,V="lead_to_demo"):S==="verbal_yes"?(I=50,V="lead_to_verbal_yes"):S==="signed_pending"?(I=100,V="lead_to_signed_pending"):S==="live"&&(I=200,V="lead_to_live"),I>0){const M=await xc({userId:e.id,amount:I,source:"venue_status_change",sourceId:t});M.success&&(Le.success(`Lead updated  +${I} XP earned!`,{description:M.rankUp?` Promoted to ${M.newRank}!`:void 0}),V&&await Pf(e.id,V))}else Le.success("Lead status updated");(S==="signed_pending"||S==="live")&&(await Zb({...o,status:S})).success&&Le.success("Lead synced to website CRM! "),await w(),s?.()}catch(T){console.error("Error updating status:",T),Le.error("Failed to update lead status")}finally{p(!1)}}async function _(){if(o){p(!0);try{const{error:S}=await Te.from("street_venue_leads").update({contact_name:x.contact_name,contact_role:x.contact_role,contact_phone:x.contact_phone,contact_email:x.contact_email,notes:x.notes,relationship_strength:x.relationship_strength}).eq("id",t);if(S)throw S;Le.success("Lead details updated"),g(!1),await w(),s?.()}catch(S){console.error("Error saving edits:",S),Le.error("Failed to save changes")}finally{p(!1)}}}if(u)return l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsx("p",{className:"text-[#F6F2EE]",children:"Loading lead..."})});if(!o)return l.jsxs("div",{className:"min-h-screen bg-[#050505] flex flex-col items-center justify-center px-6",children:[l.jsx("p",{className:"text-[#A0A0A0] mb-6",children:"Lead not found"}),l.jsx(Oe,{onClick:r,variant:"outline",className:"border-2 border-[#F6F2EE]",children:"Go Back"})]});const j=Sv.findIndex(S=>S.id===o.status);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:r,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE]",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-[#F6F2EE]",children:o.venue_name}),l.jsx("p",{className:"text-[#A0A0A0] text-sm capitalize",children:o.venue_type})]}),!v&&l.jsx("button",{onClick:()=>g(!0),className:"p-2 border-2 border-[#F6F2EE] hover:bg-[#8A4FFF] transition-colors",children:l.jsx(IT,{className:"w-5 h-5 text-[#F6F2EE]"})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-[#A0A0A0] text-sm uppercase tracking-wide",children:"Heat Score"}),l.jsx("div",{className:"flex-1 h-3 bg-[#050505] border-2 border-[#F6F2EE] overflow-hidden",children:l.jsx("div",{className:"h-full bg-[#FF7A59] transition-all",style:{width:`${o.heat_score}%`}})}),l.jsxs("span",{className:"text-[#F6F2EE] font-bold",children:[o.heat_score,"/100"]})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-4",children:"Status"}),l.jsx("div",{className:"space-y-2",children:Sv.map((S,A)=>{const T=S.id===o.status,I=A<j;return l.jsx("button",{onClick:()=>!f&&F(S.id),disabled:f,className:`w-full p-4 border-3 text-left transition-all ${T?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":I?"bg-[#151515] border-[#8A4FFF] text-[#8A4FFF]":"bg-[#0A0A0A] border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"} ${f?"opacity-50 cursor-not-allowed":""}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-bold uppercase tracking-wide",children:S.label}),I&&l.jsx("span",{className:"text-sm",children:""})]})},S.id)})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3",children:"Location"}),l.jsx("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE]",children:l.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[l.jsx(Vr,{className:"w-5 h-5 text-[#8A4FFF] mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-[#F6F2EE]",children:o.address}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:o.city})]})]})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3",children:"Contact Details"}),v?l.jsxs("div",{className:"space-y-4 p-4 bg-[#151515] border-2 border-[#8A4FFF]",children:[l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] text-xs mb-2 block",children:"Contact Name"}),l.jsx(it,{value:x.contact_name||"",onChange:S=>b({...x,contact_name:S.target.value}),className:"bg-[#050505] border-2 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"Owner / Manager name"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] text-xs mb-2 block",children:"Role"}),l.jsx(it,{value:x.contact_role||"",onChange:S=>b({...x,contact_role:S.target.value}),className:"bg-[#050505] border-2 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"Owner, Manager, etc."})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] text-xs mb-2 block",children:"Phone"}),l.jsx(it,{value:x.contact_phone||"",onChange:S=>b({...x,contact_phone:S.target.value}),className:"bg-[#050505] border-2 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"+1-555-0123"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] text-xs mb-2 block",children:"Email"}),l.jsx(it,{value:x.contact_email||"",onChange:S=>b({...x,contact_email:S.target.value}),className:"bg-[#050505] border-2 border-[#F6F2EE] text-[#F6F2EE]",placeholder:"owner@venue.com"})]}),l.jsxs("div",{children:[l.jsx(Ie,{className:"text-[#F6F2EE] text-xs mb-2 block",children:"Relationship (0-5)"}),l.jsx(it,{type:"number",min:"0",max:"5",value:x.relationship_strength||0,onChange:S=>b({...x,relationship_strength:parseInt(S.target.value)||0}),className:"bg-[#050505] border-2 border-[#F6F2EE] text-[#F6F2EE]"})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsxs(Oe,{onClick:_,disabled:f,className:"flex-1 bg-[#8A4FFF] hover:bg-[#7A3FEF] text-[#F6F2EE] border-3 border-[#F6F2EE]",children:[l.jsx($b,{className:"w-4 h-4 mr-2"}),"Save Changes"]}),l.jsx(Oe,{onClick:()=>{g(!1),b(o)},variant:"outline",className:"border-2 border-[#F6F2EE] text-[#F6F2EE]",children:l.jsx(Sf,{className:"w-4 h-4"})})]})]}):l.jsxs("div",{className:"space-y-3",children:[o.contact_name&&l.jsxs("div",{className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(Af,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F6F2EE]",children:o.contact_name}),o.contact_role&&l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:o.contact_role})]})]}),o.contact_phone&&l.jsxs("div",{className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(mc,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("a",{href:`tel:${o.contact_phone}`,className:"text-[#F6F2EE] hover:text-[#8A4FFF]",children:o.contact_phone})]}),o.contact_email&&l.jsxs("div",{className:"p-3 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(Fi,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("a",{href:`mailto:${o.contact_email}`,className:"text-[#F6F2EE] hover:text-[#8A4FFF]",children:o.contact_email})]}),!o.contact_name&&!o.contact_phone&&!o.contact_email&&l.jsx("p",{className:"text-[#A0A0A0] text-center py-4",children:"No contact details yet"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3",children:"Relationship Strength"}),l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE]",children:[l.jsxs("div",{className:"text-2xl text-[#F6F2EE]",children:["".repeat(o.relationship_strength),"".repeat(5-o.relationship_strength)]}),l.jsxs("p",{className:"text-[#A0A0A0] text-sm mt-2",children:[o.relationship_strength===0&&"No relationship yet",o.relationship_strength===1&&"Cold contact",o.relationship_strength===2&&"Initial conversation",o.relationship_strength===3&&"Building rapport",o.relationship_strength===4&&"Strong connection",o.relationship_strength===5&&"Close relationship"]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3",children:"Notes"}),v?l.jsx(gc,{value:x.notes||"",onChange:S=>b({...x,notes:S.target.value}),className:"bg-[#151515] border-3 border-[#8A4FFF] text-[#F6F2EE] min-h-32",placeholder:"Add notes about this lead..."}):l.jsx("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE] min-h-24",children:l.jsx("p",{className:"text-[#F6F2EE] whitespace-pre-wrap",children:o.notes||"No notes yet"})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3",children:"Details"}),l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE] space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"Lead Source"}),l.jsx("span",{className:"text-[#F6F2EE] capitalize",children:o.lead_source.replace(/_/g," ")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"Added"}),l.jsx("span",{className:"text-[#F6F2EE]",children:new Date(o.created_at).toLocaleDateString()})]}),o.first_membership_date&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"Went Live"}),l.jsx("span",{className:"text-[#F6F2EE]",children:new Date(o.first_membership_date).toLocaleDateString()})]})]})]})]})]})}function nP({user:t,onBack:e}){const[r,s]=k.useState([]),[o,a]=k.useState("daily"),[u,d]=k.useState(!0),[f,p]=k.useState(null);k.useEffect(()=>{v()},[t.id]);async function v(){const j=new Date().toISOString(),{data:S}=await Te.from("street_missions").select(`
        *,
        street_mission_progress(*)
      `).or(`scope.eq.global,city.eq.${t.city}`).lte("valid_from",j).gte("valid_to",j);s(S||[]),d(!1)}async function g(j){p(j);const S=await K5(t.id,j);S.success?(Le.success("Mission claimed!",{description:`+${S.xpAwarded} XP earned! `}),await v()):Le.error(S.error||"Failed to claim mission"),p(null)}const x=r.filter(j=>j.type===o),b=x.length,w=x.filter(j=>j.street_mission_progress?.[0]?.is_completed).length,F=x.reduce((j,S)=>j+S.xp_reward,0),_=x.reduce((j,S)=>{const A=S.street_mission_progress?.[0];return j+(A?.xp_awarded||0)},0);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]",style:{backgroundSize:"200% 100%"}}),l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("h3",{className:"text-[#F6F2EE] flex-1 flex items-center gap-2",children:[l.jsx(zt,{className:"w-6 h-6 text-[#8A4FFF]"}),"Missions"]}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[#050505] border-2 border-[#8A4FFF]",children:[l.jsx(rn,{className:"w-4 h-4 text-[#FFD700]"}),l.jsxs("span",{className:"text-[#8A4FFF] font-bold text-sm",children:[w,"/",b]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[l.jsxs("div",{className:"p-3 bg-[#050505] border-2 border-[#8A4FFF] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#8A4FFF]",children:_}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase",children:"XP Earned"})]}),l.jsxs("div",{className:"p-3 bg-[#050505] border-2 border-[#FF7A59] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#FF7A59]",children:F-_}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase",children:"Available"})]})]}),l.jsx("div",{className:"flex gap-2",children:["daily","weekly","special"].map(j=>{const S=r.filter(A=>A.type===j).length;return l.jsxs(U.button,{onClick:()=>a(j),whileTap:{scale:.95},className:`flex-1 py-3 border-3 uppercase text-sm tracking-wider transition-all relative ${o===j?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-transparent border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,style:o===j?{boxShadow:"3px 3px 0px rgba(0, 0, 0, 0.8)"}:{},children:[j,S>0&&l.jsxs("span",{className:`ml-2 ${o===j?"text-[#FFD700]":"text-[#8A4FFF]"}`,children:["(",S,")"]}),o===j&&l.jsx(U.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-1 bg-[#FF7A59]"})]},j)})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:u?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(U.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"inline-block p-6 bg-[#151515] border-3 border-[#8A4FFF] mb-4",children:l.jsx(zt,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading missions..."})]}):x.length===0?l.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[l.jsx("div",{className:"inline-block p-8 bg-[#151515] border-4 border-[#F6F2EE] mb-4",children:l.jsx(zt,{className:"w-16 h-16 text-[#A0A0A0]"})}),l.jsxs("p",{className:"text-[#A0A0A0] mb-2",children:["No ",o," missions available"]}),l.jsx("p",{className:"text-[#8A4FFF] text-sm",children:"Check back tomorrow for new challenges!"})]}):l.jsx("div",{className:"space-y-4 pb-6",children:l.jsx(Qo,{mode:"popLayout",children:x.map((j,S)=>{const A=j.street_mission_progress?.[0],T=A?.current_count||0,I=A?.is_completed||!1,V=A?.xp_awarded||!1,M=Math.min(T/j.required_count*100,100),O=I&&!V;return l.jsxs(U.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:S*.05},className:`relative p-5 border-4 overflow-hidden ${V?"bg-[#050505] border-[#A0A0A0] opacity-75":O?"bg-gradient-to-br from-[#8A4FFF] to-[#7A3FEF] border-[#FFD700]":"bg-[#151515] border-[#F6F2EE] hover:border-[#8A4FFF]"} transition-all cursor-pointer`,style:O?{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"}:{},children:[O&&l.jsx(U.div,{animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:3,repeat:1/0,repeatType:"reverse"},className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255, 215, 0, 0.3) 10px, rgba(255, 215, 0, 0.3) 20px)",backgroundSize:"200% 200%"}}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:`p-2 border-2 ${V?"bg-[#050505] border-[#A0A0A0]":O?"bg-[#FFD700] border-[#F6F2EE]":"bg-[#8A4FFF] border-[#F6F2EE]"}`,children:V?l.jsx(tn,{className:"w-5 h-5 text-[#00FF00]"}):O?l.jsx(_T,{className:"w-5 h-5 text-[#050505]"}):l.jsx(zt,{className:"w-5 h-5 text-[#F6F2EE]"})}),j.type==="daily"&&l.jsx("div",{className:"px-2 py-1 bg-[#FF7A59] border-2 border-[#F6F2EE]",children:l.jsx(ea,{className:"w-3 h-3 text-[#F6F2EE]"})}),j.type==="special"&&l.jsx("div",{className:"px-2 py-1 bg-[#FFD700] border-2 border-[#F6F2EE]",children:l.jsx(Wl,{className:"w-3 h-3 text-[#050505]"})})]}),l.jsx("h4",{className:"font-bold mb-1 text-[#F6F2EE]",children:j.title}),l.jsx("p",{className:`text-sm ${V?"text-[#A0A0A0]":O?"text-[#F6F2EE] opacity-90":"text-[#A0A0A0]"}`,children:j.description})]}),l.jsx("div",{className:"text-right ml-4",children:V?l.jsxs("div",{className:"flex items-center gap-1 text-[#00FF00]",children:[l.jsx(tn,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-bold",children:"Claimed"})]}):O?l.jsx(U.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:l.jsx("div",{className:"px-3 py-2 bg-[#FFD700] border-2 border-[#F6F2EE]",children:l.jsxs("span",{className:"text-[#050505] font-bold text-lg",children:["+",j.xp_reward," XP"]})})}):l.jsxs("span",{className:"text-[#8A4FFF] font-bold text-sm",children:["+",j.xp_reward," XP"]})})]}),!V&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:`text-xs ${O?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:"Progress"}),l.jsxs("span",{className:`text-sm font-bold ${O?"text-[#FFD700]":"text-[#F6F2EE]"}`,children:[T," / ",j.required_count]})]}),l.jsxs("div",{className:"h-3 border-2 overflow-hidden relative bg-[#050505] border-[#F6F2EE]",children:[l.jsx(U.div,{initial:{width:0},animate:{width:`${M}%`},transition:{duration:.5,delay:S*.05},className:`h-full ${O?"bg-[#FFD700]":"bg-gradient-to-r from-[#8A4FFF] to-[#FF7A59]"}`}),M>=100&&l.jsx(U.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"absolute right-1 top-1/2 -translate-y-1/2",children:l.jsx(Nt,{className:"w-4 h-4 text-[#FFD700]"})})]})]}),O&&l.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4",children:l.jsx(Oe,{onClick:()=>g(j.id),disabled:f===j.id,className:"w-full h-12 bg-[#FFD700] hover:bg-[#FFA500] border-3 border-[#F6F2EE] text-[#050505] uppercase tracking-wider font-bold transition-all relative overflow-hidden group",children:f===j.id?l.jsx(U.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:l.jsx(Nt,{className:"w-5 h-5"})}):l.jsxs(l.Fragment,{children:[l.jsx(rn,{className:"w-5 h-5 mr-2"}),"Claim Reward",l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-40 transform -skew-x-12 group-hover:translate-x-full transition-transform duration-700"})]})})}),V&&l.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2 p-2 bg-[#00FF00]/10 border-2 border-[#00FF00]",children:[l.jsx(tn,{className:"w-4 h-4 text-[#00FF00]"}),l.jsx("span",{className:"text-[#00FF00] text-sm font-bold uppercase",children:"Completed & Claimed"})]})]}),O&&l.jsxs(l.Fragment,{children:[l.jsx(U.div,{animate:{y:[-5,-15,-5],opacity:[1,0,1]},transition:{duration:2,repeat:1/0,delay:0},className:"absolute top-2 right-2",children:l.jsx(Wl,{className:"w-4 h-4 text-[#FFD700]",fill:"#FFD700"})}),l.jsx(U.div,{animate:{y:[-5,-15,-5],opacity:[1,0,1]},transition:{duration:2,repeat:1/0,delay:.5},className:"absolute top-4 right-8",children:l.jsx(Wl,{className:"w-3 h-3 text-[#FFD700]",fill:"#FFD700"})})]})]},j.id)})})})})]})}function sP({user:t,onBack:e}){const[r,s]=k.useState([]),[o,a]=k.useState("all_time"),[u,d]=k.useState(!0),[f,p]=k.useState(null);k.useEffect(()=>{v();const w=dt().channel("public:street_users").on("postgres_changes",{event:"*",schema:"public",table:"street_users"},F=>{v()}).subscribe();return()=>{w.unsubscribe()}},[o]);async function v(){const b=dt();d(!0);try{const{data:w,error:F}=await b.from("street_users").select("*").eq("status","active").order("total_xp",{ascending:!1}).limit(100);if(F)throw F;const _=await Promise.all((w||[]).map(async(S,A)=>{const{data:T}=await b.from("street_venue_leads").select("id").eq("created_by_user_id",S.id).eq("status","live"),I=await Tf(S.id);return{id:S.id,full_name:S.full_name,city:S.city,total_xp:S.total_xp,current_rank:S.current_rank,avatar_url:S.avatar_url,venues_live:T?.length||0,streak:I.currentStreak,position:A+1}}));s(_);const j=_.findIndex(S=>S.id===t.id);p(j!==-1?j+1:null)}catch(w){console.error("Error loading leaderboard:",w)}finally{d(!1)}}const g=r.slice(0,3),x=r.slice(3);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#FFD700] via-[#8A4FFF] to-[#FF7A59]",style:{backgroundSize:"200% 100%"}}),l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("div",{className:"flex-1",children:l.jsxs("h3",{className:"text-[#F6F2EE] flex items-center gap-2",children:[l.jsx(rn,{className:"w-6 h-6 text-[#FFD700]"}),"Leaderboard"]})}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[#050505] border-2 border-[#8A4FFF]",children:[l.jsx(Tr,{className:"w-4 h-4 text-[#8A4FFF]"}),l.jsxs("span",{className:"text-[#8A4FFF] font-bold text-sm",children:["#",f||"--"]})]})]}),l.jsx("div",{className:"flex gap-2",children:[{id:"all_time",label:"All Time"},{id:"this_month",label:"This Month"},{id:"this_week",label:"This Week"}].map(b=>l.jsx(U.button,{onClick:()=>a(b.id),whileTap:{scale:.95},className:`flex-1 py-2 border-3 uppercase text-xs tracking-wider transition-all ${o===b.id?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-transparent border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:b.label},b.id))})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:u?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(U.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"inline-block p-6 bg-[#151515] border-3 border-[#FFD700] mb-4",children:l.jsx(rn,{className:"w-12 h-12 text-[#FFD700]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading rankings..."})]}):l.jsxs(l.Fragment,{children:[g.length>0&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"mb-8",children:[l.jsxs("h4",{className:"text-[#F6F2EE] mb-4 text-center uppercase tracking-wider flex items-center justify-center gap-2",children:[l.jsx(Ei,{className:"w-5 h-5 text-[#FFD700]"}),"Top Performers"]}),l.jsxs("div",{className:"flex items-end justify-center gap-2 mb-6",children:[g[1]&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"flex-1 flex flex-col items-center",children:[l.jsx(Ld,{user:g[1],position:2}),l.jsx("div",{className:"w-full h-24 bg-gradient-to-b from-[#C0C0C0] to-[#A0A0A0] border-4 border-[#F6F2EE] flex items-center justify-center",children:l.jsx("span",{className:"text-4xl font-bold text-[#F6F2EE]",children:"2"})})]}),g[0]&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"flex-1 flex flex-col items-center",children:[l.jsx(Ld,{user:g[0],position:1}),l.jsxs("div",{className:"w-full h-32 bg-gradient-to-b from-[#FFD700] to-[#FFA500] border-4 border-[#F6F2EE] flex items-center justify-center relative overflow-hidden",children:[l.jsx(U.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-20"}),l.jsx(Ei,{className:"absolute top-2 w-8 h-8 text-[#F6F2EE]"}),l.jsx("span",{className:"text-5xl font-bold text-[#F6F2EE] relative z-10",children:"1"})]})]}),g[2]&&l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"flex-1 flex flex-col items-center",children:[l.jsx(Ld,{user:g[2],position:3}),l.jsx("div",{className:"w-full h-16 bg-gradient-to-b from-[#CD7F32] to-[#8B4513] border-4 border-[#F6F2EE] flex items-center justify-center",children:l.jsx("span",{className:"text-3xl font-bold text-[#F6F2EE]",children:"3"})})]})]})]}),x.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-[#F6F2EE] mb-3 uppercase tracking-wider text-sm",children:"Rankings"}),x.map((b,w)=>{const F=b.id===t.id,_=w+4;return l.jsx(U.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:w*.03},className:`p-4 border-3 transition-all ${F?"bg-[#8A4FFF] border-[#FF7A59]":"bg-[#151515] border-[#F6F2EE] hover:border-[#8A4FFF]"}`,style:F?{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"}:{},children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-10 h-10 border-2 flex items-center justify-center ${F?"border-[#F6F2EE] bg-[#FF7A59]":"border-[#F6F2EE] bg-[#050505]"}`,children:l.jsx("span",{className:`font-bold ${F?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:_})}),l.jsx("div",{className:`w-12 h-12 border-3 flex items-center justify-center ${F?"bg-[#FF7A59] border-[#F6F2EE]":"bg-[#8A4FFF] border-[#F6F2EE]"}`,children:l.jsx("span",{className:"text-[#F6F2EE] font-bold text-lg",children:b.full_name.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-center gap-2 mb-1",children:l.jsxs("p",{className:"font-bold truncate text-[#F6F2EE]",children:[b.full_name,F&&l.jsx("span",{className:"ml-2 text-[#FFD700]",children:""})]})}),l.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[l.jsxs("span",{className:`flex items-center gap-1 ${F?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:[l.jsx(rr,{className:"w-3 h-3"}),b.current_rank]}),b.streak>0&&l.jsxs("span",{className:`flex items-center gap-1 ${F?"text-[#FFD700]":"text-[#FF7A59]"}`,children:[l.jsx(Ti,{className:"w-3 h-3"}),b.streak,"d"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:`font-bold ${F?"text-[#FFD700]":"text-[#8A4FFF]"}`,children:b.total_xp.toLocaleString()}),l.jsx("p",{className:`text-xs ${F?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:"XP"})]})]})},b.id)})]}),r.length===0&&!u&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block p-8 bg-[#151515] border-4 border-[#F6F2EE] mb-4",children:l.jsx(rn,{className:"w-16 h-16 text-[#A0A0A0]"})}),l.jsx("p",{className:"text-[#A0A0A0]",children:"No rankings yet"})]})]})})]})}function Ld({user:t,position:e}){const s={1:{bg:"#FFD700",border:"#FFA500",icon:Ei},2:{bg:"#C0C0C0",border:"#A0A0A0",icon:kv},3:{bg:"#CD7F32",border:"#8B4513",icon:kv}}[e],o=s.icon;return l.jsxs(U.div,{whileHover:{scale:1.05,y:-5},className:"w-full mb-3 p-3 bg-[#151515] border-4 border-[#F6F2EE] relative",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 border-3 border-[#F6F2EE] flex items-center justify-center",style:{backgroundColor:s.bg},children:l.jsx(o,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("div",{className:"flex flex-col items-center mb-2",children:[l.jsx("div",{className:"w-14 h-14 border-3 border-[#F6F2EE] flex items-center justify-center mb-2",style:{backgroundColor:s.bg},children:l.jsx("span",{className:"text-[#F6F2EE] font-bold text-xl",children:t.full_name.charAt(0).toUpperCase()})}),l.jsx("p",{className:"text-[#F6F2EE] font-bold text-sm text-center truncate w-full",children:t.full_name})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"XP"}),l.jsx("span",{className:"text-[#8A4FFF] font-bold",children:t.total_xp.toLocaleString()})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"Live"}),l.jsx("span",{className:"text-[#00FF00] font-bold",children:t.venues_live})]}),t.streak>0&&l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("span",{className:"text-[#A0A0A0] flex items-center gap-1",children:[l.jsx(Ti,{className:"w-3 h-3"}),"Streak"]}),l.jsxs("span",{className:"text-[#FF7A59] font-bold",children:[t.streak,"d"]})]})]})]})}const Nv={Bronze:{primary:"#CD7F32",secondary:"#8B4513",icon:rr},Silver:{primary:"#C0C0C0",secondary:"#A0A0A0",icon:rr},Gold:{primary:"#FFD700",secondary:"#FFA500",icon:rr},Platinum:{primary:"#E5E4E2",secondary:"#C0C0C0",icon:rr},Diamond:{primary:"#B9F2FF",secondary:"#00CED1",icon:jf},"Black Key":{primary:"#FFD700",secondary:"#FF7A59",icon:Ei}};function iP({user:t,onBack:e}){const[r,s]=k.useState([]),[o,a]=k.useState(!0);k.useEffect(()=>{u()},[]);async function u(){const w=dt(),{data:F}=await w.from("street_ranks").select("*").order("order_index",{ascending:!0});s(F||[]),a(!1)}const d=r.findIndex(w=>w.name===t.current_rank),f=r[d+1],p=r[d],v=f?f.min_xp-t.total_xp:0,g=p?t.total_xp-p.min_xp:0,x=f&&p?f.min_xp-p.min_xp:1,b=Math.min(g/x*100,100);return o?l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block border-4 border-[#8A4FFF] p-6 mb-4 bg-[#151515] animate-pulse",children:l.jsx(rr,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading Ranks..."})]})}):l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#FFD700] via-[#8A4FFF] to-[#FF7A59]",style:{backgroundSize:"200% 100%"}}),l.jsx("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("h3",{className:"text-[#F6F2EE] flex-1 flex items-center gap-2",children:[l.jsx(rr,{className:"w-6 h-6 text-[#FFD700]"}),"Rank System"]}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[#050505] border-2 border-[#8A4FFF]",children:[l.jsx(Tr,{className:"w-4 h-4 text-[#8A4FFF]"}),l.jsxs("span",{className:"text-[#8A4FFF] font-bold text-sm",children:[d+1,"/",r.length]})]})]})}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"px-6 py-6 bg-gradient-to-br from-[#8A4FFF] to-[#7A3FEF] border-b-4 border-[#F6F2EE] relative overflow-hidden",children:[l.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-[#FF7A59] opacity-20 rotate-45"}),l.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-[#FFD700] opacity-20 rounded-full"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("p",{className:"text-[#F6F2EE] text-xs uppercase tracking-widest mb-3 opacity-90",children:"Your Current Rank"}),l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx(U.div,{animate:{rotate:[0,5,0,-5,0]},transition:{duration:3,repeat:1/0},className:"w-20 h-20 bg-[#FFD700] border-4 border-[#F6F2EE] flex items-center justify-center",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:l.jsx(rr,{className:"w-10 h-10 text-[#050505]"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-[#F6F2EE] mb-1",children:t.current_rank}),l.jsxs("p",{className:"text-[#F6F2EE] opacity-90",children:[t.total_xp.toLocaleString()," XP"]})]})]}),f?l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-[#F6F2EE] text-sm opacity-90",children:["Next: ",f.name]}),l.jsxs("span",{className:"text-[#FFD700] font-bold text-sm",children:[v.toLocaleString()," XP to go"]})]}),l.jsxs("div",{className:"h-4 bg-[#050505] border-2 border-[#F6F2EE] overflow-hidden relative",children:[l.jsx(U.div,{initial:{width:0},animate:{width:`${b}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-[#FFD700] to-[#FF7A59]"}),b>0&&l.jsxs("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-xs font-bold text-[#F6F2EE]",children:[Math.round(b),"%"]})]})]}):l.jsx("div",{className:"p-4 bg-[#050505]/50 border-2 border-[#FFD700]",children:l.jsx("p",{className:"text-[#FFD700] font-bold text-center",children:" Maximum Rank Achieved! "})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-3 pb-24",children:r.map((w,F)=>{const _=w.name===t.current_rank,j=F<d,S=F>d,A=w.name==="Black Key",T=Nv[w.name]||Nv.Bronze,I=T.icon;return l.jsxs(U.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:F*.05},className:`relative overflow-hidden ${A?"p-6 bg-gradient-to-br from-[#050505] via-[#1A1A1A] to-[#050505] border-4 border-[#FFD700]":_?"p-5 bg-[#151515] border-4 border-[#8A4FFF]":j?"p-5 bg-[#151515] border-3 border-[#00FF00]":"p-5 bg-[#0A0A0A] border-3 border-[#F6F2EE]"} ${S?"opacity-60":""}`,style:_?{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"}:{},children:[A&&l.jsx(U.div,{animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:5,repeat:1/0,repeatType:"reverse"},className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255, 215, 0, 0.3) 10px, rgba(255, 215, 0, 0.3) 20px)",backgroundSize:"200% 200%"}}),A&&l.jsx(U.div,{animate:{rotate:360},transition:{duration:10,repeat:1/0,ease:"linear"},className:"absolute top-4 right-4",children:l.jsx(jf,{className:"w-6 h-6 text-[#FFD700]"})}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[l.jsxs("div",{className:"w-16 h-16 border-3 border-[#F6F2EE] flex items-center justify-center relative",style:{backgroundColor:S?"#050505":T.primary,boxShadow:"3px 3px 0px rgba(0, 0, 0, 0.8)"},children:[S?l.jsx(Lb,{className:"w-8 h-8 text-[#A0A0A0]"}):l.jsx(I,{className:`w-8 h-8 ${A?"text-[#050505]":"text-[#F6F2EE]"}`}),j&&l.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-[#00FF00] border-2 border-[#F6F2EE] flex items-center justify-center",children:l.jsx(tn,{className:"w-4 h-4 text-[#050505]"})})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:`font-bold uppercase tracking-wide ${A?"text-[#FFD700]":_?"text-[#8A4FFF]":j?"text-[#00FF00]":"text-[#A0A0A0]"}`,children:w.name}),_&&l.jsx(U.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"px-3 py-1 bg-[#8A4FFF] border-2 border-[#F6F2EE]",children:l.jsx("span",{className:"text-[#F6F2EE] text-xs uppercase tracking-wider font-bold",children:"Current"})}),j&&l.jsx("div",{className:"px-2 py-1 bg-[#00FF00] border-2 border-[#F6F2EE]",children:l.jsx("span",{className:"text-[#050505] text-xs uppercase tracking-wider font-bold",children:"Unlocked"})}),S&&l.jsx("div",{className:"px-2 py-1 bg-transparent border-2 border-[#A0A0A0]",children:l.jsx("span",{className:"text-[#A0A0A0] text-xs uppercase tracking-wider",children:"Locked"})})]}),l.jsx("p",{className:`text-sm mb-3 ${S?"text-[#A0A0A0]":"text-[#F6F2EE]"}`,children:w.description||`Reach ${w.min_xp.toLocaleString()} XP to unlock`}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Nt,{className:`w-4 h-4 ${S?"text-[#A0A0A0]":"text-[#8A4FFF]"}`}),l.jsxs("span",{className:`text-xs ${S?"text-[#A0A0A0]":"text-[#F6F2EE]"}`,children:[w.min_xp.toLocaleString()," XP Required"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{className:`p-2 border-2 ${S?"bg-[#050505] border-[#A0A0A0]":"bg-[#050505] border-[#F6F2EE]"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Cr,{className:`w-3 h-3 ${S?"text-[#A0A0A0]":"text-[#FFD700]"}`}),l.jsx("span",{className:"text-xs uppercase tracking-wider text-[#A0A0A0]",children:"Commission"})]}),l.jsxs("p",{className:`font-bold ${S?"text-[#A0A0A0]":"text-[#FFD700]"}`,children:[w.commission_rate*100,"%"]})]}),l.jsxs("div",{className:`p-2 border-2 ${S?"bg-[#050505] border-[#A0A0A0]":"bg-[#050505] border-[#F6F2EE]"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Tr,{className:`w-3 h-3 ${S?"text-[#A0A0A0]":"text-[#8A4FFF]"}`}),l.jsx("span",{className:"text-xs uppercase tracking-wider text-[#A0A0A0]",children:"Rev Share"})]}),l.jsxs("p",{className:`font-bold ${S?"text-[#A0A0A0]":"text-[#8A4FFF]"}`,children:[w.max_rev_share_months,"mo"]})]})]})]})]}),w.perks&&w.perks.length>0&&l.jsxs("div",{className:`pt-3 border-t-2 ${S?"border-[#A0A0A0]/30":"border-[#F6F2EE]/30"}`,children:[l.jsx("p",{className:"text-xs uppercase tracking-wider mb-2 text-[#A0A0A0]",children:"Perks"}),l.jsx("ul",{className:"space-y-1",children:w.perks.map((V,M)=>l.jsxs("li",{className:`text-xs flex items-start gap-2 ${S?"text-[#A0A0A0]":"text-[#F6F2EE]"}`,children:[l.jsx("span",{className:S?"text-[#A0A0A0]":"text-[#8A4FFF]",children:""}),V]},M))})]})]})]},w.id)})})]})}function oP({user:t,onBack:e,onSettings:r,onLogout:s}){const[o,a]=k.useState({streak:0,longestStreak:0,liveVenues:0,totalLeads:0,conversionRate:0,estimatedMonthlyEarnings:0,totalMissionsCompleted:0,position:0}),[u,d]=k.useState(!0),[f,p]=k.useState(!1),v=`PATRON-${t.id.slice(0,8).toUpperCase()}`;k.useEffect(()=>{g()},[t.id]);async function g(){const w=dt();try{const[F,_,j,S,A]=await Promise.all([Tf(t.id),w.from("street_venue_leads").select("id").eq("created_by_user_id",t.id).eq("status","live"),w.from("street_venue_leads").select("id").eq("created_by_user_id",t.id),w.from("street_mission_progress").select("id").eq("user_id",t.id).eq("is_completed",!0),w.from("street_users").select("total_xp").eq("status","active").order("total_xp",{ascending:!1})]),T=_.data?.length||0,I=j.data?.length||0,V=I>0?T/I*100:0,M=qo(t.current_rank),X=T*150*M,le=(A.data?.findIndex(Ee=>Ee.total_xp<=t.total_xp)||-1)+1;a({streak:F.currentStreak,longestStreak:F.longestStreak,liveVenues:T,totalLeads:I,conversionRate:V,estimatedMonthlyEarnings:X,totalMissionsCompleted:S.data?.length||0,position:le})}catch(F){console.error("Error loading profile stats:",F)}finally{d(!1)}}function x(){navigator.clipboard.writeText(v),p(!0),Le.success("Referral code copied!"),setTimeout(()=>p(!1),2e3)}function b(){const w=`Join me on Patron Pass Street Team! Use my code: ${v}`;navigator.share?navigator.share({title:"Patron Pass Street Team",text:w}):(navigator.clipboard.writeText(w),Le.success("Share text copied!"))}return u?l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block border-4 border-[#8A4FFF] p-6 mb-4 bg-[#151515] animate-pulse",children:l.jsx(rr,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading Profile..."})]})}):l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]"}),l.jsx("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsx("h3",{className:"text-[#F6F2EE] flex-1",children:"Profile"}),l.jsx("button",{onClick:r,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Bb,{className:"w-5 h-5 text-[#F6F2EE]"})})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:[l.jsx(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"relative",children:l.jsxs("div",{className:"p-6 bg-gradient-to-br from-[#8A4FFF] to-[#7A3FEF] border-4 border-[#F6F2EE] relative overflow-hidden",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-[#FF7A59] opacity-20 rotate-45"}),l.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-[#FFD700] opacity-20 rounded-full"}),l.jsxs("div",{className:"relative z-10 text-center",children:[l.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-block mb-4",children:l.jsxs("div",{className:"w-24 h-24 bg-[#FF7A59] border-4 border-[#F6F2EE] flex items-center justify-center relative",style:{boxShadow:"4px 4px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsx("span",{className:"text-5xl font-bold text-[#F6F2EE]",children:t.full_name.charAt(0).toUpperCase()}),l.jsx("div",{className:"absolute -bottom-2 -right-2 px-2 py-1 bg-[#FFD700] border-2 border-[#F6F2EE]",children:l.jsx(rr,{className:"w-4 h-4 text-[#050505]"})})]})}),l.jsx("h2",{className:"text-[#F6F2EE] mb-2",children:t.full_name}),l.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-[#151515] border-3 border-[#FFD700]",children:[l.jsx(rr,{className:"w-5 h-5 text-[#FFD700]"}),l.jsx("span",{className:"text-[#FFD700] uppercase tracking-wider font-bold",children:t.current_rank})]}),o.position>0&&l.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-3",children:l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-[#050505]/50 border-2 border-[#F6F2EE]",children:[l.jsx(Tr,{className:"w-4 h-4 text-[#F6F2EE]"}),l.jsxs("span",{className:"text-[#F6F2EE] text-sm",children:["Ranked #",o.position]})]})})]})]})}),l.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5},className:"col-span-2 p-4 bg-[#151515] border-3 border-[#8A4FFF] text-center",children:[l.jsx(rn,{className:"w-6 h-6 text-[#8A4FFF] mx-auto mb-2"}),l.jsx("p",{className:"text-2xl font-bold text-[#8A4FFF] mb-1",children:t.total_xp.toLocaleString()}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase tracking-wide",children:"Total XP"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.55},className:"col-span-2 p-4 bg-[#151515] border-3 border-[#00FF00] text-center",children:[l.jsx(zt,{className:"w-6 h-6 text-[#00FF00] mx-auto mb-2"}),l.jsx("p",{className:"text-2xl font-bold text-[#00FF00] mb-1",children:o.liveVenues}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase tracking-wide",children:"Live Venues"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.6},className:"col-span-2 p-4 bg-[#151515] border-3 border-[#FF7A59] text-center",children:[l.jsx(Ti,{className:"w-6 h-6 text-[#FF7A59] mx-auto mb-2"}),l.jsx("p",{className:"text-2xl font-bold text-[#FF7A59] mb-1",children:o.streak}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase tracking-wide",children:"Day Streak"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.65},className:"col-span-3 p-4 bg-[#151515] border-2 border-[#F6F2EE] text-center",children:[l.jsx("p",{className:"text-xl font-bold text-[#8A4FFF] mb-1",children:o.totalMissionsCompleted}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase tracking-wide",children:"Missions Done"})]}),l.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.7},className:"col-span-3 p-4 bg-[#151515] border-2 border-[#F6F2EE] text-center",children:[l.jsxs("p",{className:"text-xl font-bold text-[#FF7A59] mb-1",children:[o.conversionRate.toFixed(0),"%"]}),l.jsx("p",{className:"text-[#A0A0A0] text-xs uppercase tracking-wide",children:"Conversion"})]})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.75},className:"p-5 bg-gradient-to-br from-[#FF7A59] to-[#EE6A49] border-4 border-[#F6F2EE]",style:{boxShadow:"6px 6px 0px rgba(0, 0, 0, 0.8)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cr,{className:"w-6 h-6 text-[#F6F2EE]"}),l.jsx("span",{className:"text-[#F6F2EE] uppercase tracking-wide font-bold",children:"Monthly Rev"})]}),l.jsx(Nt,{className:"w-5 h-5 text-[#FFD700]"})]}),l.jsxs("h1",{className:"text-[#F6F2EE] mb-2",children:["$",Math.floor(o.estimatedMonthlyEarnings)]}),l.jsxs("p",{className:"text-[#F6F2EE] text-sm opacity-90",children:[qo(t.current_rank)*100,"% commission rate  ",t.current_rank," rank"]})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"p-5 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsxs("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3 flex items-center gap-2",children:[l.jsx(HT,{className:"w-4 h-4 text-[#8A4FFF]"}),"Referral Code"]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"flex-1 p-3 bg-[#050505] border-2 border-[#8A4FFF] font-mono text-[#8A4FFF] text-center font-bold",children:v}),l.jsx("button",{onClick:x,className:"p-3 border-2 border-[#F6F2EE] hover:bg-[#8A4FFF] transition-all active:scale-95",children:f?l.jsx(tn,{className:"w-5 h-5 text-[#00FF00]"}):l.jsx(gT,{className:"w-5 h-5 text-[#F6F2EE]"})})]}),l.jsx(Oe,{onClick:b,variant:"outline",className:"w-full border-2 border-[#8A4FFF] text-[#8A4FFF] hover:bg-[#8A4FFF] hover:text-[#F6F2EE] uppercase text-xs tracking-wider",children:"Share Referral"})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.85},className:"space-y-3",children:[l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm",children:"Contact"}),l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(Vr,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE]",children:t.city})]}),l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(Fi,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE] text-sm break-all",children:t.email})]}),t.phone&&l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(mc,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE]",children:t.phone})]}),t.instagram_handle&&l.jsxs("div",{className:"p-4 bg-[#151515] border-2 border-[#F6F2EE] flex items-center gap-3",children:[l.jsx(ST,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("span",{className:"text-[#F6F2EE]",children:t.instagram_handle})]})]}),l.jsx(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},children:l.jsxs(Oe,{onClick:s,variant:"outline",className:"w-full h-14 border-3 border-[#FF4444] text-[#FF4444] hover:bg-[#FF4444] hover:text-[#F6F2EE] uppercase tracking-wider font-bold transition-all",children:[l.jsx(TT,{className:"w-5 h-5 mr-2"}),"Sign Out"]})})]})]})}const aP={xp_awarded:rn,rank_up:Tr,mission_complete:zt,lead_status_change:Nt,earnings_update:Cr,system:bs},lP={xp_awarded:"#8A4FFF",rank_up:"#FFD700",mission_complete:"#00FF00",lead_status_change:"#FF7A59",earnings_update:"#FFD700",system:"#A0A0A0"};function cP({user:t,onBack:e,onNavigate:r}){const[s,o]=k.useState([]),[a,u]=k.useState(!0),[d,f]=k.useState("all");k.useEffect(()=>{v()},[t.id]);async function p(_){_.is_read||await g(_.id),_.deep_link&&r(_.deep_link)}async function v(){let _=Te.from("street_notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);d==="unread"&&(_=_.eq("is_read",!1));const{data:j}=await _;o(j||[]),u(!1)}async function g(_){await Te.from("street_notifications").update({is_read:!0}).eq("id",_),o(j=>j.map(S=>S.id===_?{...S,is_read:!0}:S))}async function x(){await Te.from("street_notifications").update({is_read:!0}).eq("user_id",t.id).eq("is_read",!1),o(_=>_.map(j=>({...j,is_read:!0}))),Le.success("All notifications marked as read")}async function b(_){await Te.from("street_notifications").delete().eq("id",_),o(j=>j.filter(S=>S.id!==_)),Le.success("Notification deleted")}const w=s.filter(_=>!_.is_read).length,F=d==="unread"?s.filter(_=>!_.is_read):s;return a?l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block border-4 border-[#8A4FFF] p-6 mb-4 bg-[#151515] animate-pulse",children:l.jsx(bs,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading..."})]})}):l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]",style:{backgroundSize:"200% 100%"}}),l.jsxs("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("h3",{className:"text-[#F6F2EE] flex-1 flex items-center gap-2",children:[l.jsx(bs,{className:"w-6 h-6 text-[#8A4FFF]"}),"Notifications"]}),w>0&&l.jsx("div",{className:"flex items-center gap-2 px-3 py-2 bg-[#FF7A59] border-2 border-[#F6F2EE]",children:l.jsxs("span",{className:"text-[#F6F2EE] font-bold text-sm",children:[w," new"]})})]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsxs("button",{onClick:()=>f("all"),className:`flex-1 py-2 border-3 uppercase text-xs tracking-wider transition-all ${d==="all"?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-transparent border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:["All (",s.length,")"]}),l.jsxs("button",{onClick:()=>f("unread"),className:`flex-1 py-2 border-3 uppercase text-xs tracking-wider transition-all ${d==="unread"?"bg-[#8A4FFF] border-[#F6F2EE] text-[#F6F2EE]":"bg-transparent border-[#F6F2EE] text-[#A0A0A0] hover:border-[#8A4FFF]"}`,children:["Unread (",w,")"]})]}),w>0&&l.jsxs(Oe,{onClick:x,variant:"outline",className:"w-full border-2 border-[#8A4FFF] text-[#8A4FFF] hover:bg-[#8A4FFF] hover:text-[#F6F2EE] uppercase text-xs tracking-wider",children:[l.jsx(tn,{className:"w-4 h-4 mr-2"}),"Mark All as Read"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 pb-24",children:F.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block p-8 bg-[#151515] border-4 border-[#F6F2EE] mb-4",children:l.jsx(bs,{className:"w-16 h-16 text-[#A0A0A0]"})}),l.jsx("p",{className:"text-[#A0A0A0] mb-2",children:d==="unread"?"No unread notifications":"No notifications yet"}),l.jsx("p",{className:"text-[#8A4FFF] text-sm",children:d==="unread"?"You're all caught up!":"Activity updates will appear here"})]}):l.jsx("div",{className:"space-y-3",children:l.jsx(Qo,{mode:"popLayout",children:F.map((_,j)=>{const S=aP[_.type]||bs,A=lP[_.type]||"#A0A0A0",T=!_.is_read,I=uP(_.created_at);return l.jsx(U.div,{layout:!0,initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:20,opacity:0},transition:{delay:j*.03},onClick:()=>p(_),className:`relative p-4 border-3 cursor-pointer transition-all ${T?"bg-[#151515] border-[#8A4FFF]":"bg-[#0A0A0A] border-[#F6F2EE] opacity-75"}`,style:T?{boxShadow:"3px 3px 0px rgba(0, 0, 0, 0.8)"}:{},children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 border-3 border-[#F6F2EE] flex items-center justify-center flex-shrink-0",style:{backgroundColor:T?A:"#050505"},children:l.jsx(S,{className:`w-6 h-6 ${T?"text-[#F6F2EE]":"text-[#A0A0A0]"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:`font-bold mb-1 ${T?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:_.title}),l.jsx("p",{className:`text-sm mb-2 ${T?"text-[#A0A0A0]":"text-[#666]"}`,children:_.message}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-xs ${T?"text-[#8A4FFF]":"text-[#666]"}`,children:I}),T&&l.jsx("div",{className:"w-2 h-2 bg-[#8A4FFF] rounded-full"})]})]}),l.jsx("button",{onClick:V=>{V.stopPropagation(),b(_.id)},className:"p-2 hover:bg-[#FF4444] border-2 border-[#F6F2EE] transition-colors active:scale-95",children:l.jsx(Sf,{className:"w-4 h-4 text-[#F6F2EE]"})})]})},_.id)})})})})]})}function uP(t){const e=new Date,r=new Date(t),s=Math.floor((e.getTime()-r.getTime())/1e3);return s<60?"Just now":s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:s<604800?`${Math.floor(s/86400)}d ago`:`${Math.floor(s/604800)}w ago`}function dP({user:t,onBack:e}){const[r,s]=k.useState([]),[o,a]=k.useState(!0);k.useEffect(()=>{u()},[t.id]);async function u(){const{data:w}=await Te.from("street_venue_leads").select("*").eq("created_by_user_id",t.id).in("status",["signed_pending","live"]).order("created_at",{ascending:!1});s(w||[]),a(!1)}const d=qo(t.current_rank),f=r.filter(w=>w.status==="live"),p=r.filter(w=>w.status==="signed_pending"),v=150,g=f.length*v*d,x=(f.length+p.length)*v*d;p.length*v*d;const b=g*12;return o?l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block border-4 border-[#8A4FFF] p-6 mb-4 bg-[#151515] animate-pulse",children:l.jsx(Cr,{className:"w-12 h-12 text-[#8A4FFF]"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading Earnings..."})]})}):l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx(U.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#FFD700] via-[#8A4FFF] to-[#FF7A59]",style:{backgroundSize:"200% 100%"}}),l.jsx("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("h3",{className:"text-[#F6F2EE] flex-1 flex items-center gap-2",children:[l.jsx(Cr,{className:"w-6 h-6 text-[#FFD700]"}),"Earnings & Rev-Share"]}),l.jsx("div",{className:"flex items-center gap-2 px-3 py-2 bg-[#050505] border-2 border-[#FFD700]",children:l.jsxs("span",{className:"text-[#FFD700] font-bold text-sm",children:[d*100,"%"]})})]})}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"px-6 py-6 bg-gradient-to-br from-[#8A4FFF] to-[#7A3FEF] border-b-4 border-[#F6F2EE] relative overflow-hidden",children:[l.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-[#FFD700] opacity-20 rotate-45"}),l.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-[#FF7A59] opacity-20 rounded-full"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("p",{className:"text-[#F6F2EE] text-xs uppercase tracking-widest mb-3 opacity-90",children:"Monthly Recurring Revenue"}),l.jsxs(U.h1,{initial:{scale:.9},animate:{scale:1},className:"text-[#F6F2EE] mb-4",children:["$",Math.floor(g),l.jsx("span",{className:"text-2xl opacity-75",children:"/mo"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"p-3 bg-[#050505]/50 border-2 border-[#F6F2EE]",children:[l.jsx("p",{className:"text-[#F6F2EE] text-xs uppercase tracking-wide mb-1 opacity-75",children:"Annual"}),l.jsxs("p",{className:"text-[#FFD700] font-bold text-lg",children:["$",Math.floor(b)]})]}),l.jsxs("div",{className:"p-3 bg-[#050505]/50 border-2 border-[#F6F2EE]",children:[l.jsx("p",{className:"text-[#F6F2EE] text-xs uppercase tracking-wide mb-1 opacity-75",children:"Potential"}),l.jsxs("p",{className:"text-[#FF7A59] font-bold text-lg",children:["$",Math.floor(x)]})]})]})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:[l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"p-5 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-2 flex items-center gap-2",children:[l.jsx(rr,{className:"w-5 h-5 text-[#8A4FFF]"}),"Your Commission Rate"]}),l.jsxs("p",{className:"text-[#A0A0A0] text-xs",children:["Based on ",t.current_rank," rank"]})]}),l.jsx("div",{className:"text-right",children:l.jsxs(U.p,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"text-4xl font-bold text-[#8A4FFF]",children:[d*100,"%"]})})]}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Upgrade your rank to unlock higher commission rates and longer rev-share periods."})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"p-5 bg-[#151515] border-3 border-[#8A4FFF]",children:[l.jsxs("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-4 flex items-center gap-2",children:[l.jsx(Nt,{className:"w-5 h-5 text-[#8A4FFF]"}),"How Rev-Share Works"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-[#8A4FFF] border-2 border-[#F6F2EE] flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-[#F6F2EE] font-bold",children:"1"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:"Sign Venues"}),l.jsxs("p",{className:"text-[#A0A0A0] text-sm",children:["You earn ",d*100,"% of platform fees from venues you sign"]})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-[#8A4FFF] border-2 border-[#F6F2EE] flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-[#F6F2EE] font-bold",children:"2"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:"Recurring Revenue"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Earn monthly as long as venues stay active on the platform"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-[#8A4FFF] border-2 border-[#F6F2EE] flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-[#F6F2EE] font-bold",children:"3"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:"Get Paid"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Payments made monthly, net 30 days via direct deposit"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-[#FFD700] border-2 border-[#F6F2EE] flex items-center justify-center flex-shrink-0",children:l.jsx(Nt,{className:"w-5 h-5 text-[#050505]"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[#FFD700] font-bold mb-1",children:"Rank Up for More"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Higher ranks = higher commission rates & longer rev-share periods"})]})]})]})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[l.jsxs("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm mb-3 flex items-center gap-2",children:[l.jsx(zt,{className:"w-5 h-5 text-[#8A4FFF]"}),"Active Venues"]}),r.length===0?l.jsxs("div",{className:"text-center py-12 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsx(Cr,{className:"w-16 h-16 text-[#A0A0A0] mx-auto mb-4"}),l.jsx("p",{className:"text-[#A0A0A0] mb-2",children:"No venues generating revenue yet"}),l.jsx("p",{className:"text-[#8A4FFF] text-sm",children:"Start signing venues to build your income!"})]}):l.jsx("div",{className:"space-y-2",children:r.map((w,F)=>{const _=w.status==="live",j=v*d;return l.jsxs(U.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4+F*.05},className:`p-4 border-3 ${_?"bg-[#151515] border-[#00FF00]":"bg-[#0A0A0A] border-[#FFD700]"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"text-[#F6F2EE] font-bold",children:w.venue_name}),_?l.jsx("div",{className:"px-2 py-0.5 bg-[#00FF00] border-2 border-[#F6F2EE]",children:l.jsx("span",{className:"text-[#050505] text-xs font-bold uppercase",children:"Live"})}):l.jsx("div",{className:"px-2 py-0.5 bg-[#FFD700] border-2 border-[#F6F2EE]",children:l.jsx("span",{className:"text-[#050505] text-xs font-bold uppercase",children:"Pending"})})]}),l.jsx("p",{className:"text-[#A0A0A0] text-xs",children:w.address})]}),l.jsxs("div",{className:"text-right ml-4",children:[l.jsxs("p",{className:`font-bold ${_?"text-[#00FF00]":"text-[#FFD700]"}`,children:["$",Math.floor(j)]}),l.jsx("p",{className:"text-[#A0A0A0] text-xs",children:"/month"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#A0A0A0] mt-2",children:[l.jsx(ea,{className:"w-3 h-3"}),l.jsxs("span",{children:["Added ",Math.floor((Date.now()-new Date(w.created_at).getTime())/(1e3*60*60*24))," days ago"]})]})]},w.id)})})]}),l.jsx(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"p-4 bg-[#0A0A0A] border-2 border-[#F6F2EE]",children:l.jsxs("p",{className:"text-[#A0A0A0] text-xs",children:[l.jsx("strong",{className:"text-[#F6F2EE]",children:"Note:"})," Earnings shown are estimates based on average platform fees. Actual earnings may vary based on venue subscription tier and activity. Final payments calculated from actual billing data."]})})]})]})}var bc="Switch",[hP]=vc(bc),[fP,pP]=hP(bc),ew=k.forwardRef((t,e)=>{const{__scopeSwitch:r,name:s,checked:o,defaultChecked:a,required:u,disabled:d,value:f="on",onCheckedChange:p,form:v,...g}=t,[x,b]=k.useState(null),w=nr(e,A=>b(A)),F=k.useRef(!1),_=x?v||!!x.closest("form"):!0,[j,S]=Nf({prop:o,defaultProp:a??!1,onChange:p,caller:bc});return l.jsxs(fP,{scope:r,checked:j,disabled:d,children:[l.jsx(Ht.button,{type:"button",role:"switch","aria-checked":j,"aria-required":u,"data-state":sw(j),"data-disabled":d?"":void 0,disabled:d,value:f,...g,ref:w,onClick:yr(t.onClick,A=>{S(T=>!T),_&&(F.current=A.isPropagationStopped(),F.current||A.stopPropagation())})}),_&&l.jsx(nw,{control:x,bubbles:!F.current,name:s,value:f,checked:j,required:u,disabled:d,form:v,style:{transform:"translateX(-100%)"}})]})});ew.displayName=bc;var tw="SwitchThumb",rw=k.forwardRef((t,e)=>{const{__scopeSwitch:r,...s}=t,o=pP(tw,r);return l.jsx(Ht.span,{"data-state":sw(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})});rw.displayName=tw;var mP="SwitchBubbleInput",nw=k.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:s=!0,...o},a)=>{const u=k.useRef(null),d=nr(u,a),f=Ub(r),p=zb(e);return k.useEffect(()=>{const v=u.current;if(!v)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&b){const w=new Event("click",{bubbles:s});b.call(v,r),v.dispatchEvent(w)}},[f,r,s]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:d,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nw.displayName=mP;function sw(t){return t?"checked":"unchecked"}var gP=ew,vP=rw;function Cv({className:t,...e}){return l.jsx(gP,{"data-slot":"switch",className:Rt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(vP,{"data-slot":"switch-thumb",className:Rt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var yP=Rh[" useId ".trim().toString()]||(()=>{}),xP=0;function Md(t){const[e,r]=k.useState(yP());return _i(()=>{r(s=>s??String(xP++))},[t]),t||(e?`radix-${e}`:"")}function Ko(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...r)=>e.current?.(...r),[])}function bP(t,e=globalThis?.document){const r=Ko(t);k.useEffect(()=>{const s=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var wP="DismissableLayer",Nh="dismissableLayer.update",EP="dismissableLayer.pointerDownOutside",FP="dismissableLayer.focusOutside",Tv,iw=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ow=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...f}=t,p=k.useContext(iw),[v,g]=k.useState(null),x=v?.ownerDocument??globalThis?.document,[,b]=k.useState({}),w=nr(e,M=>g(M)),F=Array.from(p.layers),[_]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=F.indexOf(_),S=v?F.indexOf(v):-1,A=p.layersWithOutsidePointerEventsDisabled.size>0,T=S>=j,I=jP(M=>{const O=M.target,X=[...p.branches].some(le=>le.contains(O));!T||X||(o?.(M),u?.(M),M.defaultPrevented||d?.())},x),V=AP(M=>{const O=M.target;[...p.branches].some(le=>le.contains(O))||(a?.(M),u?.(M),M.defaultPrevented||d?.())},x);return bP(M=>{S===p.layers.size-1&&(s?.(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},x),k.useEffect(()=>{if(v)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Tv=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),Pv(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Tv)}},[v,x,r,p]),k.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),Pv())},[v,p]),k.useEffect(()=>{const M=()=>b({});return document.addEventListener(Nh,M),()=>document.removeEventListener(Nh,M)},[]),l.jsx(Ht.div,{...f,ref:w,style:{pointerEvents:A?T?"auto":"none":void 0,...t.style},onFocusCapture:yr(t.onFocusCapture,V.onFocusCapture),onBlurCapture:yr(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:yr(t.onPointerDownCapture,I.onPointerDownCapture)})});ow.displayName=wP;var _P="DismissableLayerBranch",kP=k.forwardRef((t,e)=>{const r=k.useContext(iw),s=k.useRef(null),o=nr(e,s);return k.useEffect(()=>{const a=s.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),l.jsx(Ht.div,{...t,ref:o})});kP.displayName=_P;function jP(t,e=globalThis?.document){const r=Ko(t),s=k.useRef(!1),o=k.useRef(()=>{});return k.useEffect(()=>{const a=d=>{if(d.target&&!s.current){let f=function(){aw(EP,r,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function AP(t,e=globalThis?.document){const r=Ko(t),s=k.useRef(!1);return k.useEffect(()=>{const o=a=>{a.target&&!s.current&&aw(FP,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Pv(){const t=new CustomEvent(Nh);document.dispatchEvent(t)}function aw(t,e,r,{discrete:s}){const o=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),s?C5(o,a):o.dispatchEvent(a)}var $d="focusScope.autoFocusOnMount",Bd="focusScope.autoFocusOnUnmount",Rv={bubbles:!1,cancelable:!0},SP="FocusScope",lw=k.forwardRef((t,e)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...u}=t,[d,f]=k.useState(null),p=Ko(o),v=Ko(a),g=k.useRef(null),x=nr(e,F=>f(F)),b=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(s){let F=function(A){if(b.paused||!d)return;const T=A.target;d.contains(T)?g.current=T:In(g.current,{select:!0})},_=function(A){if(b.paused||!d)return;const T=A.relatedTarget;T!==null&&(d.contains(T)||In(g.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const I of A)I.removedNodes.length>0&&In(d)};document.addEventListener("focusin",F),document.addEventListener("focusout",_);const S=new MutationObserver(j);return d&&S.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",F),document.removeEventListener("focusout",_),S.disconnect()}}},[s,d,b.paused]),k.useEffect(()=>{if(d){Dv.add(b);const F=document.activeElement;if(!d.contains(F)){const j=new CustomEvent($d,Rv);d.addEventListener($d,p),d.dispatchEvent(j),j.defaultPrevented||(NP(OP(cw(d)),{select:!0}),document.activeElement===F&&In(d))}return()=>{d.removeEventListener($d,p),setTimeout(()=>{const j=new CustomEvent(Bd,Rv);d.addEventListener(Bd,v),d.dispatchEvent(j),j.defaultPrevented||In(F??document.body,{select:!0}),d.removeEventListener(Bd,v),Dv.remove(b)},0)}}},[d,p,v,b]);const w=k.useCallback(F=>{if(!r&&!s||b.paused)return;const _=F.key==="Tab"&&!F.altKey&&!F.ctrlKey&&!F.metaKey,j=document.activeElement;if(_&&j){const S=F.currentTarget,[A,T]=CP(S);A&&T?!F.shiftKey&&j===T?(F.preventDefault(),r&&In(A,{select:!0})):F.shiftKey&&j===A&&(F.preventDefault(),r&&In(T,{select:!0})):j===S&&F.preventDefault()}},[r,s,b.paused]);return l.jsx(Ht.div,{tabIndex:-1,...u,ref:x,onKeyDown:w})});lw.displayName=SP;function NP(t,{select:e=!1}={}){const r=document.activeElement;for(const s of t)if(In(s,{select:e}),document.activeElement!==r)return}function CP(t){const e=cw(t),r=Ov(e,t),s=Ov(e.reverse(),t);return[r,s]}function cw(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Ov(t,e){for(const r of t)if(!TP(r,{upTo:e}))return r}function TP(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function PP(t){return t instanceof HTMLInputElement&&"select"in t}function In(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&PP(t)&&e&&t.select()}}var Dv=RP();function RP(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=Iv(t,e),t.unshift(e)},remove(e){t=Iv(t,e),t[0]?.resume()}}}function Iv(t,e){const r=[...t],s=r.indexOf(e);return s!==-1&&r.splice(s,1),r}function OP(t){return t.filter(e=>e.tagName!=="A")}var DP="Portal",uw=k.forwardRef((t,e)=>{const{container:r,...s}=t,[o,a]=k.useState(!1);_i(()=>a(!0),[]);const u=r||o&&globalThis?.document?.body;return u?Vy.createPortal(l.jsx(Ht.div,{...s,ref:e}),u):null});uw.displayName=DP;var Vd=0;function IP(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Lv()),document.body.insertAdjacentElement("beforeend",t[1]??Lv()),Vd++,()=>{Vd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Vd--}},[])}function Lv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Hl="right-scroll-bar-position",ql="width-before-scroll-bar",LP="with-scroll-bars-hidden",MP="--removed-body-scroll-bar-size";function Ud(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $P(t,e){var r=k.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(s){var o=r.value;o!==s&&(r.value=s,r.callback(s,o))}}}})[0];return r.callback=e,r.facade}var BP=typeof window<"u"?k.useLayoutEffect:k.useEffect,Mv=new WeakMap;function VP(t,e){var r=$P(null,function(s){return t.forEach(function(o){return Ud(o,s)})});return BP(function(){var s=Mv.get(r);if(s){var o=new Set(s),a=new Set(t),u=r.current;o.forEach(function(d){a.has(d)||Ud(d,null)}),a.forEach(function(d){o.has(d)||Ud(d,u)})}Mv.set(r,t)},[t]),r}function UP(t){return t}function zP(t,e){e===void 0&&(e=UP);var r=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var u=e(a,s);return r.push(u),function(){r=r.filter(function(d){return d!==u})}},assignSyncMedium:function(a){for(s=!0;r.length;){var u=r;r=[],u.forEach(a)}r={push:function(d){return a(d)},filter:function(){return r}}},assignMedium:function(a){s=!0;var u=[];if(r.length){var d=r;r=[],d.forEach(a),u=r}var f=function(){var v=u;u=[],v.forEach(a)},p=function(){return Promise.resolve().then(f)};p(),r={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),r}}}};return o}function WP(t){t===void 0&&(t={});var e=zP(null);return e.options=mr({async:!0,ssr:!1},t),e}var dw=function(t){var e=t.sideCar,r=Vn(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return k.createElement(s,mr({},r))};dw.isSideCarExport=!0;function HP(t,e){return t.useMedium(e),dw}var hw=WP(),zd=function(){},wc=k.forwardRef(function(t,e){var r=k.useRef(null),s=k.useState({onScrollCapture:zd,onWheelCapture:zd,onTouchMoveCapture:zd}),o=s[0],a=s[1],u=t.forwardProps,d=t.children,f=t.className,p=t.removeScrollBar,v=t.enabled,g=t.shards,x=t.sideCar,b=t.noRelative,w=t.noIsolation,F=t.inert,_=t.allowPinchZoom,j=t.as,S=j===void 0?"div":j,A=t.gapMode,T=Vn(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=x,V=VP([r,e]),M=mr(mr({},T),o);return k.createElement(k.Fragment,null,v&&k.createElement(I,{sideCar:hw,removeScrollBar:p,shards:g,noRelative:b,noIsolation:w,inert:F,setCallbacks:a,allowPinchZoom:!!_,lockRef:r,gapMode:A}),u?k.cloneElement(k.Children.only(d),mr(mr({},M),{ref:V})):k.createElement(S,mr({},M,{className:f,ref:V}),d))});wc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wc.classNames={fullWidth:ql,zeroRight:Hl};var qP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KP(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qP();return e&&t.setAttribute("nonce",e),t}function GP(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function YP(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var XP=function(){var t=0,e=null;return{add:function(r){t==0&&(e=KP())&&(GP(e,r),YP(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},JP=function(){var t=XP();return function(e,r){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},fw=function(){var t=JP(),e=function(r){var s=r.styles,o=r.dynamic;return t(s,o),null};return e},QP={left:0,top:0,right:0,gap:0},Wd=function(t){return parseInt(t||"",10)||0},ZP=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[Wd(r),Wd(s),Wd(o)]},eR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return QP;var e=ZP(t),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-r+e[2]-e[0])}},tR=fw(),mi="data-scroll-locked",rR=function(t,e,r,s){var o=t.left,a=t.top,u=t.right,d=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(LP,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(mi,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hl,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(ql,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Hl," .").concat(Hl,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ql," .").concat(ql,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(mi,`] {
    `).concat(MP,": ").concat(d,`px;
  }
`)},$v=function(){var t=parseInt(document.body.getAttribute(mi)||"0",10);return isFinite(t)?t:0},nR=function(){k.useEffect(function(){return document.body.setAttribute(mi,($v()+1).toString()),function(){var t=$v()-1;t<=0?document.body.removeAttribute(mi):document.body.setAttribute(mi,t.toString())}},[])},sR=function(t){var e=t.noRelative,r=t.noImportant,s=t.gapMode,o=s===void 0?"margin":s;nR();var a=k.useMemo(function(){return eR(o)},[o]);return k.createElement(tR,{styles:rR(a,!e,o,r?"":"!important")})},Ch=!1;if(typeof window<"u")try{var Ol=Object.defineProperty({},"passive",{get:function(){return Ch=!0,!0}});window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{Ch=!1}var ni=Ch?{passive:!1}:!1,iR=function(t){return t.tagName==="TEXTAREA"},pw=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!iR(t)&&r[e]==="visible")},oR=function(t){return pw(t,"overflowY")},aR=function(t){return pw(t,"overflowX")},Bv=function(t,e){var r=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=mw(t,s);if(o){var a=gw(t,s),u=a[1],d=a[2];if(u>d)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},lR=function(t){var e=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;return[e,r,s]},cR=function(t){var e=t.scrollLeft,r=t.scrollWidth,s=t.clientWidth;return[e,r,s]},mw=function(t,e){return t==="v"?oR(e):aR(e)},gw=function(t,e){return t==="v"?lR(e):cR(e)},uR=function(t,e){return t==="h"&&e==="rtl"?-1:1},dR=function(t,e,r,s,o){var a=uR(t,window.getComputedStyle(e).direction),u=a*s,d=r.target,f=e.contains(d),p=!1,v=u>0,g=0,x=0;do{if(!d)break;var b=gw(t,d),w=b[0],F=b[1],_=b[2],j=F-_-a*w;(w||j)&&mw(t,d)&&(g+=j,x+=w);var S=d.parentNode;d=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(v&&Math.abs(g)<1||!v&&Math.abs(x)<1)&&(p=!0),p},Dl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Vv=function(t){return[t.deltaX,t.deltaY]},Uv=function(t){return t&&"current"in t?t.current:t},hR=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fR=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pR=0,si=[];function mR(t){var e=k.useRef([]),r=k.useRef([0,0]),s=k.useRef(),o=k.useState(pR++)[0],a=k.useState(fw)[0],u=k.useRef(t);k.useEffect(function(){u.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var F=Dh([t.lockRef.current],(t.shards||[]).map(Uv),!0).filter(Boolean);return F.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),F.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var d=k.useCallback(function(F,_){if("touches"in F&&F.touches.length===2||F.type==="wheel"&&F.ctrlKey)return!u.current.allowPinchZoom;var j=Dl(F),S=r.current,A="deltaX"in F?F.deltaX:S[0]-j[0],T="deltaY"in F?F.deltaY:S[1]-j[1],I,V=F.target,M=Math.abs(A)>Math.abs(T)?"h":"v";if("touches"in F&&M==="h"&&V.type==="range")return!1;var O=Bv(M,V);if(!O)return!0;if(O?I=M:(I=M==="v"?"h":"v",O=Bv(M,V)),!O)return!1;if(!s.current&&"changedTouches"in F&&(A||T)&&(s.current=I),!I)return!0;var X=s.current||I;return dR(X,_,F,X==="h"?A:T)},[]),f=k.useCallback(function(F){var _=F;if(!(!si.length||si[si.length-1]!==a)){var j="deltaY"in _?Vv(_):Dl(_),S=e.current.filter(function(I){return I.name===_.type&&(I.target===_.target||_.target===I.shadowParent)&&hR(I.delta,j)})[0];if(S&&S.should){_.cancelable&&_.preventDefault();return}if(!S){var A=(u.current.shards||[]).map(Uv).filter(Boolean).filter(function(I){return I.contains(_.target)}),T=A.length>0?d(_,A[0]):!u.current.noIsolation;T&&_.cancelable&&_.preventDefault()}}},[]),p=k.useCallback(function(F,_,j,S){var A={name:F,delta:_,target:j,should:S,shadowParent:gR(j)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(T){return T!==A})},1)},[]),v=k.useCallback(function(F){r.current=Dl(F),s.current=void 0},[]),g=k.useCallback(function(F){p(F.type,Vv(F),F.target,d(F,t.lockRef.current))},[]),x=k.useCallback(function(F){p(F.type,Dl(F),F.target,d(F,t.lockRef.current))},[]);k.useEffect(function(){return si.push(a),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",f,ni),document.addEventListener("touchmove",f,ni),document.addEventListener("touchstart",v,ni),function(){si=si.filter(function(F){return F!==a}),document.removeEventListener("wheel",f,ni),document.removeEventListener("touchmove",f,ni),document.removeEventListener("touchstart",v,ni)}},[]);var b=t.removeScrollBar,w=t.inert;return k.createElement(k.Fragment,null,w?k.createElement(a,{styles:fR(o)}):null,b?k.createElement(sR,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function gR(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const vR=HP(hw,mR);var vw=k.forwardRef(function(t,e){return k.createElement(wc,mr({},t,{ref:e,sideCar:vR}))});vw.classNames=wc.classNames;var yR=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ii=new WeakMap,Il=new WeakMap,Ll={},Hd=0,yw=function(t){return t&&(t.host||yw(t.parentNode))},xR=function(t,e){return e.map(function(r){if(t.contains(r))return r;var s=yw(r);return s&&t.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},bR=function(t,e,r,s){var o=xR(e,Array.isArray(t)?t:[t]);Ll[r]||(Ll[r]=new WeakMap);var a=Ll[r],u=[],d=new Set,f=new Set(o),p=function(g){!g||d.has(g)||(d.add(g),p(g.parentNode))};o.forEach(p);var v=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(x){if(d.has(x))v(x);else try{var b=x.getAttribute(s),w=b!==null&&b!=="false",F=(ii.get(x)||0)+1,_=(a.get(x)||0)+1;ii.set(x,F),a.set(x,_),u.push(x),F===1&&w&&Il.set(x,!0),_===1&&x.setAttribute(r,"true"),w||x.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",x,j)}})};return v(e),d.clear(),Hd++,function(){u.forEach(function(g){var x=ii.get(g)-1,b=a.get(g)-1;ii.set(g,x),a.set(g,b),x||(Il.has(g)||g.removeAttribute(s),Il.delete(g)),b||g.removeAttribute(r)}),Hd--,Hd||(ii=new WeakMap,ii=new WeakMap,Il=new WeakMap,Ll={})}},wR=function(t,e,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),o=yR(t);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),bR(s,o,r,"aria-hidden")):function(){return null}};function ER(t){const e=FR(t),r=k.forwardRef((s,o)=>{const{children:a,...u}=s,d=k.Children.toArray(a),f=d.find(kR);if(f){const p=f.props.children,v=d.map(g=>g===f?k.Children.count(p)>1?k.Children.only(null):k.isValidElement(p)?p.props.children:null:g);return l.jsx(e,{...u,ref:o,children:k.isValidElement(p)?k.cloneElement(p,void 0,v):null})}return l.jsx(e,{...u,ref:o,children:a})});return r.displayName=`${t}.Slot`,r}function FR(t){const e=k.forwardRef((r,s)=>{const{children:o,...a}=r;if(k.isValidElement(o)){const u=AR(o),d=jR(a,o.props);return o.type!==k.Fragment&&(d.ref=s?uc(s,u):u),k.cloneElement(o,d)}return k.Children.count(o)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _R=Symbol("radix.slottable");function kR(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_R}function jR(t,e){const r={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?r[s]=(...d)=>{const f=a(...d);return o(...d),f}:o&&(r[s]=o):s==="style"?r[s]={...o,...a}:s==="className"&&(r[s]=[o,a].filter(Boolean).join(" "))}return{...t,...r}}function AR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Ec="Dialog",[xw,bw]=vc(Ec),[SR,Pr]=xw(Ec),ww=t=>{const{__scopeDialog:e,children:r,open:s,defaultOpen:o,onOpenChange:a,modal:u=!0}=t,d=k.useRef(null),f=k.useRef(null),[p,v]=Nf({prop:s,defaultProp:o??!1,onChange:a,caller:Ec});return l.jsx(SR,{scope:e,triggerRef:d,contentRef:f,contentId:Md(),titleId:Md(),descriptionId:Md(),open:p,onOpenChange:v,onOpenToggle:k.useCallback(()=>v(g=>!g),[v]),modal:u,children:r})};ww.displayName=Ec;var Ew="DialogTrigger",Fw=k.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,o=Pr(Ew,r),a=nr(e,o.triggerRef);return l.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":If(o.open),...s,ref:a,onClick:yr(t.onClick,o.onOpenToggle)})});Fw.displayName=Ew;var Of="DialogPortal",[NR,_w]=xw(Of,{forceMount:void 0}),kw=t=>{const{__scopeDialog:e,forceMount:r,children:s,container:o}=t,a=Pr(Of,e);return l.jsx(NR,{scope:e,forceMount:r,children:k.Children.map(s,u=>l.jsx(ta,{present:r||a.open,children:l.jsx(uw,{asChild:!0,container:o,children:u})}))})};kw.displayName=Of;var ic="DialogOverlay",jw=k.forwardRef((t,e)=>{const r=_w(ic,t.__scopeDialog),{forceMount:s=r.forceMount,...o}=t,a=Pr(ic,t.__scopeDialog);return a.modal?l.jsx(ta,{present:s||a.open,children:l.jsx(TR,{...o,ref:e})}):null});jw.displayName=ic;var CR=ER("DialogOverlay.RemoveScroll"),TR=k.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,o=Pr(ic,r);return l.jsx(vw,{as:CR,allowPinchZoom:!0,shards:[o.contentRef],children:l.jsx(Ht.div,{"data-state":If(o.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Fs="DialogContent",Aw=k.forwardRef((t,e)=>{const r=_w(Fs,t.__scopeDialog),{forceMount:s=r.forceMount,...o}=t,a=Pr(Fs,t.__scopeDialog);return l.jsx(ta,{present:s||a.open,children:a.modal?l.jsx(PR,{...o,ref:e}):l.jsx(RR,{...o,ref:e})})});Aw.displayName=Fs;var PR=k.forwardRef((t,e)=>{const r=Pr(Fs,t.__scopeDialog),s=k.useRef(null),o=nr(e,r.contentRef,s);return k.useEffect(()=>{const a=s.current;if(a)return wR(a)},[]),l.jsx(Sw,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yr(t.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:yr(t.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&a.preventDefault()}),onFocusOutside:yr(t.onFocusOutside,a=>a.preventDefault())})}),RR=k.forwardRef((t,e)=>{const r=Pr(Fs,t.__scopeDialog),s=k.useRef(!1),o=k.useRef(!1);return l.jsx(Sw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||r.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=a.target;r.triggerRef.current?.contains(u)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Sw=k.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,...u}=t,d=Pr(Fs,r),f=k.useRef(null),p=nr(e,f);return IP(),l.jsxs(l.Fragment,{children:[l.jsx(lw,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a,children:l.jsx(ow,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":If(d.open),...u,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(DR,{titleId:d.titleId}),l.jsx(LR,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Df="DialogTitle",Nw=k.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,o=Pr(Df,r);return l.jsx(Ht.h2,{id:o.titleId,...s,ref:e})});Nw.displayName=Df;var Cw="DialogDescription",Tw=k.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,o=Pr(Cw,r);return l.jsx(Ht.p,{id:o.descriptionId,...s,ref:e})});Tw.displayName=Cw;var Pw="DialogClose",Rw=k.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,o=Pr(Pw,r);return l.jsx(Ht.button,{type:"button",...s,ref:e,onClick:yr(t.onClick,()=>o.onOpenChange(!1))})});Rw.displayName=Pw;function If(t){return t?"open":"closed"}var Ow="DialogTitleWarning",[OR,Dw]=m5(Ow,{contentName:Fs,titleName:Df,docsSlug:"dialog"}),DR=({titleId:t})=>{const e=Dw(Ow),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},IR="DialogDescriptionWarning",LR=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Dw(IR).contentName}}.`;return k.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},MR=ww,$R=Fw,BR=kw,VR=jw,UR=Aw,zR=Nw,WR=Tw,Iw=Rw,HR=Symbol("radix.slottable");function qR(t){const e=({children:r})=>l.jsx(l.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=HR,e}var Lw="AlertDialog",[KR]=vc(Lw,[bw]),on=bw(),Mw=t=>{const{__scopeAlertDialog:e,...r}=t,s=on(e);return l.jsx(MR,{...s,...r,modal:!0})};Mw.displayName=Lw;var GR="AlertDialogTrigger",$w=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,o=on(r);return l.jsx($R,{...o,...s,ref:e})});$w.displayName=GR;var YR="AlertDialogPortal",Bw=t=>{const{__scopeAlertDialog:e,...r}=t,s=on(e);return l.jsx(BR,{...s,...r})};Bw.displayName=YR;var XR="AlertDialogOverlay",Vw=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,o=on(r);return l.jsx(VR,{...o,...s,ref:e})});Vw.displayName=XR;var gi="AlertDialogContent",[JR,QR]=KR(gi),ZR=qR("AlertDialogContent"),Uw=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:s,...o}=t,a=on(r),u=k.useRef(null),d=nr(e,u),f=k.useRef(null);return l.jsx(OR,{contentName:gi,titleName:zw,docsSlug:"alert-dialog",children:l.jsx(JR,{scope:r,cancelRef:f,children:l.jsxs(UR,{role:"alertdialog",...a,...o,ref:d,onOpenAutoFocus:yr(o.onOpenAutoFocus,p=>{p.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[l.jsx(ZR,{children:s}),l.jsx(t4,{contentRef:u})]})})})});Uw.displayName=gi;var zw="AlertDialogTitle",Ww=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,o=on(r);return l.jsx(zR,{...o,...s,ref:e})});Ww.displayName=zw;var Hw="AlertDialogDescription",qw=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,o=on(r);return l.jsx(WR,{...o,...s,ref:e})});qw.displayName=Hw;var e4="AlertDialogAction",Kw=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,o=on(r);return l.jsx(Iw,{...o,...s,ref:e})});Kw.displayName=e4;var Gw="AlertDialogCancel",Yw=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,{cancelRef:o}=QR(Gw,r),a=on(r),u=nr(e,o);return l.jsx(Iw,{...a,...s,ref:u})});Yw.displayName=Gw;var t4=({contentRef:t})=>{const e=`\`${gi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gi}\` by passing a \`${Hw}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return k.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},r4=Mw,n4=$w,s4=Bw,i4=Vw,o4=Uw,a4=Kw,l4=Yw,c4=Ww,u4=qw;function d4({...t}){return l.jsx(r4,{"data-slot":"alert-dialog",...t})}function h4({...t}){return l.jsx(n4,{"data-slot":"alert-dialog-trigger",...t})}function f4({...t}){return l.jsx(s4,{"data-slot":"alert-dialog-portal",...t})}function p4({className:t,...e}){return l.jsx(i4,{"data-slot":"alert-dialog-overlay",className:Rt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function m4({className:t,...e}){return l.jsxs(f4,{children:[l.jsx(p4,{}),l.jsx(o4,{"data-slot":"alert-dialog-content",className:Rt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function g4({className:t,...e}){return l.jsx("div",{"data-slot":"alert-dialog-header",className:Rt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function v4({className:t,...e}){return l.jsx("div",{"data-slot":"alert-dialog-footer",className:Rt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function y4({className:t,...e}){return l.jsx(c4,{"data-slot":"alert-dialog-title",className:Rt("text-lg font-semibold",t),...e})}function x4({className:t,...e}){return l.jsx(u4,{"data-slot":"alert-dialog-description",className:Rt("text-muted-foreground text-sm",t),...e})}function b4({className:t,...e}){return l.jsx(a4,{className:Rt(Wh(),t),...e})}function w4({className:t,...e}){return l.jsx(l4,{className:Rt(Wh({variant:"outline"}),t),...e})}const qd=cc("Browser",{web:()=>Oo(()=>import("./web-DTTCjsnG.js"),[]).then(t=>new t.BrowserWeb)});function E4({user:t,onBack:e,onNavigate:r}){const[s,o]=k.useState(t.preferences?.email_notifications??!0),[a,u]=k.useState(t.preferences?.push_notifications??!0),[d,f]=k.useState(!1),[p,v]=k.useState("");async function g(){try{await qd.open({url:"https://patronpass.com/privacy"})}catch{window.open("https://patronpass.com/privacy","_blank")}}async function x(){try{await qd.open({url:"https://patronpass.com/terms"})}catch{window.open("https://patronpass.com/terms","_blank")}}async function b(){try{await qd.open({url:"https://patronpass.com/support"})}catch{window.open("https://patronpass.com/support","_blank")}}async function w(){const A="support@patronpass.com";window.location.href=`mailto:${A}`}async function F(){f(!0);try{const{error:A}=await Te.from("street_users").update({preferences:{email_notifications:s,push_notifications:a}}).eq("id",t.id);if(A)throw A;Le.success("Locked in!",{description:"Your preferences have been saved"})}catch(A){console.error("Error saving preferences:",A),Le.error("Failed to save preferences")}finally{f(!1)}}async function _(){try{const{error:A}=await Te.auth.resetPasswordForEmail(t.email,{redirectTo:window.location.origin});if(A)throw A;Le.success("Reset email sent",{description:"Check your inbox for the password reset link"})}catch(A){console.error("Error sending reset email:",A),Le.error("Failed to send reset email")}}async function j(){try{const{error:A}=await Te.from("street_account_deletion_requests").insert({user_id:t.id,reason:p||null,status:"pending"});if(A){console.error("Deletion request error:",A),Le.info("Account deletion requested",{description:"Contact support to complete deletion"});return}Le.success("Deletion request submitted",{description:"Your account will be reviewed within 48 hours"})}catch(A){console.error("Error requesting deletion:",A),Le.error("Failed to submit deletion request")}}const S=s!==(t.preferences?.email_notifications??!0)||a!==(t.preferences?.push_notifications??!0);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-[#050505]",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#8A4FFF] via-[#FF7A59] to-[#8A4FFF]"}),l.jsx("div",{className:"border-b-4 border-[#F6F2EE] bg-[#151515] px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-[#8A4FFF] transition-colors border-2 border-[#F6F2EE] active:scale-95",children:l.jsx(Wt,{className:"w-5 h-5 text-[#F6F2EE]"})}),l.jsxs("h3",{className:"text-[#F6F2EE] flex-1 flex items-center gap-2",children:[l.jsx(Bb,{className:"w-6 h-6 text-[#8A4FFF]"}),"Settings"]})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 pb-24",children:[l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(bs,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm",children:"Notifications"})]}),l.jsxs("div",{className:"p-5 bg-[#151515] border-3 border-[#F6F2EE]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-[#F6F2EE]/20",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:"Email Notifications"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Get notified about rank ups, missions, and earnings via email"})]}),l.jsx(Cv,{checked:s,onCheckedChange:o,className:"ml-4"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-1",children:"Push Notifications"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Receive real-time updates on your device"})]}),l.jsx(Cv,{checked:a,onCheckedChange:u,className:"ml-4"})]})]}),S&&l.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:l.jsx(Oe,{onClick:F,disabled:d,className:"w-full h-12 bg-[#8A4FFF] hover:bg-[#7A3FEF] border-3 border-[#F6F2EE] text-[#F6F2EE] uppercase tracking-wider font-bold",children:d?l.jsx(U.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:l.jsx(Nt,{className:"w-5 h-5"})}):l.jsxs(l.Fragment,{children:[l.jsx(tn,{className:"w-5 h-5 mr-2"}),"Save Preferences"]})})})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(KT,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm",children:"Security"})]}),l.jsx("div",{className:"p-5 bg-[#151515] border-3 border-[#F6F2EE]",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Lb,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("p",{className:"text-[#F6F2EE] font-bold",children:"Password"})]}),l.jsx("p",{className:"text-[#A0A0A0] text-sm mb-3",children:"Change your password via email reset link"}),l.jsxs(Oe,{onClick:_,variant:"outline",className:"border-2 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515] uppercase text-xs tracking-wider",children:[l.jsx(Fi,{className:"w-4 h-4 mr-2"}),"Send Reset Email"]})]})})})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Pl,{className:"w-5 h-5 text-[#8A4FFF]"}),l.jsx("h4",{className:"text-[#F6F2EE] uppercase tracking-wider text-sm",children:"Legal & Support"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:g,className:"w-full p-4 bg-[#151515] border-2 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors text-left",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[#F6F2EE]",children:"Privacy Policy"}),l.jsx(Pl,{className:"w-4 h-4 text-[#A0A0A0]"})]})}),l.jsx("button",{onClick:x,className:"w-full p-4 bg-[#151515] border-2 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors text-left",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[#F6F2EE]",children:"Terms of Service"}),l.jsx(Pl,{className:"w-4 h-4 text-[#A0A0A0]"})]})}),l.jsx("button",{onClick:b,className:"w-full p-4 bg-[#151515] border-2 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors text-left",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[#F6F2EE]",children:"Help & Support"}),l.jsx(Pl,{className:"w-4 h-4 text-[#A0A0A0]"})]})}),l.jsx("button",{onClick:w,className:"w-full p-4 bg-[#151515] border-2 border-[#F6F2EE] hover:border-[#8A4FFF] transition-colors text-left",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[#F6F2EE]",children:"Contact Us"}),l.jsx(Fi,{className:"w-4 h-4 text-[#A0A0A0]"})]})})]})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"p-4 bg-[#0A0A0A] border-2 border-[#F6F2EE]",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"App Version"}),l.jsx("span",{className:"text-[#F6F2EE] font-bold",children:"1.0.0"})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[l.jsx("span",{className:"text-[#A0A0A0]",children:"User ID"}),l.jsxs("span",{className:"text-[#8A4FFF] font-mono text-xs",children:[t.id.slice(0,8),"..."]})]})]}),l.jsxs(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(jv,{className:"w-5 h-5 text-[#FF4444]"}),l.jsx("h4",{className:"text-[#FF4444] uppercase tracking-wider text-sm",children:"Danger Zone"})]}),l.jsxs("div",{className:"p-5 bg-[#151515] border-3 border-[#FF4444]",children:[l.jsx("p",{className:"text-[#F6F2EE] font-bold mb-2",children:"Delete Account"}),l.jsx("p",{className:"text-[#A0A0A0] text-sm mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),l.jsxs(d4,{children:[l.jsx(h4,{asChild:!0,children:l.jsxs(Oe,{variant:"outline",className:"w-full border-2 border-[#FF4444] text-[#FF4444] hover:bg-[#FF4444] hover:text-[#F6F2EE] uppercase text-xs tracking-wider",children:[l.jsx(jv,{className:"w-4 h-4 mr-2"}),"Request Account Deletion"]})}),l.jsxs(m4,{className:"bg-[#151515] border-4 border-[#FF4444]",children:[l.jsxs(g4,{children:[l.jsx(y4,{className:"text-[#F6F2EE]",children:"Delete Your Account?"}),l.jsx(x4,{className:"text-[#A0A0A0]",children:"This will permanently delete your account, all your leads, earnings history, and progress. This action cannot be undone."})]}),l.jsxs("div",{className:"my-4",children:[l.jsx(Label,{className:"text-[#F6F2EE] mb-2",children:"Why are you leaving? (optional)"}),l.jsx(gc,{value:p,onChange:A=>v(A.target.value),placeholder:"Help us improve...",className:"bg-[#050505] border-2 border-[#F6F2EE] text-[#F6F2EE]",rows:3})]}),l.jsxs(v4,{children:[l.jsx(w4,{className:"border-2 border-[#F6F2EE] text-[#F6F2EE] hover:bg-[#151515]",children:"Cancel"}),l.jsx(b4,{onClick:j,className:"bg-[#FF4444] hover:bg-[#EE3333] border-2 border-[#F6F2EE] text-[#F6F2EE]",children:"Delete Account"})]})]})]})]})]})]})]})}function F4(){const[t,e]=k.useState(!0),[r,s]=k.useState(!1),[o,a]=k.useState({totalLeads:0,liveVenues:0,activeAgents:0,totalRevenue:0,averageConversionRate:0}),[u,d]=k.useState([]),[f,p]=k.useState([]),[v,g]=k.useState({city:"",status:"",agentId:""});k.useEffect(()=>{x()},[]);async function x(){e(!0);try{const w=await tP(),{data:F}=await Te.from("street_applications").select("*").eq("status","pending").order("created_at",{ascending:!1}),_=await eP();a({totalLeads:w.totalLeads,liveVenues:w.liveVenues,activeAgents:w.activeAgents,totalRevenue:w.actualRevenue||w.estimatedRevenue,averageConversionRate:w.conversionRate}),d(F||[]),p(_)}catch(w){console.error("Error loading dashboard:",w),Le.error("Failed to load dashboard data")}finally{e(!1)}}async function b(){s(!0);try{const w=await Z5();w.success?Le.success(`Successfully synced ${w.syncedCount} leads to website CRM`):Le.error(`Sync completed with errors. ${w.syncedCount} synced, ${w.errors.length} failed.`)}catch(w){console.error("Error syncing:",w),Le.error("Failed to sync leads")}finally{s(!1)}}return t?l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsx("div",{className:"text-[#8A4FFF] animate-pulse",children:"Loading HQ Dashboard..."})}):l.jsxs("div",{className:"min-h-screen bg-[#050505] text-white p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-black text-[#8A4FFF] uppercase tracking-tight mb-2",children:"HQ Admin Dashboard"}),l.jsx("p",{className:"text-white/60",children:"Manage street team operations and performance"})]}),l.jsxs("div",{className:"flex gap-3 mb-8 flex-wrap",children:[l.jsxs("button",{onClick:x,className:"bg-[#8A4FFF] hover:bg-[#7a3fee] text-white px-4 py-2 border-4 border-black font-bold uppercase flex items-center gap-2 transition-colors",children:[l.jsx(VT,{className:"w-4 h-4"}),"Refresh"]}),l.jsxs("button",{onClick:b,disabled:r,className:"bg-[#FF7A59] hover:bg-[#ff6847] disabled:opacity-50 text-white px-4 py-2 border-4 border-black font-bold uppercase flex items-center gap-2 transition-colors",children:[l.jsx(bT,{className:"w-4 h-4"}),r?"Syncing...":"Sync to Website CRM"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[l.jsx(Ml,{title:"Total Leads",value:o.totalLeads,icon:l.jsx(zt,{className:"w-6 h-6"}),color:"#8A4FFF"}),l.jsx(Ml,{title:"Live Venues",value:o.liveVenues,icon:l.jsx(hT,{className:"w-6 h-6"}),color:"#00FF00"}),l.jsx(Ml,{title:"Active Agents",value:o.activeAgents,icon:l.jsx(s5,{className:"w-6 h-6"}),color:"#FF7A59"}),l.jsx(Ml,{title:"Monthly Revenue",value:`$${o.totalRevenue.toLocaleString()}`,icon:l.jsx(Cr,{className:"w-6 h-6"}),color:"#FFD700"})]}),l.jsx("div",{className:"bg-black border-4 border-[#8A4FFF] p-6 mb-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-white/60 uppercase tracking-wider mb-1",children:"Avg Conversion Rate"}),l.jsxs("div",{className:"text-4xl font-black text-[#8A4FFF]",children:[o.averageConversionRate,"%"]})]}),l.jsx(Tr,{className:"w-12 h-12 text-[#8A4FFF]"})]})}),u.length>0&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"text-2xl font-black text-[#FF7A59] uppercase tracking-tight mb-4",children:["Pending Applications (",u.length,")"]}),l.jsx("div",{className:"space-y-3",children:u.map(w=>l.jsx("div",{className:"bg-black border-4 border-[#FF7A59] p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg",children:w.full_name}),l.jsx("div",{className:"text-white/60",children:w.email}),l.jsxs("div",{className:"text-white/60 text-sm",children:[w.city,"  ",w.instagram_handle]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 border-2 border-black font-bold text-sm transition-colors",children:"Approve"}),l.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 border-2 border-black font-bold text-sm transition-colors",children:"Reject"})]})]})},w.id))})]}),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-black text-[#8A4FFF] uppercase tracking-tight mb-4",children:["All Leads (",f.length,")"]}),l.jsxs("div",{className:"flex gap-3 mb-4 flex-wrap",children:[l.jsxs("select",{value:v.status,onChange:w=>g({...v,status:w.target.value}),className:"bg-black border-2 border-[#8A4FFF] text-white px-3 py-2 font-bold",children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"new",children:"New"}),l.jsx("option",{value:"contacted",children:"Contacted"}),l.jsx("option",{value:"follow_up",children:"Follow Up"}),l.jsx("option",{value:"demo_scheduled",children:"Demo"}),l.jsx("option",{value:"verbal_yes",children:"Verbal Yes"}),l.jsx("option",{value:"signed_pending",children:"Signed Pending"}),l.jsx("option",{value:"live",children:"Live"})]}),l.jsx("input",{type:"text",placeholder:"Filter by city...",value:v.city,onChange:w=>g({...v,city:w.target.value}),className:"bg-black border-2 border-[#8A4FFF] text-white px-3 py-2 font-bold"})]}),l.jsx("div",{className:"bg-black border-4 border-[#8A4FFF] overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b-4 border-[#8A4FFF]",children:[l.jsx("th",{className:"text-left p-3 text-[#8A4FFF] uppercase tracking-wider",children:"Venue"}),l.jsx("th",{className:"text-left p-3 text-[#8A4FFF] uppercase tracking-wider",children:"Contact"}),l.jsx("th",{className:"text-left p-3 text-[#8A4FFF] uppercase tracking-wider",children:"Agent"}),l.jsx("th",{className:"text-left p-3 text-[#8A4FFF] uppercase tracking-wider",children:"City"}),l.jsx("th",{className:"text-left p-3 text-[#8A4FFF] uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"text-left p-3 text-[#8A4FFF] uppercase tracking-wider",children:"Heat"})]})}),l.jsx("tbody",{children:f.filter(w=>!(v.status&&w.status!==v.status||v.city&&!w.city?.toLowerCase().includes(v.city.toLowerCase()))).map(w=>l.jsxs("tr",{className:"border-b-2 border-white/10 hover:bg-white/5",children:[l.jsx("td",{className:"p-3 font-bold",children:w.venue_name}),l.jsx("td",{className:"p-3 text-white/80",children:w.contact_name}),l.jsxs("td",{className:"p-3 text-white/80",children:[w.agent?.full_name||"Unknown",l.jsxs("span",{className:"ml-2 text-xs text-[#8A4FFF]",children:["(",w.agent?.current_rank,")"]})]}),l.jsx("td",{className:"p-3 text-white/80",children:w.city}),l.jsx("td",{className:"p-3",children:l.jsx("span",{className:`px-2 py-1 text-xs font-bold uppercase ${_4(w.status)}`,children:w.status?.replace("_"," ")})}),l.jsx("td",{className:"p-3",children:l.jsx("span",{className:`text-2xl ${zv(w.heat_score)}`,children:zv(w.heat_score)})})]},w.id))})]})})]})]})}function Ml({title:t,value:e,icon:r,color:s}){return l.jsxs("div",{className:"bg-black border-4 p-4",style:{borderColor:s},children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-white/60 uppercase tracking-wider text-sm",children:t}),l.jsx("div",{style:{color:s},children:r})]}),l.jsx("div",{className:"text-3xl font-black",style:{color:s},children:e})]})}function _4(t){return{new:"bg-blue-600 text-white",contacted:"bg-purple-600 text-white",follow_up:"bg-yellow-600 text-black",demo_scheduled:"bg-orange-600 text-white",verbal_yes:"bg-pink-600 text-white",signed_pending:"bg-green-600 text-white",live:"bg-green-400 text-black"}[t]||"bg-gray-600 text-white"}function zv(t){return t?t>=8?"":t>=5?"":"":""}function k4({activeScreen:t,onNavigate:e}){const r=[{id:"dashboard",icon:jT,label:"Home"},{id:"pipeline",icon:Vr,label:"Leads"},{id:"missions",icon:zt,label:"Missions"},{id:"leaderboard",icon:Tr,label:"Ranks"},{id:"profile",icon:Af,label:"Profile"}];return l.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-[#151515] border-t-4 border-[#F6F2EE] safe-area-bottom",children:l.jsx("div",{className:"flex items-center justify-around px-2 py-2",children:r.map(s=>{const o=s.icon,a=t===s.id;return l.jsxs("button",{onClick:()=>e(s.id),className:`flex-1 flex flex-col items-center gap-1 py-2 transition-all ${a?"scale-105":""}`,children:[l.jsx("div",{className:`p-2 border-2 transition-colors ${a?"bg-[#8A4FFF] border-[#F6F2EE]":"bg-transparent border-[#F6F2EE] hover:border-[#8A4FFF]"}`,children:l.jsx(o,{className:`w-5 h-5 ${a?"text-[#F6F2EE]":"text-[#A0A0A0]"}`})}),l.jsx("span",{className:`text-xs uppercase tracking-widest ${a?"text-[#F6F2EE]":"text-[#A0A0A0]"}`,children:s.label})]},s.id)})})})}const j4={Bronze:Wl,Silver:jf,Gold:rn,Platinum:Ei,Diamond:Nt,"Black Key":Ei},_o={Bronze:"#CD7F32",Silver:"#C0C0C0",Gold:"#FFD700",Platinum:"#E5E4E2",Diamond:"#B9F2FF","Black Key":"#1A1A1A"};function A4({isOpen:t,previousRank:e,newRank:r,totalXP:s,onClose:o}){const[a,u]=k.useState(!1),d=j4[r]||rn;return k.useEffect(()=>{if(t){u(!0);const f=setTimeout(()=>{o()},5e3);return()=>clearTimeout(f)}else u(!1)},[t,o]),l.jsx(Qo,{children:t&&l.jsxs(l.Fragment,{children:[a&&l.jsx(S4,{}),l.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:o,className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:l.jsxs(U.div,{initial:{scale:.5,opacity:0,rotateY:-180},animate:{scale:1,opacity:1,rotateY:0},exit:{scale:.5,opacity:0,rotateY:180},transition:{type:"spring",duration:.8,bounce:.4},onClick:f=>f.stopPropagation(),className:"relative bg-black border-4 border-[#8A4FFF] max-w-md w-full p-8 shadow-2xl",style:{boxShadow:"0 0 40px rgba(138, 79, 255, 0.5), 0 0 80px rgba(138, 79, 255, 0.3)"},children:[l.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-white/60 hover:text-white transition-colors",children:l.jsx(Sf,{className:"w-6 h-6"})}),l.jsxs("div",{className:"text-center space-y-6",children:[l.jsx(U.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.3,type:"spring",duration:1},className:"flex justify-center",children:l.jsxs("div",{className:"w-32 h-32 border-4 flex items-center justify-center relative",style:{borderColor:_o[r],backgroundColor:`${_o[r]}20`},children:[l.jsx(d,{className:"w-16 h-16",style:{color:_o[r]}}),l.jsx(U.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{repeat:1/0,duration:2},className:"absolute inset-0 border-4",style:{borderColor:_o[r],filter:"blur(8px)"}})]})}),l.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-2",children:[l.jsx("h2",{className:"text-[#FF7A59] uppercase tracking-wider",children:"Rank Up!"}),l.jsx("div",{className:"space-y-1",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("span",{className:"text-white/60 line-through",children:e}),l.jsx("span",{className:"text-[#8A4FFF]",children:""}),l.jsx("span",{className:"text-2xl font-black uppercase tracking-tight",style:{color:_o[r]},children:r})]})})]}),l.jsxs(U.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7},className:"bg-[#8A4FFF]/10 border-2 border-[#8A4FFF] p-4",children:[l.jsx("div",{className:"text-white/60 uppercase tracking-wider mb-1",children:"Total XP"}),l.jsx("div",{className:"text-3xl font-black text-[#8A4FFF]",children:s.toLocaleString()})]}),l.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},className:"text-white/80",children:"You're moving up! Keep hustling to unlock more perks and higher commissions."}),l.jsx(U.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},onClick:o,className:"w-full bg-[#8A4FFF] hover:bg-[#7a3fee] text-white py-3 px-6 border-4 border-black font-black uppercase tracking-tight transition-colors",children:"Let's Go!"})]})]})})]})})}function S4(){const t=Array.from({length:50}),e=["#8A4FFF","#FF7A59","#FFD700","#00FF00","#00FFFF","#FF00FF"];return l.jsx("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:t.map((r,s)=>l.jsx(U.div,{initial:{x:typeof window<"u"?Math.random()*window.innerWidth:0,y:-20,rotate:0,opacity:1},animate:{y:typeof window<"u"?window.innerHeight+20:1e3,x:typeof window<"u"?Math.random()*window.innerWidth+(Math.random()-.5)*200:0,rotate:Math.random()*720-360,opacity:[1,1,0]},transition:{duration:Math.random()*2+2,delay:Math.random()*.5,ease:"easeIn"},className:"absolute w-3 h-3",style:{backgroundColor:e[Math.floor(Math.random()*e.length)],transform:`rotate(${Math.random()*360}deg)`}},s))})}function N4(){const{user:t,streetUser:e,loading:r,needsContract:s,needsOnboarding:o,signIn:a,signOut:u,markOnboardingComplete:d}=K2(),[f,p]=k.useState("welcome"),[v,g]=k.useState(null),[x,b]=k.useState(null),[w,F]=k.useState(!1),[_,j]=k.useState(!1),[S,A]=k.useState(null);k.useEffect(()=>{T()},[]),k.useEffect(()=>{e&&I()},[e]),k.useEffect(()=>{const ee=je=>{const{previousRank:pe,newRank:oe,totalXP:te}=je.detail;A({previousRank:pe,newRank:oe,totalXP:te}),j(!0)};return window.addEventListener("rank-up",ee),()=>window.removeEventListener("rank-up",ee)},[]),k.useEffect(()=>{r||(t?s&&e?p("contract"):o?p("onboarding"):e&&(f==="welcome"||f==="login"||f==="contract"||f==="onboarding")&&p("dashboard"):p("welcome"))},[t,e,r,s,o]);async function T(){try{await G2(),F(!0)}catch(ee){console.error("Failed to initialize app:",ee),F(!0)}}async function I(){try{if(!$o.isNativePlatform()){console.log("Push notifications not available on web");return}let ee=await ti.checkPermissions();if(ee.receive==="prompt"&&(ee=await ti.requestPermissions()),ee.receive!=="granted")throw new Error("User denied push notifications permission");await ti.register();const je=await ti.getDeliveryTokens();if(je.tokens.length>0){const pe=je.tokens[0];if(console.log("Push token:",pe),e){const{createClient:oe}=await Oo(async()=>{const{createClient:$}=await Promise.resolve().then(()=>q2);return{createClient:$}},void 0);await oe().from("street_users").update({push_token:pe}).eq("id",e.id)}}ti.addListener("pushNotificationReceived",pe=>{if(console.log("Push received:",pe),pe.title){const{toast:oe}=require("sonner");oe.info(`${pe.title}: ${pe.body}`)}pe.data?.route&&p(pe.data.route)}),ti.addListener("pushNotificationActionPerformed",pe=>{console.log("Push action performed:",pe),pe.notification.data?.route&&p(pe.notification.data.route)})}catch(ee){console.error("Error initializing push notifications:",ee)}}async function V(ee,je){console.log("handleLogin called with email:",ee);const{error:pe}=await a(ee,je);if(console.log("signIn result - error:",pe),pe)throw console.error("Login error in handleLogin:",pe),pe}function M(ee){p(ee)}function O(){d(),p("dashboard")}function X(ee){g(ee),p("active-run")}function le(){g(null),p("dashboard")}function Ee(){p(v?"active-run":"pipeline")}const Z=e&&!r&&["dashboard","pipeline","missions","leaderboard","profile"].includes(f);return!w||r?l.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block border-4 border-[#F6F2EE] p-8 mb-4 bg-[#151515] animate-pulse",children:l.jsx("h1",{className:"text-5xl font-black text-[#8A4FFF] tracking-tight",children:"PP"})}),l.jsx("p",{className:"text-[#A0A0A0] uppercase tracking-widest text-sm",children:"Loading..."})]})}):l.jsxs(l.Fragment,{children:[l.jsx(wk,{position:"top-center",toastOptions:{style:{background:"#151515",color:"#F6F2EE",border:"3px solid #8A4FFF"}}}),l.jsxs("div",{className:"min-h-screen bg-[#050505]",children:[f==="welcome"&&l.jsx(a5,{onNavigateToLogin:()=>p("login"),onNavigateToApply:()=>p("apply")}),f==="login"&&l.jsx(h5,{onBack:()=>p("welcome"),onLogin:V}),f==="apply"&&l.jsx(p5,{onBack:()=>p("welcome")}),f==="contract"&&e&&l.jsx(L5,{userId:e.id,onComplete:()=>p("onboarding")}),f==="onboarding"&&l.jsx(M5,{onComplete:O}),e&&l.jsxs(l.Fragment,{children:[f==="dashboard"&&l.jsx(B5,{user:e,onNavigate:M}),f==="start-run"&&l.jsx(W5,{user:e,onBack:()=>p("dashboard"),onRunStarted:X}),f==="active-run"&&v&&l.jsx(G5,{runId:v,onBack:()=>p("dashboard"),onAddQuickLead:()=>p("add-lead"),onAddFullLead:()=>p("add-lead"),onEndRun:le}),f==="pipeline"&&l.jsx(Y5,{user:e,onBack:()=>p("dashboard"),onAddLead:()=>p("add-lead"),onViewLead:ee=>{b(ee),p("lead-details")}}),f==="lead-details"&&x&&l.jsx(rP,{leadId:x,user:e,onBack:()=>p("pipeline"),onLeadUpdated:()=>{}}),f==="add-lead"&&l.jsx(Q5,{user:e,runId:v||void 0,onBack:()=>{p(v?"active-run":"pipeline")},onSuccess:Ee}),f==="missions"&&l.jsx(nP,{user:e,onBack:()=>p("dashboard")}),f==="leaderboard"&&l.jsx(sP,{user:e,onBack:()=>p("dashboard")}),f==="ranks"&&l.jsx(iP,{user:e,onBack:()=>p("dashboard")}),f==="profile"&&l.jsx(oP,{user:e,onBack:()=>p("dashboard"),onSettings:()=>p("settings"),onLogout:async()=>{await u(),p("welcome")}}),f==="settings"&&l.jsx(E4,{user:e,onBack:()=>p("profile"),onNavigate:ee=>p(ee)}),f==="notifications"&&l.jsx(cP,{user:e,onBack:()=>p("dashboard")}),f==="earnings"&&l.jsx(dP,{user:e,onBack:()=>p("dashboard")}),f==="hq-admin"&&e?.role==="hq_admin"&&l.jsx(F4,{})]}),Z&&l.jsx("div",{className:"pb-20",children:l.jsx(k4,{activeScreen:f,onNavigate:M})})]}),S&&l.jsx(A4,{isOpen:_,previousRank:S.previousRank,newRank:S.newRank,totalXP:S.totalXP,onClose:()=>{j(!1),A(null)}})]})}JE.createRoot(document.getElementById("root")).render(l.jsx(N4,{}));export{My as W,L4 as a};
